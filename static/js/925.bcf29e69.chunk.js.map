{"version":3,"file":"static/js/925.bcf29e69.chunk.js","mappings":"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","sources":["components/ProjectModal/ProjectAI.js","components/ProjectModal/TerminalComponent.js","components/ProjectModal/ArchitectureDiagramSimple.js","components/ProjectModal/ArchitectureDiagramRAG.js","components/ProjectModal/ArchitectureDiagram.js","components/ProjectModal/BeforeAfterSlider.js","components/ProjectModal/Timeline.js","components/ProjectModal/LoadingSkeleton.js","components/ProjectModal/ProjectModal.js"],"sourcesContent":["// import React, {\n//   useState,\n//   useEffect,\n//   useRef,\n//   useCallback,\n//   useMemo,\n// } from \"react\";\n// import \"./ProjectAI.css\";\n\n// // ============================================\n// // SMART CHIPS\n// // ============================================\n// const getChipsForTab = (tabName, projectName) => {\n//   const base = {\n//     \"README.md\": [\n//       `Summarize ${projectName}`,\n//       \"What's unique about this?\",\n//       \"Biggest challenge?\",\n//     ],\n//     \"PROBLEM.md\": [\n//       \"Why was this important?\",\n//       \"Existing solutions?\",\n//       \"User pain point?\",\n//     ],\n//     \"SOLUTION.md\": [\n//       \"Explain the architecture\",\n//       \"Why this tech stack?\",\n//       \"How does data flow?\",\n//     ],\n//     \"tech-stack.json\": [\n//       \"Why these tools?\",\n//       \"Any trade-offs?\",\n//       \"What would you change?\",\n//     ],\n//     \"impact.md\": [\"Key metrics?\", \"How was success measured?\", \"What's next?\"],\n//   };\n//   return base[tabName] || base[\"README.md\"];\n// };\n\n// // ============================================\n// // NARRATOR SCRIPT\n// // ============================================\n// const getNarratorScript = (project) => {\n//   const d = project?.details || {};\n//   return [\n//     {\n//       title: \"Intro\",\n//       text: `Let me tell you about ${project.name}. ${project.description}`,\n//       tab: \"README.md\",\n//     },\n//     {\n//       title: \"Problem\",\n//       text: `So, here's the problem it solves. ${\n//         d.story?.problem ||\n//         d.problem ||\n//         \"This project addresses a real-world challenge.\"\n//       }`,\n//       tab: \"PROBLEM.md\",\n//     },\n//     {\n//       title: \"Solution\",\n//       text: `And here's how I solved it. ${\n//         d.story?.solution ||\n//         d.solution ||\n//         \"I built a solution using modern technologies.\"\n//       }`,\n//       tab: \"SOLUTION.md\",\n//     },\n//     {\n//       title: \"Tech\",\n//       text: `For the tech stack, I used ${\n//         project.languages?.map((l) => l.name).join(\", and \") ||\n//         \"modern technologies\"\n//       }. Each was chosen for a specific reason.`,\n//       tab: \"tech-stack.json\",\n//     },\n//     {\n//       title: \"Impact\",\n//       text: `Now for the results. ${\n//         d.impact?.[0] || \"This project made a meaningful impact.\"\n//       }`,\n//       tab: \"impact.md\",\n//     },\n//   ];\n// };\n// // ============================================\n// // MAIN COMPONENT\n// // ============================================\n// const ProjectAI = ({\n//   project,\n//   activeTab,\n//   scrollProgress,\n//   onTabChange,\n//   onOpenSiri,\n//   isVisible,\n// }) => {\n//   const [isExpanded, setIsExpanded] = useState(false);\n//   const [hasHinted, setHasHinted] = useState(false);\n//   const [showHint, setShowHint] = useState(false);\n//   const [hintDismissed, setHintDismissed] = useState(false);\n//   const [activeMode, setActiveMode] = useState(\"narrator\"); // \"chips\" or \"narrator\"\n//   const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n//   const [narratorPlaying, setNarratorPlaying] = useState(false);\n//   const [narratorStep, setNarratorStep] = useState(0);\n\n//   //  Refs to avoid dependency loops\n//   const onTabChangeRef = useRef(onTabChange);\n//   const onOpenSiriRef = useRef(onOpenSiri);\n//   const hintTimer = useRef(null);\n//   const narratorTimer = useRef(null);\n//   const speechTimeout = useRef(null);\n//   const utteranceRef = useRef(null); // <--- ADD THIS\n\n//   const chips = useMemo(() => getChipsForTab(activeTab, project?.name), [\n//     activeTab,\n//     project?.name,\n//   ]);\n//   const narratorScript = useMemo(() => getNarratorScript(project), [project]);\n\n//   // ---- Keep refs updated ----\n//   useEffect(() => {\n//     onTabChangeRef.current = onTabChange;\n//   }, [onTabChange]);\n//   useEffect(() => {\n//     onOpenSiriRef.current = onOpenSiri;\n//   }, [onOpenSiri]);\n\n//   // // ---- Mobile detection ----\n//   // useEffect(() => {\n//   //   const check = () => setIsMobile(window.innerWidth <= 768);\n//   //   window.addEventListener(\"resize\", check);\n//   //   return () => window.removeEventListener(\"resize\", check);\n//   // }, []);\n\n//   // useEffect(() => {\n//   //   if (!narratorPlaying) return;\n\n//   //   const step = narratorScript[narratorStep];\n//   //   if (!step) {\n//   //     setNarratorPlaying(false);\n//   //     return;\n//   //   }\n\n//   //   if (onTabChangeRef.current) {\n//   //     onTabChangeRef.current(step.tab);\n//   //   }\n\n//   //   const synth = window.speechSynthesis;\n//   //   if (synth) {\n//   //     synth.cancel();\n\n//   //     speechTimeout.current = setTimeout(() => {\n//   //       const voices = synth.getVoices();\n//   //       const voice = getBestVoice(voices);\n//   //       const humanText = humanizeText(step.text);\n\n//   //       const u = new SpeechSynthesisUtterance(humanText);\n\n//   //       //  Natural speech settings\n//   //       u.voice = voice;\n//   //       u.rate = 0.92; // Slightly slower = more natural\n//   //       u.pitch = 1.0; // Neutral pitch\n//   //       u.volume = 0.95; // Not max  feels softer\n\n//   //       console.log(` Voice: ${voice?.name}`);\n\n//   //       u.onend = () => {\n//   //         narratorTimer.current = setTimeout(() => {\n//   //           if (narratorStep < narratorScript.length - 1) {\n//   //             setNarratorStep((p) => p + 1);\n//   //           } else {\n//   //             setNarratorPlaying(false);\n//   //           }\n//   //         }, 1000); // 1s natural pause between sections\n//   //       };\n\n//   //       u.onerror = () => {\n//   //         narratorTimer.current = setTimeout(() => {\n//   //           if (narratorStep < narratorScript.length - 1) {\n//   //             setNarratorStep((p) => p + 1);\n//   //           } else {\n//   //             setNarratorPlaying(false);\n//   //           }\n//   //         }, 1000);\n//   //       };\n\n//   //       synth.speak(u);\n//   //     }, 200);\n//   //   }\n\n//   //   return () => {\n//   //     clearTimeout(narratorTimer.current);\n//   //     clearTimeout(speechTimeout.current);\n//   //   };\n//   // }, [narratorStep, narratorPlaying, narratorScript]);\n//   // ============================================\n//   //  FIXED NARRATOR EFFECT (Mobile GC Safe)\n//   // ============================================\n//   useEffect(() => {\n//     if (!narratorPlaying) {\n//       window.speechSynthesis?.cancel();\n//       return;\n//     }\n\n//     const step = narratorScript[narratorStep];\n//     if (!step) {\n//       setNarratorPlaying(false);\n//       return;\n//     }\n\n//     // Switch tab\n//     if (onTabChangeRef.current) {\n//       onTabChangeRef.current(step.tab);\n//     }\n\n//     const synth = window.speechSynthesis;\n\n//     // slight delay to allow tab switch to happen visually first\n//     speechTimeout.current = setTimeout(() => {\n//       if (!synth) return;\n\n//       // Cancel anything currently speaking before starting new\n//       synth.cancel();\n\n//       const voices = synth.getVoices();\n//       const voice = getBestVoice(voices);\n//       const humanText = humanizeText(step.text);\n\n//       // Create utterance\n//       const u = new SpeechSynthesisUtterance(humanText);\n\n//       //  CRITICAL FIX FOR MOBILE:\n//       // Store it in a Ref so it doesn't get garbage collected\n//       utteranceRef.current = u;\n\n//       u.voice = voice;\n//       u.rate = 0.95;\n//       u.pitch = 1.0;\n//       u.volume = 1.0; // Max volume for mobile\n\n//       // Handle when speech finishes\n//       u.onend = () => {\n//         narratorTimer.current = setTimeout(() => {\n//           if (narratorStep < narratorScript.length - 1) {\n//             setNarratorStep((p) => p + 1);\n//           } else {\n//             setNarratorPlaying(false);\n//           }\n//         }, 1200); // Wait 1.2s before next slide\n//       };\n\n//       // Handle errors (common on mobile if screen locks)\n//       u.onerror = (e) => {\n//         console.error(\"Speech error:\", e);\n//         // Fallback: Force move to next slide anyway\n//         narratorTimer.current = setTimeout(() => {\n//           if (narratorStep < narratorScript.length - 1) {\n//             setNarratorStep((p) => p + 1);\n//           } else {\n//             setNarratorPlaying(false);\n//           }\n//         }, 2000);\n//       };\n\n//       synth.speak(u);\n//     }, 300); // 300ms delay to let UI settle\n\n//     return () => {\n//       clearTimeout(narratorTimer.current);\n//       clearTimeout(speechTimeout.current);\n//       // We do NOT cancel on unmount of the effect immediately,\n//       // or it cuts off the voice when React re-renders.\n//     };\n//   }, [narratorStep, narratorPlaying, narratorScript]);\n\n//   const PREFERRED_VOICES = [\n//     // Premium neural voices (Edge/Windows)\n//     \"Microsoft Aria Online (Natural)\",\n//     \"Microsoft Jenny Online (Natural)\",\n//     \"Microsoft Guy Online (Natural)\",\n//     \"Microsoft Ana Online (Natural)\",\n\n//     // Google high-quality\n//     \"Google US English\",\n//     \"Google UK English Female\",\n//     \"Google UK English Male\",\n\n//     // macOS/iOS premium\n//     \"Samantha\",\n//     \"Karen\",\n//     \"Daniel\",\n//     \"Moira\",\n\n//     // Fallbacks\n//     \"Microsoft Zira\",\n//     \"Microsoft David\",\n//     \"Alex\",\n//   ];\n\n//   const getBestVoice = (voices) => {\n//     for (const name of PREFERRED_VOICES) {\n//       const match = voices.find((v) => v.name.includes(name));\n//       if (match) return match;\n//     }\n//     // Last resort: any English voice\n//     return (\n//       voices.find((v) => v.lang === \"en-US\") ||\n//       voices.find((v) => v.lang.startsWith(\"en\")) ||\n//       voices[0]\n//     );\n//   };\n\n//   const humanizeText = (text) => {\n//     return (\n//       text\n//         //  Remove ALL emojis\n//         .replace(/[\\u{1F600}-\\u{1F64F}]/gu, \"\")\n//         .replace(/[\\u{1F300}-\\u{1F5FF}]/gu, \"\")\n//         .replace(/[\\u{1F680}-\\u{1F6FF}]/gu, \"\")\n//         .replace(/[\\u{1F1E0}-\\u{1F1FF}]/gu, \"\")\n//         .replace(/[\\u{2600}-\\u{26FF}]/gu, \"\")\n//         .replace(/[\\u{2700}-\\u{27BF}]/gu, \"\")\n//         .replace(/[\\u{FE00}-\\u{FE0F}]/gu, \"\")\n//         .replace(/[\\u{1F900}-\\u{1F9FF}]/gu, \"\")\n//         .replace(/[\\u{1FA00}-\\u{1FA6F}]/gu, \"\")\n//         .replace(/[\\u{1FA70}-\\u{1FAFF}]/gu, \"\")\n//         .replace(/[\\u{200D}]/gu, \"\")\n//         .replace(/[\\u{20E3}]/gu, \"\")\n\n//         //  Add pause after sentences\n//         .replace(/\\. /g, \"... \")\n\n//         //  Add pause after commas\n//         .replace(/, /g, \",  \")\n\n//         //  Add pause after colons\n//         .replace(/: /g, \"...  \")\n\n//         //  Add pause after semicolons\n//         .replace(/; /g, \"...  \")\n\n//         //  Long text  add breathing pauses every ~80 chars\n//         .replace(/(.{60,100}?[\\.\\,\\;\\:]) /g, \"$1 ... \")\n\n//         // Spell out acronyms\n//         .replace(/API/g, \"A P I\")\n//         .replace(/UI/g, \"U I\")\n//         .replace(/SQL/g, \"sequel\")\n//         .replace(/NoSQL/g, \"no sequel\")\n//         .replace(/AWS/g, \"A W S\")\n//         .replace(/GCP/g, \"G C P\")\n//         .replace(/CI\\/CD/g, \"C I C D\")\n//         .replace(/REST/g, \"rest\")\n//         .replace(/MongoDB/g, \"Mongo D B\")\n//         .replace(/Node\\.js/g, \"Node JS\")\n//         .replace(/React\\.js/g, \"React JS\")\n//         .replace(/Next\\.js/g, \"Next JS\")\n//         .replace(/HTML/g, \"H T M L\")\n//         .replace(/CSS/g, \"C S S\")\n//         .replace(/LLM/g, \"L L M\")\n//         .replace(/NLP/g, \"N L P\")\n//         .replace(/ML/g, \"M L\")\n//         .replace(/AI/g, \"A I\")\n\n//         //  Clean up extra spaces\n//         .replace(/\\s{3,}/g, \"  \")\n//         .trim()\n//     );\n//   }; // ---- Hint (shows once after 30s) ----\n//   useEffect(() => {\n//     if (hasHinted || hintDismissed) return;\n//     hintTimer.current = setTimeout(() => {\n//       setShowHint(true);\n//       setHasHinted(true);\n//       setTimeout(() => setShowHint(false), 6000);\n//     }, 9000);\n//     return () => clearTimeout(hintTimer.current);\n//   }, [hasHinted, hintDismissed]);\n\n//   // ---- Handlers ----\n//   const dismissHint = useCallback(() => {\n//     setShowHint(false);\n//     setHintDismissed(true);\n//     clearTimeout(hintTimer.current);\n//   }, []);\n\n//   const toggleExpand = useCallback(() => {\n//     setIsExpanded((prev) => !prev);\n//     dismissHint();\n//   }, [dismissHint]);\n\n//   const closePanel = useCallback(() => {\n//     setIsExpanded(false);\n//     // Only stop narrator if panel closes, NOT speech\n//   }, []);\n\n//   const handleChipClick = useCallback(\n//     (chip) => {\n//       closePanel();\n//       if (onOpenSiriRef.current) onOpenSiriRef.current(chip);\n//     },\n//     [closePanel]\n//   );\n\n//   const startNarrator = useCallback(() => {\n//     setNarratorStep(0);\n//     setNarratorPlaying(true);\n//     //  Auto-close panel so content is visible\n//     setIsExpanded(false);\n//   }, []);\n\n//   const stopNarrator = useCallback(() => {\n//     setNarratorPlaying(false);\n//     setNarratorStep(0);\n//     clearTimeout(narratorTimer.current);\n//     clearTimeout(speechTimeout.current);\n//     //  Only cancel speech when user explicitly stops\n//     window.speechSynthesis?.cancel();\n//   }, []);\n\n//   // ---- Escape to close ----\n//   useEffect(() => {\n//     const handleKey = (e) => {\n//       if (e.key === \"Escape\") {\n//         if (narratorPlaying) stopNarrator();\n//         else closePanel();\n//       }\n//     };\n//     window.addEventListener(\"keydown\", handleKey);\n//     return () => window.removeEventListener(\"keydown\", handleKey);\n//   }, [closePanel, stopNarrator, narratorPlaying]);\n\n//   if (!isVisible) return null;\n\n//   // ============================================\n//   // RENDER\n//   // ============================================\n//   return (\n//     <div className=\"project-ai-wrapper\">\n//       {/* ---- Subtle hint ---- */}\n//       {showHint && !isExpanded && !narratorPlaying && (\n//         <div className=\"ai-hint\" onClick={dismissHint} role=\"status\">\n//           <span></span>\n//           <span className=\"ai-hint-text\">I can explain this project</span>\n//           <button\n//             className=\"ai-hint-dismiss\"\n//             onClick={(e) => {\n//               e.stopPropagation();\n//               dismissHint();\n//             }}\n//             aria-label=\"Dismiss\"\n//           >\n//             \n//           </button>\n//         </div>\n//       )}\n\n//       {/* ---- Narrator floating bar (when playing but panel closed) ---- */}\n//       {narratorPlaying && !isExpanded && (\n//         <div className=\"ai-narrator-bar\">\n//           <div className=\"narrator-mini-wave\">\n//             {[...Array(4)].map((_, i) => (\n//               <span key={i} className=\"mini-wave-bar\" />\n//             ))}\n//           </div>\n//           <span className=\"narrator-bar-title\">\n//             {narratorScript[narratorStep]?.title}\n//           </span>\n//           <div className=\"narrator-bar-progress\">\n//             {narratorScript.map((_, i) => (\n//               <span\n//                 key={i}\n//                 className={`progress-dot ${\n//                   i === narratorStep ? \"active\" : i < narratorStep ? \"done\" : \"\"\n//                 }`}\n//               />\n//             ))}\n//           </div>\n//           <button\n//             className=\"narrator-bar-stop\"\n//             onClick={stopNarrator}\n//             aria-label=\"Stop narration\"\n//           >\n//             \n//           </button>\n//         </div>\n//       )}\n\n//       {/* ---- AI Pill Button ---- */}\n//       {/* ---- AI Pill Button ---- */}\n//       {!narratorPlaying && (\n//         <button\n//           className={`ai-pill ${isExpanded ? \"active\" : \"\"}`}\n//           onClick={toggleExpand}\n//           aria-label={isExpanded ? \"Close AI\" : \"Open AI\"}\n//           aria-expanded={isExpanded}\n//         >\n//           <span className=\"ai-pill-icon\"></span>\n//           {/* Removed !isMobile check so it always shows */}\n//           <span className=\"ai-pill-label\">ASK AI</span>\n//         </button>\n//       )}\n\n//       {/* ---- Expanded Panel ---- */}\n//       {isExpanded && (\n//         <>\n//           {/*  Backdrop  NO blur on mobile, just catches clicks */}\n//           <div\n//             className={`ai-backdrop ${isMobile ? \"mobile\" : \"\"}`}\n//             onClick={closePanel}\n//           />\n\n//           <div className={`ai-panel ${isMobile ? \"mobile\" : \"\"}`}>\n//             <div className=\"ai-panel-header\">\n//               <div className=\"ai-panel-title\">\n//                 <span></span>\n//                 <span>JARVIS</span>\n//                 <span className=\"ai-panel-context\">{activeTab}</span>\n//               </div>\n//               <button\n//                 className=\"ai-panel-close\"\n//                 onClick={closePanel}\n//                 aria-label=\"Close\"\n//               >\n//                 \n//               </button>\n//             </div>\n\n//             <div className=\"ai-panel-modes\">\n//               <button\n//                 className={activeMode === \"chips\" ? \"active\" : \"\"}\n//                 onClick={() => setActiveMode(\"chips\")}\n//               >\n//                  Ask\n//               </button>\n//               <button\n//                 className={activeMode === \"narrator\" ? \"active\" : \"\"}\n//                 onClick={() => setActiveMode(\"narrator\")}\n//               >\n//                  Present\n//               </button>\n//               <button\n//                 onClick={() => {\n//                   closePanel();\n//                   if (onOpenSiriRef.current) onOpenSiriRef.current();\n//                 }}\n//               >\n//                  Chat\n//               </button>\n//             </div>\n\n//             <div className=\"ai-panel-body\">\n//               {activeMode === \"chips\" && (\n//                 <div className=\"ai-chips-section\">\n//                   <div className=\"ai-chips-list\">\n//                     {chips.map((chip, i) => (\n//                       <button\n//                         key={chip}\n//                         className=\"ai-chip\"\n//                         onClick={() => handleChipClick(chip)}\n//                         style={{ animationDelay: `${i * 0.06}s` }}\n//                       >\n//                         {chip}\n//                       </button>\n//                     ))}\n//                   </div>\n//                   <button\n//                     className=\"ai-custom-ask\"\n//                     onClick={() => {\n//                       closePanel();\n//                       if (onOpenSiriRef.current) onOpenSiriRef.current();\n//                     }}\n//                   >\n//                      Ask something else...\n//                   </button>\n//                 </div>\n//               )}\n\n//               {activeMode === \"narrator\" && (\n//                 <div className=\"ai-narrator-section\">\n//                   <div className=\"narrator-steps\">\n//                     {narratorScript.map((step, i) => (\n//                       <div key={i} className=\"narrator-step\">\n//                         <div className=\"narrator-step-dot\" />\n//                         <span>{step.title}</span>\n//                       </div>\n//                     ))}\n//                   </div>\n//                   <button\n//                     className=\"narrator-start-btn\"\n//                     onClick={startNarrator}\n//                   >\n//                      Auto-present this project\n//                   </button>\n//                   <p className=\"narrator-note\">\n//                     Panel will close so you can see content while it narrates\n//                   </p>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         </>\n//       )}\n//     </div>\n//   );\n// };\n\n// export default ProjectAI;\n\n// ProjectAI.js\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport \"./ProjectAI.css\";\n\n// ============================================\n// SMART CHIPS\n// ============================================\nconst getChipsForTab = (tabName, projectName) => {\n  const base = {\n    \"README.md\": [\n      `Summarize ${projectName}`,\n      \"What's unique about this?\",\n      \"Biggest challenge?\",\n    ],\n    \"PROBLEM.md\": [\n      \"Why was this important?\",\n      \"Existing solutions?\",\n      \"User pain point?\",\n    ],\n    \"SOLUTION.md\": [\n      \"Explain the architecture\",\n      \"Why this tech stack?\",\n      \"How does data flow?\",\n    ],\n    \"tech-stack.json\": [\n      \"Why these tools?\",\n      \"Any trade-offs?\",\n      \"What would you change?\",\n    ],\n    \"impact.md\": [\"Key metrics?\", \"How was success measured?\", \"What's next?\"],\n  };\n  return base[tabName] || base[\"README.md\"];\n};\n\n// ============================================\n// NARRATOR SCRIPT\n// ============================================\nconst getNarratorScript = (project) => {\n  const d = project?.details || {};\n  return [\n    {\n      title: \"Intro\",\n      text: `Let me tell you about ${project.name}. ${project.description}`,\n      tab: \"README.md\",\n    },\n    {\n      title: \"Problem\",\n      text: `So, here's the problem it solves. ${\n        d.story?.problem ||\n        d.problem ||\n        \"This project addresses a real-world challenge.\"\n      }`,\n      tab: \"PROBLEM.md\",\n    },\n    {\n      title: \"Solution\",\n      text: `And here's how I solved it. ${\n        d.story?.solution ||\n        d.solution ||\n        \"I built a solution using modern technologies.\"\n      }`,\n      tab: \"SOLUTION.md\",\n    },\n    {\n      title: \"Tech\",\n      text: `For the tech stack, I used ${\n        project.languages?.map((l) => l.name).join(\", and \") ||\n        \"modern technologies\"\n      }. Each was chosen for a specific reason.`,\n      tab: \"tech-stack.json\",\n    },\n    {\n      title: \"Impact\",\n      text: `Now for the results. ${\n        d.impact?.[0] || \"This project made a meaningful impact.\"\n      }`,\n      tab: \"impact.md\",\n    },\n  ];\n};\n\n// ============================================\n// VOICE HELPERS\n// ============================================\nconst PREFERRED_VOICES = [\n  \"Microsoft Aria Online (Natural)\",\n  \"Microsoft Jenny Online (Natural)\",\n  \"Microsoft Guy Online (Natural)\",\n  \"Microsoft Ana Online (Natural)\",\n  \"Google US English\",\n  \"Google UK English Female\",\n  \"Google UK English Male\",\n  \"Samantha\",\n  \"Karen\",\n  \"Daniel\",\n  \"Moira\",\n  \"Microsoft Zira\",\n  \"Microsoft David\",\n  \"Alex\",\n];\n\nconst getBestVoice = (voices) => {\n  for (const name of PREFERRED_VOICES) {\n    const match = voices.find((v) => v.name.includes(name));\n    if (match) return match;\n  }\n  return (\n    voices.find((v) => v.lang === \"en-US\") ||\n    voices.find((v) => v.lang.startsWith(\"en\")) ||\n    voices[0]\n  );\n};\n\nconst humanizeText = (text) => {\n  return text\n    .replace(/[\\u{1F600}-\\u{1F64F}]/gu, \"\")\n    .replace(/[\\u{1F300}-\\u{1F5FF}]/gu, \"\")\n    .replace(/[\\u{1F680}-\\u{1F6FF}]/gu, \"\")\n    .replace(/[\\u{1F1E0}-\\u{1F1FF}]/gu, \"\")\n    .replace(/[\\u{2600}-\\u{26FF}]/gu, \"\")\n    .replace(/[\\u{2700}-\\u{27BF}]/gu, \"\")\n    .replace(/[\\u{FE00}-\\u{FE0F}]/gu, \"\")\n    .replace(/[\\u{1F900}-\\u{1F9FF}]/gu, \"\")\n    .replace(/[\\u{1FA00}-\\u{1FA6F}]/gu, \"\")\n    .replace(/[\\u{1FA70}-\\u{1FAFF}]/gu, \"\")\n    .replace(/[\\u{200D}]/gu, \"\")\n    .replace(/[\\u{20E3}]/gu, \"\")\n    .replace(/\\. /g, \"... \")\n    .replace(/, /g, \",  \")\n    .replace(/: /g, \"...  \")\n    .replace(/; /g, \"...  \")\n    .replace(/(.{60,100}?[\\.\\,\\;\\:]) /g, \"$1 ... \")\n    .replace(/API/g, \"A P I\")\n    .replace(/UI/g, \"U I\")\n    .replace(/SQL/g, \"sequel\")\n    .replace(/NoSQL/g, \"no sequel\")\n    .replace(/AWS/g, \"A W S\")\n    .replace(/GCP/g, \"G C P\")\n    .replace(/CI\\/CD/g, \"C I C D\")\n    .replace(/REST/g, \"rest\")\n    .replace(/MongoDB/g, \"Mongo D B\")\n    .replace(/Node\\.js/g, \"Node JS\")\n    .replace(/React\\.js/g, \"React JS\")\n    .replace(/Next\\.js/g, \"Next JS\")\n    .replace(/HTML/g, \"H T M L\")\n    .replace(/CSS/g, \"C S S\")\n    .replace(/LLM/g, \"L L M\")\n    .replace(/NLP/g, \"N L P\")\n    .replace(/ML/g, \"M L\")\n    .replace(/AI/g, \"A I\")\n    .replace(/\\s{3,}/g, \"  \")\n    .trim();\n};\n\n// ============================================\n// Detect if device is truly mobile (touch + small screen)\n// ============================================\nconst getIsMobile = () => {\n  return (\n    window.innerWidth <= 768 ||\n    (\"ontouchstart\" in window && window.innerWidth <= 1024)\n  );\n};\n\n// ============================================\n// MAIN COMPONENT\n// ============================================\nconst ProjectAI = ({\n  project,\n  activeTab,\n  scrollProgress,\n  onTabChange,\n  onOpenSiri,\n  isVisible,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [hasHinted, setHasHinted] = useState(false);\n  const [showHint, setShowHint] = useState(false);\n  const [hintDismissed, setHintDismissed] = useState(false);\n  const [activeMode, setActiveMode] = useState(\"narrator\");\n  const [isMobile, setIsMobile] = useState(getIsMobile());\n  const [narratorPlaying, setNarratorPlaying] = useState(false);\n  const [narratorStep, setNarratorStep] = useState(0);\n  const [speechSupported, setSpeechSupported] = useState(true);\n  const [narratorPaused, setNarratorPaused] = useState(false);\n\n  // Refs\n  const onTabChangeRef = useRef(onTabChange);\n  const onOpenSiriRef = useRef(onOpenSiri);\n  const hintTimer = useRef(null);\n  const narratorTimer = useRef(null);\n  const speechTimeout = useRef(null);\n  const utteranceRef = useRef(null);\n  const fallbackTimer = useRef(null);\n  const keepAliveInterval = useRef(null);\n  const narratorPlayingRef = useRef(false);\n  const narratorStepRef = useRef(0);\n\n  const chips = useMemo(() => getChipsForTab(activeTab, project?.name), [\n    activeTab,\n    project?.name,\n  ]);\n  const narratorScript = useMemo(() => getNarratorScript(project), [project]);\n\n  // Keep refs updated\n  useEffect(() => {\n    onTabChangeRef.current = onTabChange;\n  }, [onTabChange]);\n  useEffect(() => {\n    onOpenSiriRef.current = onOpenSiri;\n  }, [onOpenSiri]);\n  useEffect(() => {\n    narratorPlayingRef.current = narratorPlaying;\n  }, [narratorPlaying]);\n  useEffect(() => {\n    narratorStepRef.current = narratorStep;\n  }, [narratorStep]);\n\n  // Mobile detection\n  useEffect(() => {\n    const check = () => setIsMobile(getIsMobile());\n    window.addEventListener(\"resize\", check);\n    window.addEventListener(\"orientationchange\", check);\n    return () => {\n      window.removeEventListener(\"resize\", check);\n      window.removeEventListener(\"orientationchange\", check);\n    };\n  }, []);\n\n  // Check speech synthesis support\n  useEffect(() => {\n    const synth = window.speechSynthesis;\n    if (!synth) {\n      setSpeechSupported(false);\n      return;\n    }\n    // Preload voices\n    const loadVoices = () => {\n      synth.getVoices();\n    };\n    loadVoices();\n    if (synth.onvoiceschanged !== undefined) {\n      synth.onvoiceschanged = loadVoices;\n    }\n  }, []);\n\n  // ============================================\n  // ADVANCE TO NEXT STEP (shared logic)\n  // ============================================\n  const advanceNarrator = useCallback(() => {\n    if (!narratorPlayingRef.current) return;\n    const currentStep = narratorStepRef.current;\n    const maxSteps = narratorScript.length;\n\n    if (currentStep < maxSteps - 1) {\n      setNarratorStep((p) => p + 1);\n    } else {\n      setNarratorPlaying(false);\n      setNarratorStep(0);\n      window.speechSynthesis?.cancel();\n    }\n  }, [narratorScript.length]);\n\n  // ============================================\n  // MOBILE KEEP-ALIVE WORKAROUND\n  // Chrome mobile pauses speech synthesis when it\n  // thinks the page is idle. This keeps it alive.\n  // ============================================\n  useEffect(() => {\n    if (!narratorPlaying || !isMobile) {\n      clearInterval(keepAliveInterval.current);\n      return;\n    }\n\n    keepAliveInterval.current = setInterval(() => {\n      const synth = window.speechSynthesis;\n      if (synth && synth.speaking) {\n        synth.pause();\n        synth.resume();\n      }\n    }, 5000);\n\n    return () => clearInterval(keepAliveInterval.current);\n  }, [narratorPlaying, isMobile]);\n\n  // ============================================\n  // NARRATOR EFFECT  MOBILE-SAFE\n  // ============================================\n  useEffect(() => {\n    if (!narratorPlaying) {\n      clearTimeout(fallbackTimer.current);\n      clearTimeout(narratorTimer.current);\n      clearTimeout(speechTimeout.current);\n      return;\n    }\n\n    const step = narratorScript[narratorStep];\n    if (!step) {\n      setNarratorPlaying(false);\n      return;\n    }\n\n    // Switch tab with a small delay for mobile rendering\n    const tabDelay = isMobile ? 150 : 50;\n    setTimeout(() => {\n      if (onTabChangeRef.current) {\n        onTabChangeRef.current(step.tab);\n      }\n    }, tabDelay);\n\n    const synth = window.speechSynthesis;\n\n    // If speech is not supported, use timer-based fallback\n    if (!synth || !speechSupported) {\n      const wordCount = step.text.split(\" \").length;\n      const readingTime = Math.max(3000, wordCount * 300);\n      fallbackTimer.current = setTimeout(() => {\n        advanceNarrator();\n      }, readingTime);\n      return () => clearTimeout(fallbackTimer.current);\n    }\n\n    // Cancel any existing speech\n    synth.cancel();\n\n    speechTimeout.current = setTimeout(\n      () => {\n        if (!narratorPlayingRef.current) return;\n\n        const voices = synth.getVoices();\n        const voice = getBestVoice(voices);\n        const humanText = humanizeText(step.text);\n\n        const u = new SpeechSynthesisUtterance(humanText);\n        utteranceRef.current = u;\n\n        u.voice = voice;\n        u.rate = isMobile ? 0.9 : 0.95;\n        u.pitch = 1.0;\n        u.volume = 1.0;\n\n        let speechEnded = false;\n\n        const handleEnd = () => {\n          if (speechEnded) return;\n          speechEnded = true;\n          clearTimeout(fallbackTimer.current);\n\n          narratorTimer.current = setTimeout(() => {\n            advanceNarrator();\n          }, 1200);\n        };\n\n        u.onend = handleEnd;\n\n        u.onerror = (e) => {\n          console.warn(\"Speech error:\", e?.error || e);\n          // On mobile, 'interrupted' errors are common and harmless\n          if (e?.error === \"interrupted\") return;\n          handleEnd();\n        };\n\n        // MOBILE FALLBACK: Set a maximum time per slide\n        // If onend never fires (common on mobile), this ensures we advance\n        const wordCount = humanText.split(\" \").length;\n        const estimatedDuration = Math.max(4000, wordCount * 350);\n        const maxWait = estimatedDuration + 3000;\n\n        fallbackTimer.current = setTimeout(() => {\n          if (!speechEnded && narratorPlayingRef.current) {\n            console.warn(\"Fallback timer triggered  advancing narrator\");\n            synth.cancel();\n            handleEnd();\n          }\n        }, maxWait);\n\n        try {\n          synth.speak(u);\n\n          // Double-check on mobile that speech actually started\n          if (isMobile) {\n            setTimeout(() => {\n              if (\n                !synth.speaking &&\n                !speechEnded &&\n                narratorPlayingRef.current\n              ) {\n                console.warn(\"Speech never started on mobile  using fallback\");\n                const fallbackTime = Math.max(3000, wordCount * 300);\n                clearTimeout(fallbackTimer.current);\n                fallbackTimer.current = setTimeout(() => {\n                  handleEnd();\n                }, fallbackTime);\n              }\n            }, 500);\n          }\n        } catch (err) {\n          console.error(\"Speech synthesis error:\", err);\n          handleEnd();\n        }\n      },\n      isMobile ? 400 : 200\n    );\n\n    return () => {\n      clearTimeout(narratorTimer.current);\n      clearTimeout(speechTimeout.current);\n      clearTimeout(fallbackTimer.current);\n    };\n  }, [\n    narratorStep,\n    narratorPlaying,\n    narratorScript,\n    isMobile,\n    speechSupported,\n    advanceNarrator,\n  ]);\n\n  // ---- Hint (shows once) ----\n  useEffect(() => {\n    if (hasHinted || hintDismissed) return;\n    hintTimer.current = setTimeout(() => {\n      setShowHint(true);\n      setHasHinted(true);\n      setTimeout(() => setShowHint(false), 6000);\n    }, 9000);\n    return () => clearTimeout(hintTimer.current);\n  }, [hasHinted, hintDismissed]);\n\n  // ---- Handlers ----\n  const dismissHint = useCallback(() => {\n    setShowHint(false);\n    setHintDismissed(true);\n    clearTimeout(hintTimer.current);\n  }, []);\n\n  const toggleExpand = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n    dismissHint();\n  }, [dismissHint]);\n\n  const closePanel = useCallback(() => {\n    setIsExpanded(false);\n  }, []);\n\n  const handleChipClick = useCallback(\n    (chip) => {\n      closePanel();\n      if (onOpenSiriRef.current) onOpenSiriRef.current(chip);\n    },\n    [closePanel]\n  );\n\n  const startNarrator = useCallback(() => {\n    // On mobile, we need a user gesture to unlock audio\n    // Try a silent utterance first to unlock\n    if (isMobile && window.speechSynthesis) {\n      const unlock = new SpeechSynthesisUtterance(\"\");\n      unlock.volume = 0;\n      window.speechSynthesis.speak(unlock);\n      window.speechSynthesis.cancel();\n    }\n\n    setNarratorStep(0);\n    setNarratorPlaying(true);\n    setNarratorPaused(false);\n    setIsExpanded(false);\n  }, [isMobile]);\n\n  const stopNarrator = useCallback(() => {\n    setNarratorPlaying(false);\n    setNarratorPaused(false);\n    setNarratorStep(0);\n    clearTimeout(narratorTimer.current);\n    clearTimeout(speechTimeout.current);\n    clearTimeout(fallbackTimer.current);\n    clearInterval(keepAliveInterval.current);\n    window.speechSynthesis?.cancel();\n  }, []);\n\n  const togglePauseNarrator = useCallback(() => {\n    const synth = window.speechSynthesis;\n    if (!synth) return;\n\n    if (narratorPaused) {\n      synth.resume();\n      setNarratorPaused(false);\n    } else {\n      synth.pause();\n      setNarratorPaused(true);\n    }\n  }, [narratorPaused]);\n\n  const skipToNext = useCallback(() => {\n    window.speechSynthesis?.cancel();\n    clearTimeout(narratorTimer.current);\n    clearTimeout(fallbackTimer.current);\n    advanceNarrator();\n  }, [advanceNarrator]);\n\n  const skipToPrev = useCallback(() => {\n    if (narratorStep > 0) {\n      window.speechSynthesis?.cancel();\n      clearTimeout(narratorTimer.current);\n      clearTimeout(fallbackTimer.current);\n      setNarratorStep((p) => p - 1);\n    }\n  }, [narratorStep]);\n\n  // ---- Escape to close ----\n  useEffect(() => {\n    const handleKey = (e) => {\n      if (e.key === \"Escape\") {\n        if (narratorPlaying) stopNarrator();\n        else closePanel();\n      }\n      // Arrow keys for narrator navigation\n      if (narratorPlaying) {\n        if (e.key === \"ArrowRight\") skipToNext();\n        if (e.key === \"ArrowLeft\") skipToPrev();\n        if (e.key === \" \") {\n          e.preventDefault();\n          togglePauseNarrator();\n        }\n      }\n    };\n    window.addEventListener(\"keydown\", handleKey);\n    return () => window.removeEventListener(\"keydown\", handleKey);\n  }, [\n    closePanel,\n    stopNarrator,\n    narratorPlaying,\n    skipToNext,\n    skipToPrev,\n    togglePauseNarrator,\n  ]);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      window.speechSynthesis?.cancel();\n      clearTimeout(narratorTimer.current);\n      clearTimeout(speechTimeout.current);\n      clearTimeout(fallbackTimer.current);\n      clearInterval(keepAliveInterval.current);\n      clearTimeout(hintTimer.current);\n    };\n  }, []);\n\n  if (!isVisible) return null;\n\n  // ============================================\n  // RENDER\n  // ============================================\n  return (\n    <div className=\"project-ai-wrapper\">\n      {/* ---- Subtle hint ---- */}\n      {showHint && !isExpanded && !narratorPlaying && (\n        <div className=\"ai-hint\" onClick={dismissHint} role=\"status\">\n          <span></span>\n          <span className=\"ai-hint-text\">I can explain this project</span>\n          <button\n            className=\"ai-hint-dismiss\"\n            onClick={(e) => {\n              e.stopPropagation();\n              dismissHint();\n            }}\n            aria-label=\"Dismiss\"\n          >\n            \n          </button>\n        </div>\n      )}\n\n      {/* ---- Narrator floating bar (when playing but panel closed) ---- */}\n      {narratorPlaying && !isExpanded && (\n        <div\n          className={`ai-narrator-bar ${isMobile ? \"mobile\" : \"\"} ${\n            narratorPaused ? \"paused\" : \"\"\n          }`}\n        >\n          <div\n            className={`narrator-mini-wave ${narratorPaused ? \"paused\" : \"\"}`}\n          >\n            {[...Array(4)].map((_, i) => (\n              <span key={i} className=\"mini-wave-bar\" />\n            ))}\n          </div>\n\n          <div className=\"narrator-bar-info\">\n            <span className=\"narrator-bar-title\">\n              {narratorScript[narratorStep]?.title}\n            </span>\n            <span className=\"narrator-bar-step-count\">\n              {narratorStep + 1} / {narratorScript.length}\n            </span>\n          </div>\n\n          <div className=\"narrator-bar-progress\">\n            {narratorScript.map((_, i) => (\n              <span\n                key={i}\n                className={`progress-dot ${\n                  i === narratorStep ? \"active\" : i < narratorStep ? \"done\" : \"\"\n                }`}\n              />\n            ))}\n          </div>\n\n          <div className=\"narrator-bar-controls\">\n            {/* Previous */}\n            <button\n              className=\"narrator-ctrl-btn\"\n              onClick={skipToPrev}\n              disabled={narratorStep === 0}\n              aria-label=\"Previous step\"\n            >\n              \n            </button>\n\n            {/* Pause / Resume */}\n            <button\n              className=\"narrator-ctrl-btn pause-btn\"\n              onClick={togglePauseNarrator}\n              aria-label={narratorPaused ? \"Resume\" : \"Pause\"}\n            >\n              {narratorPaused ? \"\" : \"\"}\n            </button>\n\n            {/* Next */}\n            <button\n              className=\"narrator-ctrl-btn\"\n              onClick={skipToNext}\n              aria-label=\"Next step\"\n            >\n              \n            </button>\n\n            {/* Stop */}\n            <button\n              className=\"narrator-bar-stop\"\n              onClick={stopNarrator}\n              aria-label=\"Stop narration\"\n            >\n              \n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* ---- AI Pill Button ---- */}\n      {!narratorPlaying && (\n        <button\n          className={`ai-pill ${isExpanded ? \"active\" : \"\"}`}\n          onClick={toggleExpand}\n          aria-label={isExpanded ? \"Close AI\" : \"Open AI\"}\n          aria-expanded={isExpanded}\n        >\n          <span className=\"ai-pill-icon\"></span>\n          <span className=\"ai-pill-label\">ASK AI</span>\n        </button>\n      )}\n\n      {/* ---- Expanded Panel ---- */}\n      {isExpanded && (\n        <>\n          <div\n            className={`ai-backdrop ${isMobile ? \"mobile\" : \"\"}`}\n            onClick={closePanel}\n          />\n\n          <div className={`ai-panel ${isMobile ? \"mobile\" : \"\"}`}>\n            {/* Drag handle for mobile */}\n            {isMobile && (\n              <div className=\"ai-panel-drag-handle\">\n                <div className=\"drag-bar\" />\n              </div>\n            )}\n\n            <div className=\"ai-panel-header\">\n              <div className=\"ai-panel-title\">\n                <span></span>\n                <span>JARVIS</span>\n                <span className=\"ai-panel-context\">{activeTab}</span>\n              </div>\n              <button\n                className=\"ai-panel-close\"\n                onClick={closePanel}\n                aria-label=\"Close\"\n              >\n                \n              </button>\n            </div>\n\n            <div className=\"ai-panel-modes\">\n              <button\n                className={activeMode === \"chips\" ? \"active\" : \"\"}\n                onClick={() => setActiveMode(\"chips\")}\n              >\n                 Ask\n              </button>\n              <button\n                className={activeMode === \"narrator\" ? \"active\" : \"\"}\n                onClick={() => setActiveMode(\"narrator\")}\n              >\n                 Present\n              </button>\n              <button\n                onClick={() => {\n                  closePanel();\n                  if (onOpenSiriRef.current) onOpenSiriRef.current();\n                }}\n              >\n                 Chat\n              </button>\n            </div>\n\n            <div className=\"ai-panel-body\">\n              {activeMode === \"chips\" && (\n                <div className=\"ai-chips-section\">\n                  <div className=\"ai-chips-list\">\n                    {chips.map((chip, i) => (\n                      <button\n                        key={chip}\n                        className=\"ai-chip\"\n                        onClick={() => handleChipClick(chip)}\n                        style={{ animationDelay: `${i * 0.06}s` }}\n                      >\n                        {chip}\n                      </button>\n                    ))}\n                  </div>\n                  <button\n                    className=\"ai-custom-ask\"\n                    onClick={() => {\n                      closePanel();\n                      if (onOpenSiriRef.current) onOpenSiriRef.current();\n                    }}\n                  >\n                     Ask something else...\n                  </button>\n                </div>\n              )}\n\n              {activeMode === \"narrator\" && (\n                <div className=\"ai-narrator-section\">\n                  {!speechSupported && (\n                    <div className=\"narrator-warning\">\n                       Voice not available on this device. Will use\n                      auto-advance instead.\n                    </div>\n                  )}\n                  <div className=\"narrator-steps\">\n                    {narratorScript.map((step, i) => (\n                      <div key={i} className=\"narrator-step\">\n                        <div className=\"narrator-step-dot\" />\n                        <span>{step.title}</span>\n                      </div>\n                    ))}\n                  </div>\n                  <button\n                    className=\"narrator-start-btn\"\n                    onClick={startNarrator}\n                  >\n                     Auto-present this project\n                  </button>\n                  <p className=\"narrator-note\">\n                    {isMobile\n                      ? \"Tap to start  uses voice narration with auto-advance\"\n                      : \"Panel will close so you can see content while it narrates\"}\n                  </p>\n                  {isMobile && (\n                    <p className=\"narrator-note\">\n                      Use controls to skip, pause, or stop\n                    </p>\n                  )}\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectAI;\n","import React, { useState, useEffect } from \"react\";\n\n// This component manages its own state.\n// Updates here will NOT cause the rest of the ProjectModal to re-render.\nconst TerminalComponent = ({ project }) => {\n  const [terminalText, setTerminalText] = useState(\"\");\n\n  useEffect(() => {\n    const commands = [\n      \"$ git clone \" + (project?.url || \"https://github.com/project\"),\n      \"$ cd \" +\n        (project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() || \"project\"),\n      \"$ npm install\",\n      \"$ npm run dev\",\n      \"\",\n      \" Ready on http://localhost:3000\",\n    ];\n    let i = 0;\n    let text = \"\";\n\n    // Faster typing for smoother feel\n    const interval = setInterval(() => {\n      if (i < commands.length) {\n        text += commands[i] + \"\\n\";\n        setTerminalText(text);\n        i++;\n      } else {\n        clearInterval(interval);\n      }\n    }, 150); // Reduced delay for snappier feel\n\n    return () => clearInterval(interval);\n  }, [project]);\n\n  return (\n    <div className=\"content-terminal\">\n      <div className=\"terminal-header\">\n        <span className=\"terminal-dot red\"></span>\n        <span className=\"terminal-dot yellow\"></span>\n        <span className=\"terminal-dot green\"></span>\n        <span className=\"terminal-title\">Terminal - zsh</span>\n      </div>\n      <pre className=\"terminal-body\">\n        {terminalText}\n        <span className=\"cursor\"></span>\n      </pre>\n    </div>\n  );\n};\n\nexport default TerminalComponent;\n","// src/components/ArchitectureDiagramSimple.js\nimport React, { useState, memo } from \"react\";\nimport \"./ArchitectureDiagram.css\"; // Uses shared CSS\n\nconst ArchitectureDiagramSimple = ({ architecture }) => {\n  const [activeNode, setActiveNode] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(true);\n\n  // Default architecture fallback\n  const defaultArchitecture = {\n    nodes: [\n      {\n        id: \"user\",\n        label: \"User\",\n        icon: \"\",\n        x: 10,\n        y: 50,\n        description: \"End user interacts with the system\",\n      },\n      {\n        id: \"frontend\",\n        label: \"Frontend\",\n        icon: \"\",\n        x: 30,\n        y: 50,\n        description: \"React/Next.js application\",\n      },\n      {\n        id: \"api\",\n        label: \"API Gateway\",\n        icon: \"\",\n        x: 50,\n        y: 50,\n        description: \"FastAPI/Express handling requests\",\n      },\n      {\n        id: \"ai\",\n        label: \"AI Engine\",\n        icon: \"\",\n        x: 70,\n        y: 30,\n        description: \"LLM processing & embeddings\",\n      },\n      {\n        id: \"db\",\n        label: \"Database\",\n        icon: \"\",\n        x: 70,\n        y: 70,\n        description: \"PostgreSQL/MongoDB storage\",\n      },\n      {\n        id: \"cloud\",\n        label: \"Cloud\",\n        icon: \"\",\n        x: 90,\n        y: 50,\n        description: \"GCP/AWS infrastructure\",\n      },\n    ],\n    connections: [\n      { from: \"user\", to: \"frontend\", label: \"HTTPS\" },\n      { from: \"frontend\", to: \"api\", label: \"REST/GraphQL\" },\n      { from: \"api\", to: \"ai\", label: \"Inference\" },\n      { from: \"api\", to: \"db\", label: \"Query\" },\n      { from: \"ai\", to: \"cloud\", label: \"Deploy\" },\n      { from: \"db\", to: \"cloud\", label: \"Hosted\" },\n    ],\n  };\n\n  const arch = architecture || defaultArchitecture;\n  return (\n    <div className=\"architecture-diagram\">\n      <div className=\"diagram-header\">\n        <h3>System Architecture</h3>\n        <button\n          className={`animate-btn ${isAnimating ? \"active\" : \"\"}`}\n          onClick={() => setIsAnimating(!isAnimating)}\n        >\n          {isAnimating ? \" Pause\" : \" Animate\"}\n        </button>\n      </div>\n\n      <svg viewBox=\"0 0 100 100\" className=\"diagram-svg\">\n        <defs>\n          {/* Gradient for connections */}\n          <linearGradient\n            id=\"connectionGradient\"\n            x1=\"0%\"\n            y1=\"0%\"\n            x2=\"100%\"\n            y2=\"0%\"\n          >\n            <stop offset=\"0%\" stopColor=\"#667eea\" />\n            <stop offset=\"100%\" stopColor=\"#764ba2\" />\n          </linearGradient>\n\n          {/* Glow filter */}\n          <filter id=\"glow\">\n            <feGaussianBlur stdDeviation=\"1\" result=\"coloredBlur\" />\n            <feMerge>\n              <feMergeNode in=\"coloredBlur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n\n          {/* Arrow marker */}\n          <marker\n            id=\"arrowhead\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#667eea\" />\n          </marker>\n        </defs>\n\n        {/* Connections */}\n        {arch.connections.map((conn, index) => {\n          const fromNode = arch.nodes.find((n) => n.id === conn.from);\n          const toNode = arch.nodes.find((n) => n.id === conn.to);\n          if (!fromNode || !toNode) return null;\n\n          const midX = (fromNode.x + toNode.x) / 2;\n          const midY = (fromNode.y + toNode.y) / 2;\n\n          return (\n            <g\n              key={index}\n              className={`connection ${isAnimating ? \"animating\" : \"\"}`}\n            >\n              {/* Connection line */}\n              <line\n                x1={fromNode.x}\n                y1={fromNode.y}\n                x2={toNode.x}\n                y2={toNode.y}\n                className=\"connection-line\"\n                markerEnd=\"url(#arrowhead)\"\n              />\n\n              {/* Animated data packet */}\n              {isAnimating && (\n                <circle r=\"0.8\" fill=\"#4ade80\" filter=\"url(#glow)\">\n                  <animateMotion\n                    dur={`${1.5 + index * 0.3}s`}\n                    repeatCount=\"indefinite\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n\n              {/* Connection label */}\n              <text x={midX} y={midY - 2} className=\"connection-label\">\n                {conn.label}\n              </text>\n            </g>\n          );\n        })}\n\n        {/* Nodes */}\n        {arch.nodes.map((node) => (\n          <g\n            key={node.id}\n            className={`node ${activeNode === node.id ? \"active\" : \"\"}`}\n            //  CRITICAL: Translate is applied to the group.\n            // The CSS must NOT override 'transform' on .node, but on .node-circle\n            transform={`translate(${node.x}, ${node.y})`}\n            onMouseEnter={() => setActiveNode(node.id)}\n            onMouseLeave={() => setActiveNode(null)}\n          >\n            {/* Node circle - This element scales on hover via CSS */}\n            <circle r=\"6\" className=\"node-circle\" />\n\n            {/* Node icon */}\n            <text className=\"node-icon\" textAnchor=\"middle\" dy=\"2\" fontSize=\"4\">\n              {node.icon}\n            </text>\n\n            {/* Node label */}\n            <text\n              className=\"node-label\"\n              textAnchor=\"middle\"\n              dy=\"12\"\n              fontSize=\"3\"\n            >\n              {node.label}\n            </text>\n          </g>\n        ))}\n      </svg>\n\n      {/* Tooltip */}\n      {activeNode && (\n        <div className=\"diagram-tooltip glassmorphism\">\n          <div className=\"tooltip-header\">\n            <span className=\"tooltip-icon\">\n              {arch.nodes.find((n) => n.id === activeNode)?.icon}\n            </span>\n            <span className=\"tooltip-title\">\n              {arch.nodes.find((n) => n.id === activeNode)?.label}\n            </span>\n          </div>\n          <p className=\"tooltip-description\">\n            {arch.nodes.find((n) => n.id === activeNode)?.description}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default memo(ArchitectureDiagramSimple);\n","// export default memo(ArchitectureDiagramRAG);\nimport React, { useState, useEffect, memo } from \"react\";\nimport \"./ArchitectureDiagramRAG.css\";\n\nconst ArchitectureDiagramRAG = () => {\n  const [activeNode, setActiveNode] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(true);\n  const [viewMode, setViewMode] = useState(\"full\");\n\n  // Demo State\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentStep, setCurrentStep] = useState(-1);\n  const [demoQuery, setDemoQuery] = useState(\"What is machine learning?\");\n\n  // Demo Steps Data\n  const demoSteps = [\n    {\n      nodeId: \"user\",\n      title: \"User Query\",\n      output: `\"${demoQuery}\"`,\n      detail: \"Natural language question submitted\",\n    },\n    {\n      nodeId: \"frontend\",\n      title: \"Frontend Processing\",\n      output: \"Validated & sanitized input\",\n      detail: \"React captures and sends to API\",\n    },\n    {\n      nodeId: \"api\",\n      title: \"API Gateway\",\n      output: \"POST /api/search { query: '...' }\",\n      detail: \"Request authenticated & routed\",\n    },\n    {\n      nodeId: \"query_processor\",\n      title: \"Query Processing\",\n      output: \"Intent: DEFINITION | Entities: ['machine learning']\",\n      detail: \"NLP analysis complete\",\n    },\n    {\n      nodeId: \"embeddings\",\n      title: \"Embedding Generation\",\n      output: \"[0.234, -0.567, 0.891, 0.123, -0.456, ...]\",\n      detail: \"1536-dim vector created (OpenAI Ada)\",\n    },\n    {\n      nodeId: \"vector_db\",\n      title: \"Vector Search\",\n      output: \"Found 847 documents  Top 5 selected\",\n      detail: \"Cosine similarity: 0.94, 0.91, 0.89...\",\n    },\n    {\n      nodeId: \"retriever\",\n      title: \"Document Retrieval\",\n      output: \"Retrieved 3 chunks (2,847 tokens)\",\n      detail: \"Sources: wiki.ml, arxiv.org, docs.ai\",\n    },\n    {\n      nodeId: \"context_builder\",\n      title: \"Context Assembly\",\n      output: \"Prompt: [System] + [Context] + [Query]\",\n      detail: \"4,096 tokens prepared for LLM\",\n    },\n    {\n      nodeId: \"llm\",\n      title: \"LLM Generation\",\n      output: `\"Machine learning is a subset of AI that enables systems to learn from data...\"`,\n      detail: \"GPT-4 response in 1.2s\",\n    },\n  ];\n\n  // Play Demo Logic\n  useEffect(() => {\n    let timer;\n    if (isPlaying && currentStep < demoSteps.length - 1) {\n      timer = setTimeout(() => {\n        setCurrentStep((prev) => prev + 1);\n      }, 2000);\n    } else if (currentStep >= demoSteps.length - 1) {\n      setTimeout(() => {\n        setIsPlaying(false);\n      }, 3000);\n    }\n    return () => clearTimeout(timer);\n  }, [isPlaying, currentStep]);\n\n  const startDemo = () => {\n    setCurrentStep(0);\n    setIsPlaying(true);\n    setIsAnimating(false);\n  };\n\n  const resetDemo = () => {\n    setCurrentStep(-1);\n    setIsPlaying(false);\n    setIsAnimating(true);\n  };\n\n  const arch = {\n    nodes: [\n      {\n        id: \"user\",\n        label: \"User\",\n        icon: \"\",\n        x: 8,\n        y: 25,\n        category: \"main\",\n        description: \"End user sends natural language queries\",\n      },\n      {\n        id: \"frontend\",\n        label: \"Frontend\",\n        icon: \"\",\n        x: 22,\n        y: 25,\n        category: \"main\",\n        description: \"React/Next.js application\",\n      },\n      {\n        id: \"api\",\n        label: \"API Gateway\",\n        icon: \"\",\n        x: 38,\n        y: 25,\n        category: \"main\",\n        description: \"FastAPI handling requests\",\n      },\n      {\n        id: \"query_processor\",\n        label: \"Query Processor\",\n        icon: \"\",\n        x: 52,\n        y: 25,\n        category: \"rag\",\n        description: \"Analyzes user queries\",\n      },\n      {\n        id: \"embeddings\",\n        label: \"Embeddings\",\n        icon: \"\",\n        x: 52,\n        y: 50,\n        category: \"rag\",\n        description: \"Text to vector conversion\",\n      },\n      {\n        id: \"vector_db\",\n        label: \"Vector Store\",\n        icon: \"\",\n        x: 68,\n        y: 50,\n        category: \"rag\",\n        description: \"Semantic similarity search\",\n      },\n      {\n        id: \"retriever\",\n        label: \"Retriever\",\n        icon: \"\",\n        x: 82,\n        y: 50,\n        category: \"rag\",\n        description: \"Fetches relevant documents\",\n      },\n      {\n        id: \"context_builder\",\n        label: \"Context Builder\",\n        icon: \"\",\n        x: 82,\n        y: 25,\n        category: \"rag\",\n        description: \"Assembles context\",\n      },\n      {\n        id: \"llm\",\n        label: \"LLM Engine\",\n        icon: \"\",\n        x: 68,\n        y: 25,\n        category: \"rag\",\n        description: \"Generates response\",\n      },\n      {\n        id: \"knowledge_base\",\n        label: \"Knowledge Base\",\n        icon: \"\",\n        x: 52,\n        y: 75,\n        category: \"data\",\n        description: \"Document storage\",\n      },\n      {\n        id: \"chunker\",\n        label: \"Chunker\",\n        icon: \"\",\n        x: 68,\n        y: 75,\n        category: \"data\",\n        description: \"Splits documents\",\n      },\n      {\n        id: \"db\",\n        label: \"Database\",\n        icon: \"\",\n        x: 22,\n        y: 75,\n        category: \"data\",\n        description: \"Metadata storage\",\n      },\n      {\n        id: \"cache\",\n        label: \"Cache\",\n        icon: \"\",\n        x: 38,\n        y: 50,\n        category: \"infra\",\n        description: \"Redis cache\",\n      },\n      {\n        id: \"cloud\",\n        label: \"Cloud\",\n        icon: \"\",\n        x: 92,\n        y: 75,\n        category: \"infra\",\n        description: \"Infrastructure\",\n      },\n    ],\n    connections: [\n      { from: \"user\", to: \"frontend\", label: \"Query\", type: \"main\" },\n      { from: \"frontend\", to: \"api\", label: \"REST\", type: \"main\" },\n      { from: \"api\", to: \"query_processor\", label: \"Process\", type: \"main\" },\n      {\n        from: \"query_processor\",\n        to: \"embeddings\",\n        label: \"Encode\",\n        type: \"rag\",\n      },\n      { from: \"embeddings\", to: \"vector_db\", label: \"Search\", type: \"rag\" },\n      { from: \"vector_db\", to: \"retriever\", label: \"Top-K\", type: \"rag\" },\n      {\n        from: \"retriever\",\n        to: \"context_builder\",\n        label: \"Chunks\",\n        type: \"rag\",\n      },\n      { from: \"context_builder\", to: \"llm\", label: \"Prompt\", type: \"rag\" },\n      { from: \"llm\", to: \"query_processor\", label: \"Response\", type: \"rag\" },\n      { from: \"knowledge_base\", to: \"chunker\", label: \"Ingest\", type: \"data\" },\n      { from: \"chunker\", to: \"embeddings\", label: \"Embed\", type: \"data\" },\n      { from: \"chunker\", to: \"vector_db\", label: \"Store\", type: \"data\" },\n      { from: \"api\", to: \"cache\", label: \"Check\", type: \"infra\" },\n      { from: \"cache\", to: \"embeddings\", label: \"Miss\", type: \"infra\" },\n      { from: \"api\", to: \"db\", label: \"Metadata\", type: \"infra\" },\n      { from: \"vector_db\", to: \"cloud\", label: \"Hosted\", type: \"infra\" },\n      { from: \"llm\", to: \"cloud\", label: \"GPU\", type: \"infra\" },\n    ],\n  };\n\n  const getVisibleData = () => {\n    if (viewMode === \"full\") return arch;\n    if (viewMode === \"rag\") {\n      return {\n        nodes: arch.nodes.filter((n) => [\"rag\", \"data\"].includes(n.category)),\n        connections: arch.connections.filter((c) =>\n          [\"rag\", \"data\"].includes(c.type)\n        ),\n      };\n    }\n    if (viewMode === \"simple\") {\n      return {\n        nodes: arch.nodes.filter((n) => n.category === \"main\"),\n        connections: arch.connections.filter((c) => c.type === \"main\"),\n      };\n    }\n    return arch;\n  };\n\n  const visibleData = getVisibleData();\n\n  const getCategoryColor = (category) => {\n    const colors = {\n      main: \"#667eea\",\n      rag: \"#f472b6\",\n      data: \"#4ade80\",\n      infra: \"#fbbf24\",\n    };\n    return colors[category] || \"#667eea\";\n  };\n\n  const getGradientId = (type) => `${type}Gradient`;\n  const getMarkerId = (type) =>\n    `arrow${type.charAt(0).toUpperCase() + type.slice(1)}`;\n  const getNodeGradientId = (category) =>\n    `nodeGradient${category.charAt(0).toUpperCase() + category.slice(1)}`;\n\n  // Check if node is currently active in demo\n  const isNodeActive = (nodeId) => {\n    if (!isPlaying && currentStep === -1) return false;\n    const stepIndex = demoSteps.findIndex((s) => s.nodeId === nodeId);\n    return stepIndex === currentStep;\n  };\n\n  // Check if node has been visited in demo\n  const isNodeVisited = (nodeId) => {\n    if (!isPlaying && currentStep === -1) return false;\n    const stepIndex = demoSteps.findIndex((s) => s.nodeId === nodeId);\n    return stepIndex < currentStep;\n  };\n\n  const currentDemoStep = currentStep >= 0 ? demoSteps[currentStep] : null;\n\n  return (\n    <div className=\"rag-architecture-diagram\">\n      {/* Header */}\n      <div className=\"rag-diagram-header\">\n        <div className=\"rag-header-left\">\n          <h3> AI Search Architecture with RAG</h3>\n          <div className=\"rag-legend\">\n            <span className=\"rag-legend-item\">\n              <span className=\"dot main\"></span>Main\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot rag\"></span>RAG\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot data\"></span>Data\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot infra\"></span>Infra\n            </span>\n          </div>\n        </div>\n        <div className=\"rag-header-controls\">\n          <div className=\"rag-view-toggle\">\n            {[\"simple\", \"rag\", \"full\"].map((mode) => (\n              <button\n                key={mode}\n                className={`rag-view-btn ${viewMode === mode ? \"active\" : \"\"}`}\n                onClick={() => setViewMode(mode)}\n                disabled={isPlaying}\n              >\n                {mode.charAt(0).toUpperCase() + mode.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          {/* Demo Button */}\n          {!isPlaying && currentStep === -1 ? (\n            <button className=\"demo-play-btn\" onClick={startDemo}>\n               Play Demo\n            </button>\n          ) : (\n            <button className=\"demo-reset-btn\" onClick={resetDemo}>\n               Reset\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Demo Query Input */}\n      {!isPlaying && currentStep === -1 && (\n        <div className=\"demo-query-input\">\n          <span className=\"query-label\">Demo Query:</span>\n          <input\n            type=\"text\"\n            value={demoQuery}\n            onChange={(e) => setDemoQuery(e.target.value)}\n            placeholder=\"Enter a sample query...\"\n          />\n        </div>\n      )}\n\n      {/* Demo Progress Bar */}\n      {(isPlaying || currentStep >= 0) && (\n        <div className=\"demo-progress\">\n          <div className=\"demo-progress-bar\">\n            <div\n              className=\"demo-progress-fill\"\n              style={{\n                width: `${((currentStep + 1) / demoSteps.length) * 100}%`,\n              }}\n            />\n          </div>\n          <div className=\"demo-progress-steps\">\n            {demoSteps.map((step, i) => (\n              <div\n                key={i}\n                className={`demo-step-dot ${\n                  i === currentStep ? \"active\" : \"\"\n                } ${i < currentStep ? \"done\" : \"\"}`}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Live Output Panel */}\n      {currentDemoStep && (\n        <div className=\"demo-output-panel\">\n          <div className=\"demo-output-header\">\n            <span className=\"demo-step-badge\">\n              Step {currentStep + 1}/{demoSteps.length}\n            </span>\n            <span className=\"demo-step-title\">{currentDemoStep.title}</span>\n          </div>\n          <div className=\"demo-output-content\">\n            <div className=\"demo-output-label\">Output:</div>\n            <code className=\"demo-output-code\">{currentDemoStep.output}</code>\n          </div>\n          <div className=\"demo-output-detail\">{currentDemoStep.detail}</div>\n        </div>\n      )}\n\n      {/* Pipeline Steps */}\n      <div className=\"rag-pipeline-steps\">\n        {[\"Query\", \"Embed\", \"Search\", \"Retrieve\", \"Context\", \"Generate\"].map(\n          (step, i) => (\n            <React.Fragment key={step}>\n              <div\n                className={`rag-pipeline-step ${\n                  currentStep >= i * 1.5 ? \"active\" : \"\"\n                }`}\n              >\n                <span className=\"step-num\">{i + 1}</span>\n                <span className=\"step-label\">{step}</span>\n              </div>\n              {i < 5 && <span className=\"step-arrow\"></span>}\n            </React.Fragment>\n          )\n        )}\n      </div>\n\n      {/* SVG Diagram */}\n      <svg\n        viewBox=\"0 0 100 90\"\n        className=\"rag-diagram-svg\"\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <defs>\n          {/* Gradients */}\n          <linearGradient id=\"mainGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#667eea\" />\n            <stop offset=\"100%\" stopColor=\"#764ba2\" />\n          </linearGradient>\n          <linearGradient id=\"ragGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#ec4899\" />\n            <stop offset=\"100%\" stopColor=\"#f472b6\" />\n          </linearGradient>\n          <linearGradient id=\"dataGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#22c55e\" />\n            <stop offset=\"100%\" stopColor=\"#4ade80\" />\n          </linearGradient>\n          <linearGradient id=\"infraGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#f59e0b\" />\n            <stop offset=\"100%\" stopColor=\"#fbbf24\" />\n          </linearGradient>\n\n          {/* Active Gradient (for demo) */}\n          <radialGradient id=\"activeNodeGradient\" cx=\"50%\" cy=\"50%\">\n            <stop offset=\"0%\" stopColor=\"#fef08a\" />\n            <stop offset=\"50%\" stopColor=\"#facc15\" />\n            <stop offset=\"100%\" stopColor=\"#eab308\" />\n          </radialGradient>\n\n          {/* Node Gradients */}\n          <radialGradient id=\"nodeGradientMain\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#818cf8\" />\n            <stop offset=\"100%\" stopColor=\"#667eea\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientRag\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#f9a8d4\" />\n            <stop offset=\"100%\" stopColor=\"#ec4899\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientData\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#86efac\" />\n            <stop offset=\"100%\" stopColor=\"#22c55e\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientInfra\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#fcd34d\" />\n            <stop offset=\"100%\" stopColor=\"#f59e0b\" />\n          </radialGradient>\n\n          {/* Glow Filters */}\n          <filter id=\"ragGlow\">\n            <feGaussianBlur stdDeviation=\"0.8\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n          <filter id=\"activeGlow\">\n            <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n\n          {/* Arrow Markers */}\n          <marker\n            id=\"arrowMain\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#667eea\" />\n          </marker>\n          <marker\n            id=\"arrowRag\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#f472b6\" />\n          </marker>\n          <marker\n            id=\"arrowData\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#4ade80\" />\n          </marker>\n          <marker\n            id=\"arrowInfra\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#fbbf24\" />\n          </marker>\n        </defs>\n\n        {/* Background Grid */}\n        <pattern\n          id=\"ragGrid\"\n          width=\"10\"\n          height=\"10\"\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <path\n            d=\"M 10 0 L 0 0 0 10\"\n            fill=\"none\"\n            stroke=\"rgba(255,255,255,0.03)\"\n            strokeWidth=\"0.3\"\n          />\n        </pattern>\n        <rect width=\"100\" height=\"90\" fill=\"url(#ragGrid)\" />\n\n        {/* Connections */}\n        {visibleData.connections.map((conn, index) => {\n          const fromNode = arch.nodes.find((n) => n.id === conn.from);\n          const toNode = arch.nodes.find((n) => n.id === conn.to);\n          if (!fromNode || !toNode) return null;\n\n          const midX = (fromNode.x + toNode.x) / 2;\n          const midY = (fromNode.y + toNode.y) / 2;\n\n          // Check if this connection is part of the demo flow\n          const fromStepIndex = demoSteps.findIndex(\n            (s) => s.nodeId === conn.from\n          );\n          const toStepIndex = demoSteps.findIndex((s) => s.nodeId === conn.to);\n          const isActiveConnection =\n            fromStepIndex === currentStep - 1 && toStepIndex === currentStep;\n\n          return (\n            <g\n              key={`${conn.from}-${conn.to}`}\n              className={`rag-connection ${isAnimating ? \"animating\" : \"\"} ${\n                isActiveConnection ? \"demo-active\" : \"\"\n              }`}\n            >\n              <line\n                x1={fromNode.x}\n                y1={fromNode.y}\n                x2={toNode.x}\n                y2={toNode.y}\n                stroke={\n                  isActiveConnection\n                    ? \"#facc15\"\n                    : `url(#${getGradientId(conn.type)})`\n                }\n                strokeWidth={isActiveConnection ? \"0.8\" : \"0.4\"}\n                opacity={isActiveConnection ? \"1\" : \"0.6\"}\n                markerEnd={`url(#${getMarkerId(conn.type)})`}\n              />\n              {isAnimating && !isPlaying && (\n                <circle\n                  r=\"0.7\"\n                  fill={getCategoryColor(conn.type)}\n                  filter=\"url(#ragGlow)\"\n                >\n                  <animateMotion\n                    dur={`${1.5 + (index % 5) * 0.3}s`}\n                    repeatCount=\"indefinite\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n              {/* Demo animated packet */}\n              {isActiveConnection && (\n                <circle r=\"1.2\" fill=\"#facc15\" filter=\"url(#activeGlow)\">\n                  <animateMotion\n                    dur=\"0.8s\"\n                    repeatCount=\"1\"\n                    fill=\"freeze\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n              <text\n                x={midX}\n                y={midY - 1.5}\n                fontSize=\"1.5\"\n                fill=\"rgba(255,255,255,0.5)\"\n                textAnchor=\"middle\"\n              >\n                {conn.label}\n              </text>\n            </g>\n          );\n        })}\n\n        {/* Nodes */}\n        {visibleData.nodes.map((node) => {\n          const isActive = isNodeActive(node.id);\n          const isVisited = isNodeVisited(node.id);\n\n          return (\n            <g\n              key={node.id}\n              transform={`translate(${node.x}, ${node.y})`}\n              onMouseEnter={() => !isPlaying && setActiveNode(node.id)}\n              onMouseLeave={() => setActiveNode(null)}\n              style={{ cursor: \"pointer\" }}\n              className={`rag-node ${activeNode === node.id ? \"hover\" : \"\"} ${\n                isActive ? \"demo-active\" : \"\"\n              } ${isVisited ? \"demo-visited\" : \"\"}`}\n            >\n              {/* Active pulse for demo */}\n              {isActive && (\n                <>\n                  <circle\n                    r=\"9\"\n                    fill=\"none\"\n                    stroke=\"#facc15\"\n                    strokeWidth=\"0.5\"\n                    opacity=\"0.8\"\n                  >\n                    <animate\n                      attributeName=\"r\"\n                      from=\"6\"\n                      to=\"12\"\n                      dur=\"0.8s\"\n                      repeatCount=\"indefinite\"\n                    />\n                    <animate\n                      attributeName=\"opacity\"\n                      from=\"0.8\"\n                      to=\"0\"\n                      dur=\"0.8s\"\n                      repeatCount=\"indefinite\"\n                    />\n                  </circle>\n                  <circle\n                    r=\"7\"\n                    fill=\"none\"\n                    stroke=\"#facc15\"\n                    strokeWidth=\"0.3\"\n                    opacity=\"0.5\"\n                  >\n                    <animate\n                      attributeName=\"r\"\n                      from=\"6\"\n                      to=\"10\"\n                      dur=\"0.6s\"\n                      repeatCount=\"indefinite\"\n                    />\n                    <animate\n                      attributeName=\"opacity\"\n                      from=\"0.5\"\n                      to=\"0\"\n                      dur=\"0.6s\"\n                      repeatCount=\"indefinite\"\n                    />\n                  </circle>\n                </>\n              )}\n\n              {/* Visited checkmark glow */}\n              {isVisited && <circle r=\"6\" fill=\"rgba(74, 222, 128, 0.2)\" />}\n\n              {/* Node circle */}\n              <circle\n                r=\"5\"\n                fill={\n                  isActive\n                    ? \"url(#activeNodeGradient)\"\n                    : `url(#${getNodeGradientId(node.category)})`\n                }\n                filter={isActive ? \"url(#activeGlow)\" : \"url(#ragGlow)\"}\n                stroke={isVisited ? \"#4ade80\" : \"none\"}\n                strokeWidth={isVisited ? \"0.5\" : \"0\"}\n              />\n\n              {/* Icon */}\n              <text textAnchor=\"middle\" dy=\"1.5\" fontSize=\"3\" fill=\"#fff\">\n                {isVisited && !isActive ? \"\" : node.icon}\n              </text>\n\n              {/* Label */}\n              <text\n                textAnchor=\"middle\"\n                dy=\"10\"\n                fontSize=\"2\"\n                fill={isActive ? \"#facc15\" : \"rgba(255,255,255,0.9)\"}\n                fontWeight=\"500\"\n              >\n                {node.label}\n              </text>\n            </g>\n          );\n        })}\n      </svg>\n\n      {/* Hover Tooltip (only when not in demo) */}\n      {activeNode && !isPlaying && currentStep === -1 && (\n        <div\n          className={`rag-tooltip tooltip-${\n            arch.nodes.find((n) => n.id === activeNode)?.category\n          }`}\n        >\n          <div className=\"rag-tooltip-header\">\n            <span className=\"rag-tooltip-icon\">\n              {arch.nodes.find((n) => n.id === activeNode)?.icon}\n            </span>\n            <div>\n              <div className=\"rag-tooltip-title\">\n                {arch.nodes.find((n) => n.id === activeNode)?.label}\n              </div>\n              <span\n                className={`rag-tooltip-badge ${\n                  arch.nodes.find((n) => n.id === activeNode)?.category\n                }`}\n              >\n                {arch.nodes\n                  .find((n) => n.id === activeNode)\n                  ?.category?.toUpperCase()}\n              </span>\n            </div>\n          </div>\n          <p className=\"rag-tooltip-desc\">\n            {arch.nodes.find((n) => n.id === activeNode)?.description}\n          </p>\n        </div>\n      )}\n\n      {/* Final Result Panel */}\n      {currentStep === demoSteps.length - 1 && (\n        <div className=\"demo-final-result\">\n          <div className=\"demo-final-header\">\n            <span></span> Query Complete!\n          </div>\n          <div className=\"demo-final-query\">\n            <strong>Q:</strong> {demoQuery}\n          </div>\n          <div className=\"demo-final-answer\">\n            <strong>A:</strong> Machine learning is a subset of artificial\n            intelligence that enables systems to automatically learn and improve\n            from experience without being explicitly programmed...\n          </div>\n          <div className=\"demo-final-stats\">\n            <span> 1.2s</span>\n            <span> 3 sources</span>\n            <span> 94% confidence</span>\n          </div>\n        </div>\n      )}\n\n      {/* Info Box (hidden during demo) */}\n      {!isPlaying && currentStep === -1 && (\n        <div className=\"rag-info-box\">\n          <div className=\"rag-info-title\"> RAG Benefits</div>\n          <ul>\n            <li> Grounded responses</li>\n            <li> Up-to-date knowledge</li>\n            <li> Reduced hallucinations</li>\n            <li> Domain-specific accuracy</li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default memo(ArchitectureDiagramRAG);\n","import React, { memo } from \"react\";\nimport ArchitectureDiagramSimple from \"./ArchitectureDiagramSimple\";\nimport ArchitectureDiagramRAG from \"./ArchitectureDiagramRAG\";\n\nconst ArchitectureDiagram = ({ architecture, projectId }) => {\n  console.log(\"Current Project ID:\", projectId); // Debug log\n\n  // Check for string \"1\" or number 1\n  if (projectId === \"1\" || projectId === 1) {\n    //  CORRECT: No props passed. It uses its internal RAG data.\n    return <ArchitectureDiagramRAG />;\n  }\n\n  //  CORRECT: Passes props for other projects\n  return <ArchitectureDiagramSimple architecture={architecture} />;\n};\n\nexport default memo(ArchitectureDiagram);\n","// import React, { useState, useRef, memo } from \"react\";\n// import \"./BeforeAfterSlider.css\";\n\n// const BeforeAfterSlider = ({ before, after }) => {\n//   const [sliderPosition, setSliderPosition] = useState(50);\n//   const [isDragging, setIsDragging] = useState(false);\n//   const containerRef = useRef(null);\n\n//   const handleMove = (clientX) => {\n//     if (!containerRef.current) return;\n\n//     const rect = containerRef.current.getBoundingClientRect();\n//     const x = clientX - rect.left;\n//     const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));\n//     setSliderPosition(percentage);\n//   };\n\n//   const handleMouseMove = (e) => {\n//     if (!isDragging) return;\n//     handleMove(e.clientX);\n//   };\n\n//   const handleTouchMove = (e) => {\n//     if (!isDragging) return;\n//     handleMove(e.touches[0].clientX);\n//   };\n\n//   const defaultBefore = {\n//     title: \"The Problem\",\n//     icon: \"\",\n//     points: [\n//       \"Manual process taking 7+ hours\",\n//       \"Error-prone and inconsistent\",\n//       \"Couldn't scale with growth\",\n//       \"High operational costs\",\n//     ],\n//     color: \"#ef4444\",\n//   };\n\n//   const defaultAfter = {\n//     title: \"The Solution\",\n//     icon: \"\",\n//     points: [\n//       \"Automated in under 5 minutes\",\n//       \"95% accuracy rate\",\n//       \"Infinitely scalable\",\n//       \"80% cost reduction\",\n//     ],\n//     color: \"#22c55e\",\n//   };\n\n//   const beforeData = before || defaultBefore;\n//   const afterData = after || defaultAfter;\n\n//   return (\n//     <div\n//       ref={containerRef}\n//       className=\"before-after-slider\"\n//       onMouseMove={handleMouseMove}\n//       onMouseUp={() => setIsDragging(false)}\n//       onMouseLeave={() => setIsDragging(false)}\n//       onTouchMove={handleTouchMove}\n//       onTouchEnd={() => setIsDragging(false)}\n//     >\n//       {/* Before Section */}\n//       <div\n//         className=\"slider-section before\"\n//         style={{\n//           clipPath: `inset(0 ${100 - sliderPosition}% 0 0)`,\n//           backgroundColor: `${beforeData.color}15`,\n//         }}\n//       >\n//         <div className=\"section-content\">\n//           <div className=\"section-header\">\n//             <span className=\"section-icon\">{beforeData.icon}</span>\n//             <h4 style={{ color: beforeData.color }}>{beforeData.title}</h4>\n//           </div>\n//           <ul className=\"section-points\">\n//             {beforeData.points.map((point, i) => (\n//               <li key={i}>\n//                 <span\n//                   className=\"point-icon\"\n//                   style={{ color: beforeData.color }}\n//                 >\n//                   \n//                 </span>\n//                 {point}\n//               </li>\n//             ))}\n//           </ul>\n//         </div>\n//         <div\n//           className=\"section-label before-label\"\n//           style={{ borderColor: beforeData.color }}\n//         >\n//           BEFORE\n//         </div>\n//       </div>\n\n//       {/* After Section */}\n//       <div\n//         className=\"slider-section after\"\n//         style={{\n//           clipPath: `inset(0 0 0 ${sliderPosition}%)`,\n//           backgroundColor: `${afterData.color}15`,\n//         }}\n//       >\n//         <div className=\"section-content\">\n//           <div className=\"section-header\">\n//             <span className=\"section-icon\">{afterData.icon}</span>\n//             <h4 style={{ color: afterData.color }}>{afterData.title}</h4>\n//           </div>\n//           <ul className=\"section-points\">\n//             {afterData.points.map((point, i) => (\n//               <li key={i}>\n//                 <span className=\"point-icon\" style={{ color: afterData.color }}>\n//                   \n//                 </span>\n//                 {point}\n//               </li>\n//             ))}\n//           </ul>\n//         </div>\n//         <div\n//           className=\"section-label after-label\"\n//           style={{ borderColor: afterData.color }}\n//         >\n//           AFTER\n//         </div>\n//       </div>\n\n//       {/* Slider Handle */}\n//       <div\n//         className=\"slider-handle\"\n//         style={{ left: `${sliderPosition}%` }}\n//         onMouseDown={() => setIsDragging(true)}\n//         onTouchStart={() => setIsDragging(true)}\n//       >\n//         <div className=\"handle-line\"></div>\n//         <div className=\"handle-circle\">\n//           <span className=\"handle-arrows\"> </span>\n//         </div>\n//         <div className=\"handle-line\"></div>\n//       </div>\n\n//       {/* Instructions */}\n//       <div className=\"slider-instructions\">\n//         <span> Drag to compare </span>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default memo(BeforeAfterSlider);\nimport React, { useState, useRef, useCallback, useEffect } from \"react\";\nimport \"./BeforeAfterSlider.css\";\n\nconst BeforeAfterSlider = ({ before, after }) => {\n  const [sliderPosition, setSliderPosition] = useState(50);\n  const [isDragging, setIsDragging] = useState(false);\n  const containerRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  const targetPositionRef = useRef(50);\n\n  // Smooth update using RAF\n  const updatePosition = useCallback(() => {\n    setSliderPosition(targetPositionRef.current);\n  }, []);\n\n  const handleMove = useCallback(\n    (clientX) => {\n      if (!containerRef.current) return;\n\n      const rect = containerRef.current.getBoundingClientRect();\n      const x = clientX - rect.left;\n      const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));\n\n      // Cancel previous animation frame\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n\n      // Update target and request new frame\n      targetPositionRef.current = percentage;\n      animationFrameRef.current = requestAnimationFrame(updatePosition);\n    },\n    [updatePosition]\n  );\n\n  const handleMouseMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      e.preventDefault();\n      handleMove(e.clientX);\n    },\n    [isDragging, handleMove]\n  );\n\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      handleMove(e.touches[0].clientX);\n    },\n    [isDragging, handleMove]\n  );\n\n  const startDragging = useCallback(() => {\n    setIsDragging(true);\n  }, []);\n\n  const stopDragging = useCallback(() => {\n    setIsDragging(false);\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n  }, []);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  // Add global mouse/touch listeners when dragging\n  useEffect(() => {\n    if (isDragging) {\n      const handleGlobalMouseMove = (e) => handleMouseMove(e);\n      const handleGlobalTouchMove = (e) => handleTouchMove(e);\n      const handleGlobalEnd = () => stopDragging();\n\n      document.addEventListener(\"mousemove\", handleGlobalMouseMove);\n      document.addEventListener(\"touchmove\", handleGlobalTouchMove, {\n        passive: false,\n      });\n      document.addEventListener(\"mouseup\", handleGlobalEnd);\n      document.addEventListener(\"touchend\", handleGlobalEnd);\n\n      return () => {\n        document.removeEventListener(\"mousemove\", handleGlobalMouseMove);\n        document.removeEventListener(\"touchmove\", handleGlobalTouchMove);\n        document.removeEventListener(\"mouseup\", handleGlobalEnd);\n        document.removeEventListener(\"touchend\", handleGlobalEnd);\n      };\n    }\n  }, [isDragging, handleMouseMove, handleTouchMove, stopDragging]);\n\n  const defaultBefore = {\n    title: \"The Problem\",\n    icon: \"\",\n    points: [\n      \"Manual process taking 7+ hours\",\n      \"Error-prone and inconsistent\",\n      \"Couldn't scale with growth\",\n      \"High operational costs\",\n    ],\n    color: \"#ef4444\",\n  };\n\n  const defaultAfter = {\n    title: \"The Solution\",\n    icon: \"\",\n    points: [\n      \"Automated in under 5 minutes\",\n      \"95% accuracy rate\",\n      \"Infinitely scalable\",\n      \"80% cost reduction\",\n    ],\n    color: \"#22c55e\",\n  };\n\n  const beforeData = before || defaultBefore;\n  const afterData = after || defaultAfter;\n\n  return (\n    <div\n      ref={containerRef}\n      className={`before-after-slider ${isDragging ? \"dragging\" : \"\"}`}\n    >\n      {/* Before Section */}\n      <div\n        className={`slider-section before ${!isDragging ? \"smooth\" : \"\"}`}\n        style={{\n          clipPath: `inset(0 ${100 - sliderPosition}% 0 0)`,\n          backgroundColor: `${beforeData.color}15`,\n        }}\n      >\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <span className=\"section-icon\">{beforeData.icon}</span>\n            <h4 style={{ color: beforeData.color }}>{beforeData.title}</h4>\n          </div>\n          <ul className=\"section-points\">\n            {beforeData.points.map((point, i) => (\n              <li key={i}>\n                <span\n                  className=\"point-icon\"\n                  style={{ color: beforeData.color }}\n                >\n                  \n                </span>\n                {point}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div\n          className=\"section-label before-label\"\n          style={{ borderColor: beforeData.color }}\n        >\n          BEFORE\n        </div>\n      </div>\n\n      {/* After Section */}\n      <div\n        className={`slider-section after ${!isDragging ? \"smooth\" : \"\"}`}\n        style={{\n          clipPath: `inset(0 0 0 ${sliderPosition}%)`,\n          backgroundColor: `${afterData.color}15`,\n        }}\n      >\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <span className=\"section-icon\">{afterData.icon}</span>\n            <h4 style={{ color: afterData.color }}>{afterData.title}</h4>\n          </div>\n          <ul className=\"section-points\">\n            {afterData.points.map((point, i) => (\n              <li key={i}>\n                <span className=\"point-icon\" style={{ color: afterData.color }}>\n                  \n                </span>\n                {point}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div\n          className=\"section-label after-label\"\n          style={{ borderColor: afterData.color }}\n        >\n          AFTER\n        </div>\n      </div>\n\n      {/* Slider Handle */}\n      <div\n        className={`slider-handle ${isDragging ? \"dragging\" : \"smooth\"}`}\n        style={{\n          left: `${sliderPosition}%`,\n        }}\n        onMouseDown={startDragging}\n        onTouchStart={startDragging}\n      >\n        <div className=\"handle-line\"></div>\n        <div className=\"handle-circle\">\n          <span className=\"handle-arrows\"> </span>\n        </div>\n        <div className=\"handle-line\"></div>\n      </div>\n\n      {/* Instructions */}\n      <div className=\"slider-instructions\">\n        <span> Drag to compare </span>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(BeforeAfterSlider);\n","// import React, { useState } from \"react\";\n// import \"./Timeline.css\";\n\n// const Timeline = ({ milestones }) => {\n//   const [activeMilestone, setActiveMilestone] = useState(null);\n\n//   const defaultMilestones = [\n//     {\n//       id: 1,\n//       date: \"Week 1-2\",\n//       title: \"Research & Planning\",\n//       description: \"Analyzed requirements, studied existing solutions, and designed system architecture.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 2,\n//       date: \"Week 3-4\",\n//       title: \"Core Development\",\n//       description: \"Built the foundation - API endpoints, database schema, and basic UI components.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 3,\n//       date: \"Week 5-6\",\n//       title: \"AI Integration\",\n//       description: \"Integrated LLM APIs, implemented RAG pipeline, and optimized vector search.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 4,\n//       date: \"Week 7-8\",\n//       title: \"Testing & Optimization\",\n//       description: \"Performance tuning, bug fixes, and comprehensive testing across edge cases.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 5,\n//       date: \"Week 9+\",\n//       title: \"Deployment & Monitoring\",\n//       description: \"Deployed to production, set up monitoring dashboards, and gathered user feedback.\",\n//       icon: \"\",\n//       status: \"current\",\n//     },\n//   ];\n\n//   const data = milestones || defaultMilestones;\n\n//   return (\n//     <div className=\"timeline-container\">\n//       <h3 className=\"timeline-title\">\n//         <span className=\"title-icon\"></span>\n//         Project Timeline\n//       </h3>\n\n//       <div className=\"timeline\">\n//         {/* Progress Line */}\n//         <div className=\"timeline-progress-bg\"></div>\n//         <div\n//           className=\"timeline-progress-fill\"\n//           style={{\n//             width: `${(data.filter(m => m.status === 'completed').length / data.length) * 100}%`\n//           }}\n//         ></div>\n\n//         {/* Milestones */}\n//         {data.map((milestone, index) => (\n//           <div\n//             key={milestone.id}\n//             className={`timeline-milestone ${milestone.status} ${activeMilestone === milestone.id ? 'active' : ''}`}\n//             style={{ left: `${(index / (data.length - 1)) * 100}%` }}\n//             onMouseEnter={() => setActiveMilestone(milestone.id)}\n//             onMouseLeave={() => setActiveMilestone(null)}\n//             onClick={() => setActiveMilestone(activeMilestone === milestone.id ? null : milestone.id)}\n//           >\n//             {/* Node */}\n//             <div className=\"milestone-node\">\n//               <span className=\"milestone-icon\">{milestone.icon}</span>\n//               {milestone.status === 'current' && (\n//                 <span className=\"pulse-ring\"></span>\n//               )}\n//             </div>\n\n//             {/* Date */}\n//             <div className=\"milestone-date\">{milestone.date}</div>\n\n//             {/* Tooltip Card */}\n//             <div className={`milestone-card glassmorphism ${index > data.length / 2 ? 'left' : 'right'}`}>\n//               <div className=\"card-header\">\n//                 <span className=\"card-icon\">{milestone.icon}</span>\n//                 <h4>{milestone.title}</h4>\n//               </div>\n//               <p>{milestone.description}</p>\n//               <div className={`card-status ${milestone.status}`}>\n//                 {milestone.status === 'completed' ? ' Completed' : ' In Progress'}\n//               </div>\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n\n//       {/* Legend */}\n//       <div className=\"timeline-legend\">\n//         <div className=\"legend-item\">\n//           <span className=\"legend-dot completed\"></span>\n//           <span>Completed</span>\n//         </div>\n//         <div className=\"legend-item\">\n//           <span className=\"legend-dot current\"></span>\n//           <span>In Progress</span>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Timeline;\nimport React, { useState, memo } from \"react\";\nimport \"./Timeline.css\";\n\nconst Timeline = ({ milestones }) => {\n  const [activeMilestone, setActiveMilestone] = useState(null);\n\n  const defaultMilestones = [\n    {\n      id: 1,\n      date: \"Week 1-2\",\n      title: \"Research & Planning\",\n      description:\n        \"Analyzed requirements, studied existing solutions, and designed system architecture.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 2,\n      date: \"Week 3-4\",\n      title: \"Core Development\",\n      description:\n        \"Built the foundation - API endpoints, database schema, and basic UI components.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 3,\n      date: \"Week 5-6\",\n      title: \"AI Integration\",\n      description:\n        \"Integrated LLM APIs, implemented RAG pipeline, and optimized vector search.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 4,\n      date: \"Week 7-8\",\n      title: \"Testing & Optimization\",\n      description:\n        \"Performance tuning, bug fixes, and comprehensive testing across edge cases.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 5,\n      date: \"Week 9+\",\n      title: \"Deployment & Monitoring\",\n      description:\n        \"Deployed to production, set up monitoring dashboards, and gathered user feedback.\",\n      icon: \"\",\n      status: \"current\",\n    },\n  ];\n\n  //  SAFETY CHECK: Ensure data is an array.\n  // If milestones is null/undefined or not an array, fall back to defaultMilestones.\n  const data =\n    Array.isArray(milestones) && milestones.length > 0\n      ? milestones\n      : defaultMilestones;\n\n  //  CALCULATION SAFETY: Prevent division by zero\n  const totalItems = data.length;\n  const completedItems = data.filter((m) => m.status === \"completed\").length;\n  const progressPercentage =\n    totalItems > 0 ? (completedItems / totalItems) * 100 : 0;\n\n  return (\n    <div className=\"timeline-container\">\n      <h3 className=\"timeline-title\">\n        <span className=\"title-icon\"></span>\n        Project Timeline\n      </h3>\n\n      <div className=\"timeline\">\n        {/* Progress Line */}\n        <div className=\"timeline-progress-bg\"></div>\n        <div\n          className=\"timeline-progress-fill\"\n          style={{ width: `${progressPercentage}%` }}\n        ></div>\n\n        {/* Milestones */}\n        {data.map((milestone, index) => {\n          // Calculate position carefully to avoid dividing by zero if only 1 item exists\n          const leftPosition =\n            totalItems > 1 ? (index / (totalItems - 1)) * 100 : 50; // Center if only 1 item\n\n          return (\n            <div\n              key={milestone.id || index}\n              className={`timeline-milestone ${milestone.status} ${\n                activeMilestone === milestone.id ? \"active\" : \"\"\n              }`}\n              style={{ left: `${leftPosition}%` }}\n              onMouseEnter={() => setActiveMilestone(milestone.id)}\n              onMouseLeave={() => setActiveMilestone(null)}\n              onClick={() =>\n                setActiveMilestone(\n                  activeMilestone === milestone.id ? null : milestone.id\n                )\n              }\n            >\n              {/* Node */}\n              <div className=\"milestone-node\">\n                <span className=\"milestone-icon\">{milestone.icon}</span>\n                {milestone.status === \"current\" && (\n                  <span className=\"pulse-ring\"></span>\n                )}\n              </div>\n\n              {/* Date */}\n              <div className=\"milestone-date\">{milestone.date}</div>\n\n              {/* Tooltip Card */}\n              <div\n                className={`milestone-card glassmorphism ${\n                  index > totalItems / 2 ? \"left\" : \"right\"\n                }`}\n              >\n                <div className=\"card-header\">\n                  <span className=\"card-icon\">{milestone.icon}</span>\n                  <h4>{milestone.title}</h4>\n                </div>\n                <p>{milestone.description}</p>\n                <div className={`card-status ${milestone.status}`}>\n                  {milestone.status === \"completed\"\n                    ? \" Completed\"\n                    : \" In Progress\"}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"timeline-legend\">\n        <div className=\"legend-item\">\n          <span className=\"legend-dot completed\"></span>\n          <span>Completed</span>\n        </div>\n        <div className=\"legend-item\">\n          <span className=\"legend-dot current\"></span>\n          <span>In Progress</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Timeline);\n","import React from \"react\";\nimport \"./LoadingSkeleton.css\";\n\nconst LoadingSkeleton = () => {\n  return (\n    <div className=\"loading-skeleton\">\n      {/* Header Skeleton */}\n      <div className=\"skeleton-header\">\n        <div className=\"skeleton-line title shimmer\"></div>\n        <div className=\"skeleton-line subtitle shimmer\"></div>\n      </div>\n\n      {/* Badges Skeleton */}\n      <div className=\"skeleton-badges\">\n        {[1, 2, 3, 4].map((i) => (\n          <div key={i} className=\"skeleton-badge shimmer\"></div>\n        ))}\n      </div>\n\n      {/* Content Skeleton */}\n      <div className=\"skeleton-content\">\n        <div className=\"skeleton-line heading shimmer\"></div>\n        <div className=\"skeleton-line text shimmer\"></div>\n        <div className=\"skeleton-line text shimmer\"></div>\n        <div className=\"skeleton-line text short shimmer\"></div>\n      </div>\n\n      {/* Cards Skeleton */}\n      <div className=\"skeleton-cards\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"skeleton-card shimmer\"></div>\n        ))}\n      </div>\n\n      {/* Code Block Skeleton */}\n      <div className=\"skeleton-code\">\n        <div className=\"skeleton-code-header shimmer\"></div>\n        <div className=\"skeleton-code-body\">\n          {[1, 2, 3, 4, 5].map((i) => (\n            <div\n              key={i}\n              className=\"skeleton-line code shimmer\"\n              style={{ width: `${60 + Math.random() * 30}%` }}\n            ></div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoadingSkeleton;\n","// import React, { useState, useEffect } from \"react\";\n// import {\n//   FaTimes,\n//   FaFolder,\n//   FaFolderOpen,\n//   FaFileCode,\n//   FaFileAlt,\n//   FaImage,\n//   FaPlay,\n//   FaLightbulb,\n//   FaCheckCircle,\n//   FaExternalLinkAlt,\n//   FaNewspaper,\n//   FaCopy,\n//   FaCheck,\n//   FaTerminal,\n//   FaCode,\n// } from \"react-icons/fa\";\n// import {\n//   VscFiles,\n//   VscSearch,\n//   VscSourceControl,\n//   VscExtensions,\n//   VscChevronRight,\n//   VscChevronDown,\n// } from \"react-icons/vsc\";\n// import \"./ProjectModal.css\";\n// import TerminalComponent from \"./TerminalComponent\";\n\n// //  Import New Components\n// import ArchitectureDiagram from \"./ArchitectureDiagram\";\n// import BeforeAfterSlider from \"./BeforeAfterSlider\";\n// import Timeline from \"./Timeline\";\n// import LoadingSkeleton from \"./LoadingSkeleton\";\n\n// const ProjectModal = ({ project, theme, isOpen, onClose }) => {\n//   const [activeTab, setActiveTab] = useState(\"README.md\");\n//   const [expandedFolders, setExpandedFolders] = useState([\"src\", \"docs\"]);\n//   const [copied, setCopied] = useState(false);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [terminalText, setTerminalText] = useState(\"\");\n\n//   // Simulate loading\n//   useEffect(() => {\n//     if (isOpen) {\n//       setIsLoading(true);\n//       const timer = setTimeout(() => setIsLoading(false), 800);\n//       return () => clearTimeout(timer);\n//     }\n//   }, [isOpen, activeTab]);\n\n//   // Close on Escape\n//   useEffect(() => {\n//     const handleEscape = (e) => {\n//       if (e.key === \"Escape\") onClose();\n//     };\n//     window.addEventListener(\"keydown\", handleEscape);\n//     return () => window.removeEventListener(\"keydown\", handleEscape);\n//   }, [onClose]);\n\n//   // Terminal effect\n//   useEffect(() => {\n//     if (isOpen && activeTab === \"terminal\") {\n//       const commands = [\n//         \"$ git clone \" + (project?.url || \"https://github.com/...\"),\n//         \"$ cd \" +\n//           (project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() ||\n//             \"project\"),\n//         \"$ npm install\",\n//         \"$ npm run dev\",\n//         \"\",\n//         \" Ready on http://localhost:3000\",\n//       ];\n//       let i = 0;\n//       let text = \"\";\n//       const interval = setInterval(() => {\n//         if (i < commands.length) {\n//           text += commands[i] + \"\\n\";\n//           setTerminalText(text);\n//           i++;\n//         } else {\n//           clearInterval(interval);\n//         }\n//       }, 500);\n//       return () => clearInterval(interval);\n//     }\n//   }, [isOpen, activeTab, project]);\n\n//   if (!isOpen || !project) return null;\n\n//   const details = project.details || {};\n\n//   // File tree\n//   const fileTree = [\n//     {\n//       name: \"src\",\n//       type: \"folder\",\n//       children: [\n//         { name: \"README.md\", type: \"file\", icon: <FaFileAlt /> },\n//         { name: \"PROBLEM.md\", type: \"file\", icon: <FaLightbulb /> },\n//         { name: \"SOLUTION.md\", type: \"file\", icon: <FaCheckCircle /> },\n//       ],\n//     },\n//     {\n//       name: \"docs\",\n//       type: \"folder\",\n//       children: [\n//         { name: \"screenshots\", type: \"file\", icon: <FaImage /> },\n//         { name: \"demo\", type: \"file\", icon: <FaPlay /> },\n//       ],\n//     },\n//     { name: \"tech-stack.json\", type: \"file\", icon: <FaFileCode /> },\n//     { name: \"impact.md\", type: \"file\", icon: <FaCheckCircle /> },\n//   ];\n\n//   const toggleFolder = (folderName) => {\n//     setExpandedFolders((prev) =>\n//       prev.includes(folderName)\n//         ? prev.filter((f) => f !== folderName)\n//         : [...prev, folderName]\n//     );\n//   };\n\n//   const copyCode = (code) => {\n//     navigator.clipboard.writeText(code);\n//     setCopied(true);\n//     setTimeout(() => setCopied(false), 2000);\n//   };\n\n//   // Render tree\n//   const renderTree = (items) => {\n//     return items.map((item) => {\n//       if (item.type === \"folder\") {\n//         const isExpanded = expandedFolders.includes(item.name);\n//         return (\n//           <div key={item.name} className=\"tree-folder\">\n//             <div\n//               className=\"tree-item folder\"\n//               onClick={() => toggleFolder(item.name)}\n//             >\n//               {isExpanded ? <VscChevronDown /> : <VscChevronRight />}\n//               {isExpanded ? (\n//                 <FaFolderOpen className=\"folder-icon open\" />\n//               ) : (\n//                 <FaFolder className=\"folder-icon\" />\n//               )}\n//               <span>{item.name}</span>\n//             </div>\n//             {isExpanded && (\n//               <div className=\"tree-children\">{renderTree(item.children)}</div>\n//             )}\n//           </div>\n//         );\n//       }\n//       return (\n//         <div\n//           key={item.name}\n//           className={`tree-item file ${\n//             activeTab === item.name ? \"active\" : \"\"\n//           }`}\n//           onClick={() => {\n//             setActiveTab(item.name);\n//             setIsLoading(true);\n//           }}\n//         >\n//           {item.icon}\n//           <span>{item.name}</span>\n//         </div>\n//       );\n//     });\n//   };\n\n//   // ============================================\n//   //  UPDATED RENDER CONTENT WITH NEW COMPONENTS\n//   // ============================================\n//   const renderContent = () => {\n//     // Show loading skeleton\n//     if (isLoading) {\n//       return <LoadingSkeleton />;\n//     }\n\n//     switch (activeTab) {\n//       // ============================================\n//       //  README.MD - MAIN OVERVIEW WITH ALL NEW FEATURES\n//       // ============================================\n//       case \"README.md\":\n//         return (\n//           <div className=\"content-readme\">\n//             {/* Title */}\n//             <h1>{project.name}</h1>\n//             <p className=\"project-tagline\">{project.description}</p>\n\n//             {/* Tech Badges */}\n//             <div className=\"badges\">\n//               {project.languages?.map((lang, i) => (\n//                 <span\n//                   key={i}\n//                   className=\"badge\"\n//                   data-tooltip={`Used for ${lang.name}`}\n//                 >\n//                   {lang.name}\n//                 </span>\n//               ))}\n//             </div>\n//             {/*  ARCHITECTURE DIAGRAM */}\n//             <h2> System Architecture</h2>\n//             <ArchitectureDiagram\n//               architecture={details.architecture}\n//               projectId={project.id} /*  FIXED: Now inside the tag */\n//             />\n//             {/*  STORYTELLING FORMAT (If 'story' exists in data) */}\n//             {details.story ? (\n//               <div className=\"story-flow\">\n//                 <div className=\"story-section problem\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">1</span>\n//                     <h3 className=\"story-title\">The Problem</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.problem}</p>\n\n//                   {/* News Links (Story Mode) */}\n//                   {details.newsLinks && details.newsLinks.length > 0 && (\n//                     <div className=\"media-mentions\">\n//                       <h5>\n//                         <FaNewspaper /> Featured In :\n//                       </h5>\n//                       <div className=\"media-links-grid\">\n//                         {details.newsLinks.map((link, i) => (\n//                           <a\n//                             key={i}\n//                             href={link.url}\n//                             target=\"_blank\"\n//                             rel=\"noopener noreferrer\"\n//                             className=\"media-link-card\"\n//                           >\n//                             <div className=\"media-source\">{link.source}</div>\n//                             <div className=\"media-title\">{link.title}</div>\n//                             <FaExternalLinkAlt className=\"media-icon\" />\n//                           </a>\n//                         ))}\n//                       </div>\n//                     </div>\n//                   )}\n//                 </div>\n\n//                 {/* ... rest of story flow ... */}\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section approach\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">2</span>\n//                     <h3 className=\"story-title\">My Approach</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.approach}</p>\n//                 </div>\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section solution\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">3</span>\n//                     <h3 className=\"story-title\">The Solution</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.solution}</p>\n//                 </div>\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section result\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">4</span>\n//                     <h3 className=\"story-title\">The Results</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.result}</p>\n//                 </div>\n//               </div>\n//             ) : (\n//               //  FALLBACK / STANDARD MODE (This is what executes for your data)\n//               <>\n//                 <h2> Overview / Problem</h2>\n//                 <div className=\"story-section problem\" style={{ marginTop: 0 }}>\n//                   <p\n//                     className=\"story-content\"\n//                     style={{ color: \"var(--vscode-text)\" }}\n//                   >\n//                     {details.problem || project.description}\n//                   </p>\n\n//                   {/*  ADDED HERE: News Links for Standard Mode */}\n//                   {details.newsLinks && details.newsLinks.length > 0 && (\n//                     <div className=\"media-mentions\">\n//                       <h5>\n//                         <FaNewspaper /> Featured In News:\n//                       </h5>\n//                       <div className=\"media-links-grid\">\n//                         {details.newsLinks.map((link, i) => (\n//                           <a\n//                             key={i}\n//                             href={link.url}\n//                             target=\"_blank\"\n//                             rel=\"noopener noreferrer\"\n//                             className=\"media-link-card\"\n//                           >\n//                             <div className=\"media-source\">{link.source}</div>\n//                             <div className=\"media-title\">{link.title}</div>\n//                             <FaExternalLinkAlt className=\"media-icon\" />\n//                           </a>\n//                         ))}\n//                       </div>\n//                     </div>\n//                   )}\n//                 </div>\n//               </>\n//             )}\n\n//             {/*  BEFORE/AFTER SLIDER */}\n//             <h2> Before vs After</h2>\n//             <BeforeAfterSlider\n//               before={details.comparison?.before}\n//               after={details.comparison?.after}\n//             />\n\n//             {/*  TIMELINE */}\n//             <h2> Project Journey</h2>\n//             <Timeline milestones={details.timeline || []} />\n\n//             {/* Role & Info Table */}\n//             <h2> Role & Timeline</h2>\n//             <table className=\"info-table\">\n//               <tbody>\n//                 <tr>\n//                   <td>Role</td>\n//                   <td>{details.role || \"Full Stack Developer\"}</td>\n//                 </tr>\n//                 <tr>\n//                   <td>Timeline</td>\n//                   <td>\n//                     {details.timeline?.[0]?.date || \"2024\"} -{\" \"}\n//                     {details.timeline?.[details.timeline?.length - 1]?.date ||\n//                       \"Present\"}\n//                   </td>\n//                 </tr>\n//                 <tr>\n//                   <td>Team</td>\n//                   <td>{details.team || \"Solo Project\"}</td>\n//                 </tr>\n//               </tbody>\n//             </table>\n//           </div>\n//         );\n//       // ============================================\n//       // PROBLEM.MD\n//       // ============================================\n//       case \"PROBLEM.md\":\n//         return (\n//           <div className=\"content-problem\">\n//             <h1> The Problem</h1>\n//             <div className=\"problem-box\">\n//               <p>\n//                 {details.story?.problem ||\n//                   details.problem ||\n//                   \"Problem description not available.\"}\n//               </p>\n//             </div>\n\n//             <h2>Pain Points</h2>\n//             <ul className=\"pain-points\">\n//               <li> Time-consuming manual processes</li>\n//               <li> Error-prone and inconsistent results</li>\n//               <li> Doesn't scale with growing data</li>\n//               <li> High operational costs</li>\n//             </ul>\n\n//             {/* Before/After here too */}\n//             <h2> Impact Comparison</h2>\n//             <BeforeAfterSlider\n//               before={details.comparison?.before}\n//               after={details.comparison?.after}\n//             />\n//           </div>\n//         );\n//       case \"terminal\":\n//         return <TerminalComponent project={project} />;\n//       // ============================================\n//       // SOLUTION.MD\n//       // ============================================\n//       case \"SOLUTION.md\":\n//         return (\n//           <div className=\"content-solution\">\n//             <h1> The Solution</h1>\n//             <div className=\"solution-box\">\n//               <p>\n//                 {details.story?.solution ||\n//                   details.solution ||\n//                   \"Solution description not available.\"}\n//               </p>\n//             </div>\n\n//             {/* Architecture Diagram */}\n//             <h2> How It Works</h2>\n//             <ArchitectureDiagram architecture={details.architecture} />\n\n//             {/* Code Snippet */}\n//             {details.codeSnippets?.[0] && (\n//               <>\n//                 <h2> Code Snippet</h2>\n//                 <div className=\"code-block\">\n//                   <div className=\"code-header\">\n//                     <div className=\"code-header-left\">\n//                       <span className=\"code-filename\">\n//                         {details.codeSnippets[0].filename}\n//                       </span>\n//                       <span className=\"code-lang-badge\">\n//                         {details.codeSnippets[0].language}\n//                       </span>\n//                     </div>\n//                     <button\n//                       onClick={() => copyCode(details.codeSnippets[0].code)}\n//                       className={copied ? \"copied\" : \"\"}\n//                     >\n//                       {copied ? (\n//                         <>\n//                           <FaCheck /> Copied\n//                         </>\n//                       ) : (\n//                         <>\n//                           <FaCopy /> Copy\n//                         </>\n//                       )}\n//                     </button>\n//                   </div>\n//                   <pre>\n//                     <code>{details.codeSnippets[0].code}</code>\n//                   </pre>\n//                 </div>\n//               </>\n//             )}\n//           </div>\n//         );\n\n//       // ============================================\n//       // TECH-STACK.JSON\n//       // ============================================\n//       case \"tech-stack.json\":\n//         return (\n//           <div className=\"content-techstack\">\n//             <h1> Tech Stack</h1>\n//             <div className=\"techstack-json\">\n//               <pre>\n//                 {JSON.stringify(\n//                   {\n//                     languages: project.languages?.map((l) => l.name) || [],\n//                     frontend: details.techStack?.frontend || [],\n//                     backend: details.techStack?.backend || [],\n//                     ai: details.techStack?.ai || [],\n//                     cloud: details.techStack?.cloud || [],\n//                   },\n//                   null,\n//                   2\n//                 )}\n//               </pre>\n//             </div>\n\n//             <h2>Technologies Used</h2>\n//             <div className=\"tech-categories\">\n//               {details.techStack ? (\n//                 Object.entries(details.techStack).map(([category, techs]) => (\n//                   <div key={category} className=\"tech-category\">\n//                     <h3>\n//                       {category.charAt(0).toUpperCase() + category.slice(1)}\n//                     </h3>\n//                     <div className=\"tech-badges\">\n//                       {techs.map((tech, i) => (\n//                         <span\n//                           key={i}\n//                           className=\"tech-badge\"\n//                           data-tooltip={\n//                             tech.tooltip || `${tech.name || tech} technology`\n//                           }\n//                         >\n//                           {tech.name || tech}\n//                         </span>\n//                       ))}\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <div className=\"tech-category\">\n//                   <h3>All Technologies</h3>\n//                   <div className=\"tech-badges\">\n//                     {project.languages?.map((lang, i) => (\n//                       <span key={i} className=\"tech-badge\">\n//                         {lang.name}\n//                       </span>\n//                     ))}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         );\n\n//       // ============================================\n//       // IMPACT.MD\n//       // ============================================\n//       case \"impact.md\":\n//         return (\n//           <div className=\"content-impact\">\n//             <h1> Impact & Results</h1>\n\n//             <div className=\"impact-grid\">\n//               {details.impact?.length > 0 ? (\n//                 details.impact.map((item, i) => (\n//                   <div key={i} className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>{item}</span>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Improved efficiency by 80%</span>\n//                   </div>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Reduced manual work significantly</span>\n//                   </div>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Scalable architecture</span>\n//                   </div>\n//                 </>\n//               )}\n//             </div>\n\n//             {/* Timeline */}\n//             <h2> Project Timeline</h2>\n//             <Timeline milestones={details.timeline || []} />\n\n//             <h2> Key Learnings</h2>\n//             <ul className=\"learnings-list\">\n//               {details.learnings?.length > 0 ? (\n//                 details.learnings.map((learning, i) => (\n//                   <li key={i}>{learning}</li>\n//                 ))\n//               ) : (\n//                 <>\n//                   <li>Importance of clean architecture</li>\n//                   <li>Performance optimization techniques</li>\n//                   <li>User-centric design thinking</li>\n//                 </>\n//               )}\n//             </ul>\n//           </div>\n//         );\n\n//       // ============================================\n//       // SCREENSHOTS\n//       // ============================================\n//       case \"screenshots\":\n//         return (\n//           <div className=\"content-screenshots\">\n//             <h1> Screenshots</h1>\n//             <div className=\"screenshots-grid\">\n//               {details.screenshots?.length > 0 ? (\n//                 details.screenshots.map((img, i) => (\n//                   <div key={i} className=\"screenshot-card\">\n//                     <img src={img.url} alt={img.title} />\n//                     <span>{img.title}</span>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <div className=\"placeholder-screenshots\">\n//                   <FaImage className=\"placeholder-icon\" />\n//                   <p>Screenshots coming soon...</p>\n//                   <a\n//                     href={project.url}\n//                     target=\"_blank\"\n//                     rel=\"noopener noreferrer\"\n//                   >\n//                     View Live Project <FaExternalLinkAlt />\n//                   </a>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         );\n\n//       // ============================================\n//       // DEMO\n//       // ============================================\n//       case \"demo\":\n//         return (\n//           <div className=\"content-demo\">\n//             <h1> Demo</h1>\n//             {details.demoVideo ? (\n//               <div className=\"video-container\">\n//                 <iframe\n//                   src={details.demoVideo}\n//                   title=\"Project Demo\"\n//                   frameBorder=\"0\"\n//                   allowFullScreen\n//                 />\n//               </div>\n//             ) : (\n//               <div className=\"placeholder-demo\">\n//                 <FaPlay className=\"placeholder-icon\" />\n//                 <p>Demo video coming soon...</p>\n//                 <a href={project.url} target=\"_blank\" rel=\"noopener noreferrer\">\n//                   Try Live Demo <FaExternalLinkAlt />\n//                 </a>\n//               </div>\n//             )}\n//           </div>\n//         );\n\n//       // ============================================\n//       // TERMINAL\n//       // ============================================\n//       case \"terminal\":\n//         return (\n//           <div className=\"content-terminal\">\n//             <div className=\"terminal-header\">\n//               <span className=\"terminal-dot red\"></span>\n//               <span className=\"terminal-dot yellow\"></span>\n//               <span className=\"terminal-dot green\"></span>\n//               <span className=\"terminal-title\">Terminal - zsh</span>\n//             </div>\n//             <pre className=\"terminal-body\">\n//               {terminalText}\n//               <span className=\"cursor\"></span>\n//             </pre>\n//           </div>\n//         );\n\n//       default:\n//         return <div>Select a file to view</div>;\n//     }\n//   };\n\n//   // ============================================\n//   // MAIN RENDER\n//   // ============================================\n//   return (\n//     <div className=\"modal-overlay\" onClick={onClose}>\n//       <div className=\"vscode-modal\" onClick={(e) => e.stopPropagation()}>\n//         {/* Title Bar */}\n//         <div className=\"vscode-titlebar\">\n//           <div className=\"titlebar-left\">\n//             <div className=\"titlebar-traffic-lights\">\n//               <span className=\"traffic-light red\" onClick={onClose}></span>\n//               <span className=\"traffic-light yellow\"></span>\n//               <span className=\"traffic-light green\"></span>\n//             </div>\n//             <FaCode className=\"vscode-icon\" />\n//             <span>{project.name}  Project Viewer</span>\n//           </div>\n//           <div className=\"titlebar-right\">\n//             <a\n//               href={project.url}\n//               target=\"_blank\"\n//               rel=\"noopener noreferrer\"\n//               className=\"titlebar-btn\"\n//             >\n//               <FaExternalLinkAlt />\n//             </a>\n//             <button className=\"titlebar-btn close\" onClick={onClose}>\n//               <FaTimes />\n//             </button>\n//           </div>\n//         </div>\n\n//         {/* Main Content */}\n//         <div className=\"vscode-main\">\n//           {/* Activity Bar */}\n//           <div className=\"vscode-activitybar\">\n//             <div className=\"activity-icon active\">\n//               <VscFiles />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscSearch />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscSourceControl />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscExtensions />\n//             </div>\n//             <div\n//               className=\"activity-icon terminal-icon\"\n//               onClick={() => {\n//                 setActiveTab(\"terminal\");\n//                 setIsLoading(true);\n//               }}\n//             >\n//               <FaTerminal />\n//             </div>\n//           </div>\n\n//           {/* Sidebar */}\n//           <div className=\"vscode-sidebar\">\n//             <div className=\"sidebar-header\">\n//               <span>EXPLORER</span>\n//             </div>\n//             <div className=\"sidebar-section\">\n//               <div className=\"section-title\">\n//                 <VscChevronDown />\n//                 <span>\n//                   {project.name\n//                     .replace(/[^\\w\\s]/g, \"\")\n//                     .trim()\n//                     .toUpperCase()\n//                     .slice(0, 20)}\n//                 </span>\n//               </div>\n//               <div className=\"file-tree\">{renderTree(fileTree)}</div>\n//             </div>\n//           </div>\n\n//           {/* Editor */}\n//           <div className=\"vscode-editor\">\n//             {/* Tabs */}\n//             <div className=\"editor-tabs\">\n//               {[\n//                 \"README.md\",\n//                 \"PROBLEM.md\",\n//                 \"SOLUTION.md\",\n//                 \"tech-stack.json\",\n//                 \"impact.md\",\n//               ].map((tab) => (\n//                 <div\n//                   key={tab}\n//                   className={`editor-tab ${activeTab === tab ? \"active\" : \"\"}`}\n//                   onClick={() => {\n//                     setActiveTab(tab);\n//                     setIsLoading(true);\n//                   }}\n//                 >\n//                   <FaFileAlt className=\"tab-icon\" />\n//                   <span className=\"tab-text\">{tab}</span>\n//                   {activeTab === tab && <span className=\"tab-close\"></span>}\n//                 </div>\n//               ))}\n//             </div>\n\n//             {/* Breadcrumb */}\n//             <div className=\"editor-breadcrumb\">\n//               <span className=\"breadcrumb-item\">\n//                 {project.name.replace(/[^\\w\\s]/g, \"\").trim()}\n//               </span>\n//               <VscChevronRight className=\"breadcrumb-separator\" />\n//               <span className=\"breadcrumb-item\">src</span>\n//               <VscChevronRight className=\"breadcrumb-separator\" />\n//               <span className=\"breadcrumb-item\">{activeTab}</span>\n//             </div>\n\n//             {/* Content */}\n//             <div className=\"editor-content\">{renderContent()}</div>\n//           </div>\n//         </div>\n\n//         {/* Status Bar */}\n//         <div className=\"vscode-statusbar\">\n//           <div className=\"statusbar-left\">\n//             <span className=\"statusbar-item\">\n//               <VscSourceControl /> main\n//             </span>\n//           </div>\n//           <div className=\"statusbar-right\">\n//             {/* <span className=\"statusbar-item success\"> Synced</span> */}\n//             <span className=\"statusbar-item\">UTF-8</span>\n//             <span className=\"statusbar-item\">Markdown</span>\n//             <span className=\"statusbar-item\">Ln 1, Col 1</span>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ProjectModal;\nimport Siri from \"../chatbot/Siri\"; // or wherever your Siri component is\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport ProjectAI from \"./ProjectAI\";\nimport {\n  FaTimes,\n  FaFolder,\n  FaFolderOpen,\n  FaFileCode,\n  FaFileAlt,\n  FaImage,\n  FaPlay,\n  FaLightbulb,\n  FaCheckCircle,\n  FaExternalLinkAlt,\n  FaNewspaper,\n  FaCopy,\n  FaCheck,\n  FaTerminal,\n  FaCode,\n  FaSearch,\n  FaKeyboard,\n  FaExpand,\n  FaCompress,\n  FaThumbtack,\n  FaChevronUp,\n  FaChevronDown as FaChevDown,\n  FaBug,\n  FaBell,\n  FaGithub,\n} from \"react-icons/fa\";\nimport {\n  VscFiles,\n  VscSearch,\n  VscSourceControl,\n  VscExtensions,\n  VscChevronRight,\n  VscChevronDown,\n  VscClose,\n  VscSplitHorizontal,\n  VscSettingsGear,\n  VscBell,\n  VscTerminal,\n  VscWarning,\n  VscError,\n  VscInfo,\n  VscCheck,\n} from \"react-icons/vsc\";\nimport \"./ProjectModal.css\";\n\n// Import your existing components\nimport TerminalComponent from \"./TerminalComponent\";\nimport ArchitectureDiagram from \"./ArchitectureDiagram\";\nimport BeforeAfterSlider from \"./BeforeAfterSlider\";\nimport Timeline from \"./Timeline\";\nimport LoadingSkeleton from \"./LoadingSkeleton\";\n\n// ============================================\n// CUSTOM HOOKS\n// ============================================\n\n/** Animated counter that counts up to target value */\nconst useAnimatedCounter = (target, duration = 2000, start = false) => {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    if (!start || !target) return;\n    let startTime;\n    let animFrame;\n    const numTarget =\n      typeof target === \"string\" ? parseInt(target.replace(/\\D/g, \"\")) : target;\n    if (isNaN(numTarget)) {\n      setCount(target);\n      return;\n    }\n\n    const animate = (timestamp) => {\n      if (!startTime) startTime = timestamp;\n      const progress = Math.min((timestamp - startTime) / duration, 1);\n      const eased = 1 - Math.pow(1 - progress, 3); // easeOutCubic\n      setCount(Math.floor(eased * numTarget));\n      if (progress < 1) animFrame = requestAnimationFrame(animate);\n    };\n    animFrame = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(animFrame);\n  }, [target, duration, start]);\n\n  return count;\n};\n\n/** Intersection observer hook for scroll-triggered animations */\nconst useInView = (options = {}) => {\n  const ref = useRef(null);\n  const [inView, setInView] = useState(false);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setInView(true);\n        observer.unobserve(el);\n      }\n    }, options);\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, []);\n\n  return [ref, inView];\n};\n\n// ============================================\n// SUB-COMPONENTS\n// ============================================\n\n/** Animated Stat Counter Card */\nconst StatCard = ({ label, value, suffix = \"\", icon, color }) => {\n  const [ref, inView] = useInView({ threshold: 0.3 });\n  const count = useAnimatedCounter(value, 1800, inView);\n  const displayValue =\n    typeof value === \"string\" && isNaN(parseInt(value)) ? value : count;\n\n  return (\n    <div ref={ref} className=\"stat-card\" style={{ \"--stat-color\": color }}>\n      <div className=\"stat-icon\">{icon}</div>\n      <div className=\"stat-value\">\n        {displayValue}\n        {suffix}\n      </div>\n      <div className=\"stat-label\">{label}</div>\n      <div className=\"stat-bar\">\n        <div\n          className=\"stat-bar-fill\"\n          style={{ width: inView ? \"100%\" : \"0%\" }}\n        />\n      </div>\n    </div>\n  );\n};\n\n/** Proficiency Bar for Tech Skills */\nconst ProficiencyBar = ({ name, level, color }) => {\n  const [ref, inView] = useInView({ threshold: 0.5 });\n  return (\n    <div ref={ref} className=\"proficiency-item\">\n      <div className=\"proficiency-header\">\n        <span className=\"proficiency-name\">{name}</span>\n        <span className=\"proficiency-level\">{level}%</span>\n      </div>\n      <div className=\"proficiency-track\">\n        <div\n          className=\"proficiency-fill\"\n          style={{\n            width: inView ? `${level}%` : \"0%\",\n            background: color || \"var(--vscode-accent)\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\n/** Notification Toast */\nconst Toast = ({ message, type = \"info\", onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(onClose, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const icons = {\n    info: <VscInfo />,\n    success: <VscCheck />,\n    warning: <VscWarning />,\n    error: <VscError />,\n  };\n\n  return (\n    <div className={`toast toast-${type}`}>\n      <span className=\"toast-icon\">{icons[type]}</span>\n      <span className=\"toast-message\">{message}</span>\n      <button className=\"toast-close\" onClick={onClose}>\n        <VscClose />\n      </button>\n    </div>\n  );\n};\n\n/** Command Palette */\nconst CommandPalette = ({ commands, onSelect, onClose }) => {\n  const [search, setSearch] = useState(\"\");\n  const inputRef = useRef(null);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const filtered = useMemo(\n    () =>\n      commands.filter(\n        (cmd) =>\n          cmd.label.toLowerCase().includes(search.toLowerCase()) ||\n          cmd.category?.toLowerCase().includes(search.toLowerCase())\n      ),\n    [commands, search]\n  );\n\n  useEffect(() => {\n    setSelectedIndex(0);\n  }, [search]);\n\n  const handleKeyDown = (e) => {\n    switch (e.key) {\n      case \"ArrowDown\":\n        e.preventDefault();\n        setSelectedIndex((prev) => Math.min(prev + 1, filtered.length - 1));\n        break;\n      case \"ArrowUp\":\n        e.preventDefault();\n        setSelectedIndex((prev) => Math.max(prev - 1, 0));\n        break;\n      case \"Enter\":\n        if (filtered[selectedIndex]) {\n          onSelect(filtered[selectedIndex]);\n          onClose();\n        }\n        break;\n      case \"Escape\":\n        onClose();\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className=\"command-palette-overlay\" onClick={onClose}>\n      <div className=\"command-palette\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"command-input-wrapper\">\n          <FaSearch className=\"command-search-icon\" />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder=\"Type a command or search...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"command-input\"\n          />\n          <kbd className=\"command-kbd\">ESC</kbd>\n        </div>\n        <div className=\"command-list\">\n          {filtered.length === 0 ? (\n            <div className=\"command-empty\">No matching commands</div>\n          ) : (\n            filtered.map((cmd, i) => (\n              <div\n                key={cmd.id}\n                className={`command-item ${\n                  i === selectedIndex ? \"selected\" : \"\"\n                }`}\n                onClick={() => {\n                  onSelect(cmd);\n                  onClose();\n                }}\n                onMouseEnter={() => setSelectedIndex(i)}\n              >\n                <span className=\"command-item-icon\">{cmd.icon}</span>\n                <div className=\"command-item-text\">\n                  <span className=\"command-item-label\">{cmd.label}</span>\n                  {cmd.description && (\n                    <span className=\"command-item-desc\">{cmd.description}</span>\n                  )}\n                </div>\n                {cmd.shortcut && (\n                  <kbd className=\"command-shortcut\">{cmd.shortcut}</kbd>\n                )}\n                {cmd.category && (\n                  <span className=\"command-item-category\">{cmd.category}</span>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/** Minimap Component */\nconst Minimap = ({ contentRef }) => {\n  const [viewportRatio, setViewportRatio] = useState({ top: 0, height: 0.3 });\n  const minimapRef = useRef(null);\n\n  useEffect(() => {\n    const content = contentRef?.current;\n    if (!content) return;\n\n    const handleScroll = () => {\n      const { scrollTop, scrollHeight, clientHeight } = content;\n      const top = scrollTop / scrollHeight;\n      const height = clientHeight / scrollHeight;\n      setViewportRatio({ top, height: Math.min(height, 1) });\n    };\n\n    content.addEventListener(\"scroll\", handleScroll);\n    handleScroll();\n    return () => content.removeEventListener(\"scroll\", handleScroll);\n  }, [contentRef]);\n\n  const handleMinimapClick = (e) => {\n    const content = contentRef?.current;\n    if (!content || !minimapRef.current) return;\n    const rect = minimapRef.current.getBoundingClientRect();\n    const clickRatio = (e.clientY - rect.top) / rect.height;\n    content.scrollTop = clickRatio * content.scrollHeight;\n  };\n\n  return (\n    <div className=\"minimap\" ref={minimapRef} onClick={handleMinimapClick}>\n      <div className=\"minimap-content\">\n        {/* Simulated content lines */}\n        {Array.from({ length: 60 }).map((_, i) => (\n          <div\n            key={i}\n            className=\"minimap-line\"\n            style={{\n              width: `${20 + Math.random() * 70}%`,\n              opacity: i % 8 === 0 ? 0.6 : 0.25,\n              height: i % 12 === 0 ? \"3px\" : \"2px\",\n              marginTop: i % 12 === 0 ? \"4px\" : \"1px\",\n            }}\n          />\n        ))}\n      </div>\n      <div\n        className=\"minimap-viewport\"\n        style={{\n          top: `${viewportRatio.top * 100}%`,\n          height: `${viewportRatio.height * 100}%`,\n        }}\n      />\n    </div>\n  );\n};\n\n/** Line Numbers Gutter */\nconst LineNumbers = ({ count = 50 }) => (\n  <div className=\"line-numbers-gutter\">\n    {Array.from({ length: count }).map((_, i) => (\n      <div key={i} className=\"line-number\">\n        {i + 1}\n      </div>\n    ))}\n  </div>\n);\n\n// ============================================\n// MAIN COMPONENT\n// ============================================\nconst ProjectModal = ({ project, theme, isOpen, onClose }) => {\n  // ---- State ----\n  const [showJarvis, setShowJarvis] = useState(false);\n  // const [showJarvisPrompt, setShowJarvisPrompt] = useState(false);\n\n  const [activeTab, setActiveTab] = useState(\"README.md\");\n  const [openTabs, setOpenTabs] = useState([\"README.md\"]);\n  const [pinnedTabs, setPinnedTabs] = useState([]);\n  const [expandedFolders, setExpandedFolders] = useState([\"src\", \"docs\"]);\n  const [copied, setCopied] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showCommandPalette, setShowCommandPalette] = useState(false);\n  const [sidebarWidth, setSidebarWidth] = useState(260);\n  const [isResizing, setIsResizing] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [notifications, setNotifications] = useState([]);\n  const [showBottomPanel, setShowBottomPanel] = useState(false);\n  const [sidebarView, setSidebarView] = useState(\"explorer\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [zenMode, setZenMode] = useState(false);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [showMinimap, setShowMinimap] = useState(true);\n  const [tabContextMenu, setTabContextMenu] = useState(null);\n  const [terminalText, setTerminalText] = useState(\"\");\n\n  // ---- Refs ----\n  const editorContentRef = useRef(null);\n  const resizeRef = useRef(null);\n\n  // ---- Derived ----\n  const details = project?.details || {};\n\n  // ---- Notify helper ----\n  const notify = useCallback((message, type = \"info\") => {\n    const id = Date.now();\n    setNotifications((prev) => [...prev, { id, message, type }]);\n  }, []);\n  const handleAITabChange = useCallback((tab) => {\n    setActiveTab(tab);\n    // Don't set loading for narrator  it causes the stuck issue\n  }, []);\n  const dismissNotification = useCallback((id) => {\n    setNotifications((prev) => prev.filter((n) => n.id !== id));\n  }, []);\n  // // Effect AFTER both states\n  // useEffect(() => {\n  //   if (!isOpen) return;\n  //   setShowJarvisPrompt(false);\n\n  //   console.log(\" Timer started for:\", project?.name); // DEBUG\n\n  //   const timer = setTimeout(() => {\n  //     console.log(\" Showing prompt!\"); // DEBUG\n  //     setShowJarvisPrompt(true);\n  //   }, 5000); //  Try 5s instead of 8s for testing\n\n  //   return () => clearTimeout(timer);\n  // }, [isOpen, project?.id]);\n  // ---- Loading simulation ----\n  useEffect(() => {\n    if (isOpen) {\n      setIsLoading(true);\n      const timer = setTimeout(() => setIsLoading(false), 600);\n      return () => clearTimeout(timer);\n    }\n  }, [isOpen, activeTab]);\n\n  // ---- Scroll progress tracking ----\n  useEffect(() => {\n    const content = editorContentRef.current;\n    if (!content) return;\n\n    const handleScroll = () => {\n      const { scrollTop, scrollHeight, clientHeight } = content;\n      const progress = scrollTop / (scrollHeight - clientHeight);\n      setScrollProgress(Math.min(Math.max(progress, 0), 1));\n    };\n\n    content.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => content.removeEventListener(\"scroll\", handleScroll);\n  }, [activeTab, isLoading]);\n  // Auto-popup after 8 seconds of viewing\n  // ---- Keyboard shortcuts ----\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e) => {\n      // Escape - Close modal or command palette\n      if (e.key === \"Escape\") {\n        if (showCommandPalette) {\n          setShowCommandPalette(false);\n        } else if (tabContextMenu) {\n          setTabContextMenu(null);\n        } else {\n          onClose();\n        }\n        return;\n      }\n\n      // Cmd/Ctrl + K - Command Palette\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault();\n        setShowCommandPalette((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + B - Toggle sidebar\n      if ((e.metaKey || e.ctrlKey) && e.key === \"b\") {\n        e.preventDefault();\n        setSidebarCollapsed((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + J - Toggle bottom panel\n      if ((e.metaKey || e.ctrlKey) && e.key === \"j\") {\n        e.preventDefault();\n        setShowBottomPanel((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + M - Toggle minimap\n      if ((e.metaKey || e.ctrlKey) && e.key === \"m\") {\n        e.preventDefault();\n        setShowMinimap((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + Shift + Z - Zen mode\n      if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === \"z\") {\n        e.preventDefault();\n        setZenMode((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + F - Search\n      if ((e.metaKey || e.ctrlKey) && e.key === \"f\") {\n        e.preventDefault();\n        setSidebarView(\"search\");\n        setSidebarCollapsed(false);\n        return;\n      }\n\n      // Cmd/Ctrl + W - Close active tab\n      if ((e.metaKey || e.ctrlKey) && e.key === \"w\") {\n        e.preventDefault();\n        closeTab(activeTab);\n        return;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isOpen, showCommandPalette, activeTab, onClose, tabContextMenu]);\n\n  // ---- Resizable sidebar ----\n  const handleResizeStart = useCallback(\n    (e) => {\n      e.preventDefault();\n      setIsResizing(true);\n\n      const startX = e.clientX;\n      const startWidth = sidebarWidth;\n\n      const handleMouseMove = (e) => {\n        const newWidth = Math.max(\n          180,\n          Math.min(500, startWidth + (e.clientX - startX))\n        );\n        setSidebarWidth(newWidth);\n      };\n\n      const handleMouseUp = () => {\n        setIsResizing(false);\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.body.style.cursor = \"\";\n        document.body.style.userSelect = \"\";\n      };\n\n      document.body.style.cursor = \"col-resize\";\n      document.body.style.userSelect = \"none\";\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    },\n    [sidebarWidth]\n  );\n\n  // ---- Terminal effect ----\n  useEffect(() => {\n    if (isOpen && (activeTab === \"terminal\" || showBottomPanel)) {\n      const commands = [\n        `\\x1b[32m\\x1b[0m \\x1b[36m${\n          project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() || \"project\"\n        }\\x1b[0m git:(main) `,\n        `$ npm run dev`,\n        \"\",\n        `\\x1b[1m> ${project?.name || \"project\"}@1.0.0 dev\\x1b[0m`,\n        `> next dev`,\n        \"\",\n        `   Next.js 14.0.0`,\n        `  - Local:        http://localhost:3000`,\n        `  - Environments: .env.local`,\n        \"\",\n        `\\x1b[32m \\x1b[0m Ready in 1.2s`,\n      ];\n      let i = 0;\n      let text = \"\";\n      const interval = setInterval(() => {\n        if (i < commands.length) {\n          text += commands[i] + \"\\n\";\n          setTerminalText(text);\n          i++;\n        } else {\n          clearInterval(interval);\n        }\n      }, 300);\n      return () => clearInterval(interval);\n    }\n  }, [isOpen, activeTab, showBottomPanel, project]);\n\n  // ---- Tab management ----\n  const openTab = useCallback(\n    (tabName) => {\n      if (!openTabs.includes(tabName)) {\n        setOpenTabs((prev) => [...prev, tabName]);\n      }\n      setActiveTab(tabName);\n      setIsLoading(true);\n    },\n    [openTabs]\n  );\n\n  const closeTab = useCallback(\n    (tabName, e) => {\n      if (e) e.stopPropagation();\n      if (pinnedTabs.includes(tabName)) return;\n\n      const newTabs = openTabs.filter((t) => t !== tabName);\n      if (newTabs.length === 0) {\n        newTabs.push(\"README.md\");\n      }\n      setOpenTabs(newTabs);\n      if (activeTab === tabName) {\n        setActiveTab(newTabs[newTabs.length - 1]);\n        setIsLoading(true);\n      }\n    },\n    [openTabs, activeTab, pinnedTabs]\n  );\n\n  const pinTab = useCallback(\n    (tabName) => {\n      setPinnedTabs((prev) =>\n        prev.includes(tabName)\n          ? prev.filter((t) => t !== tabName)\n          : [...prev, tabName]\n      );\n      notify(\n        pinnedTabs.includes(tabName)\n          ? `Unpinned ${tabName}`\n          : `Pinned ${tabName}`,\n        \"info\"\n      );\n    },\n    [pinnedTabs, notify]\n  );\n\n  const handleTabContextMenu = useCallback((e, tabName) => {\n    e.preventDefault();\n    setTabContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      tab: tabName,\n    });\n  }, []);\n\n  // Close context menu on click outside\n  useEffect(() => {\n    if (tabContextMenu) {\n      const close = () => setTabContextMenu(null);\n      window.addEventListener(\"click\", close);\n      return () => window.removeEventListener(\"click\", close);\n    }\n  }, [tabContextMenu]);\n\n  // ---- Copy code helper ----\n  const copyCode = useCallback(\n    (code) => {\n      navigator.clipboard.writeText(code);\n      setCopied(true);\n      notify(\"Copied to clipboard!\", \"success\");\n      setTimeout(() => setCopied(false), 2000);\n    },\n    [notify]\n  );\n\n  // ---- Command Palette commands ----\n  const commands = useMemo(\n    () => [\n      {\n        id: \"readme\",\n        label: \"Open README.md\",\n        icon: <FaFileAlt />,\n        category: \"File\",\n        action: () => openTab(\"README.md\"),\n      },\n      {\n        id: \"problem\",\n        label: \"Open PROBLEM.md\",\n        icon: <FaLightbulb />,\n        category: \"File\",\n        action: () => openTab(\"PROBLEM.md\"),\n      },\n      {\n        id: \"solution\",\n        label: \"Open SOLUTION.md\",\n        icon: <FaCheckCircle />,\n        category: \"File\",\n        action: () => openTab(\"SOLUTION.md\"),\n      },\n      {\n        id: \"techstack\",\n        label: \"Open tech-stack.json\",\n        icon: <FaFileCode />,\n        category: \"File\",\n        action: () => openTab(\"tech-stack.json\"),\n      },\n      {\n        id: \"impact\",\n        label: \"Open impact.md\",\n        icon: <FaCheckCircle />,\n        category: \"File\",\n        action: () => openTab(\"impact.md\"),\n      },\n      {\n        id: \"screenshots\",\n        label: \"Open Screenshots\",\n        icon: <FaImage />,\n        category: \"File\",\n        action: () => openTab(\"screenshots\"),\n      },\n      {\n        id: \"demo\",\n        label: \"Open Demo\",\n        icon: <FaPlay />,\n        category: \"File\",\n        action: () => openTab(\"demo\"),\n      },\n      {\n        id: \"terminal\",\n        label: \"Toggle Terminal\",\n        icon: <FaTerminal />,\n        shortcut: \"J\",\n        category: \"View\",\n        action: () => setShowBottomPanel((p) => !p),\n      },\n      {\n        id: \"sidebar\",\n        label: \"Toggle Sidebar\",\n        icon: <VscFiles />,\n        shortcut: \"B\",\n        category: \"View\",\n        action: () => setSidebarCollapsed((p) => !p),\n      },\n      {\n        id: \"minimap\",\n        label: \"Toggle Minimap\",\n        icon: <VscSplitHorizontal />,\n        shortcut: \"M\",\n        category: \"View\",\n        action: () => setShowMinimap((p) => !p),\n      },\n      {\n        id: \"zen\",\n        label: \"Toggle Zen Mode\",\n        icon: <FaExpand />,\n        shortcut: \"Z\",\n        category: \"View\",\n        action: () => setZenMode((p) => !p),\n      },\n      {\n        id: \"github\",\n        label: \"Open on GitHub\",\n        icon: <FaGithub />,\n        category: \"External\",\n        action: () => window.open(project?.url, \"_blank\"),\n      },\n      {\n        id: \"close\",\n        label: \"Close Modal\",\n        icon: <FaTimes />,\n        shortcut: \"ESC\",\n        category: \"Navigation\",\n        action: () => onClose(),\n      },\n    ],\n    [project, openTab, onClose]\n  );\n\n  const handleCommandSelect = useCallback((cmd) => {\n    cmd.action?.();\n  }, []);\n\n  // ---- File tree structure ----\n  const fileTree = useMemo(\n    () => [\n      {\n        name: \"src\",\n        type: \"folder\",\n        children: [\n          { name: \"README.md\", type: \"file\", icon: <FaFileAlt /> },\n          { name: \"PROBLEM.md\", type: \"file\", icon: <FaLightbulb /> },\n          { name: \"SOLUTION.md\", type: \"file\", icon: <FaCheckCircle /> },\n        ],\n      },\n      {\n        name: \"docs\",\n        type: \"folder\",\n        children: [\n          { name: \"screenshots\", type: \"file\", icon: <FaImage /> },\n          { name: \"demo\", type: \"file\", icon: <FaPlay /> },\n        ],\n      },\n      { name: \"tech-stack.json\", type: \"file\", icon: <FaFileCode /> },\n      { name: \"impact.md\", type: \"file\", icon: <FaCheckCircle /> },\n    ],\n    []\n  );\n\n  const toggleFolder = useCallback((folderName) => {\n    setExpandedFolders((prev) =>\n      prev.includes(folderName)\n        ? prev.filter((f) => f !== folderName)\n        : [...prev, folderName]\n    );\n  }, []);\n\n  // ---- Render file tree ----\n  const renderTree = useCallback(\n    (items, depth = 0) => {\n      return items.map((item) => {\n        if (item.type === \"folder\") {\n          const isExpanded = expandedFolders.includes(item.name);\n          return (\n            <div key={item.name} className=\"tree-folder\">\n              <div\n                className=\"tree-item folder\"\n                onClick={() => toggleFolder(item.name)}\n                role=\"treeitem\"\n                aria-expanded={isExpanded}\n                tabIndex={0}\n                onKeyDown={(e) => e.key === \"Enter\" && toggleFolder(item.name)}\n              >\n                {isExpanded ? <VscChevronDown /> : <VscChevronRight />}\n                {isExpanded ? (\n                  <FaFolderOpen className=\"folder-icon open\" />\n                ) : (\n                  <FaFolder className=\"folder-icon\" />\n                )}\n                <span>{item.name}</span>\n              </div>\n              {isExpanded && (\n                <div className=\"tree-children\">\n                  {renderTree(item.children, depth + 1)}\n                </div>\n              )}\n            </div>\n          );\n        }\n        return (\n          <div\n            key={item.name}\n            className={`tree-item file ${\n              activeTab === item.name ? \"active\" : \"\"\n            }`}\n            onClick={() => openTab(item.name)}\n            role=\"treeitem\"\n            tabIndex={0}\n            onKeyDown={(e) => e.key === \"Enter\" && openTab(item.name)}\n          >\n            {item.icon}\n            <span>{item.name}</span>\n          </div>\n        );\n      });\n    },\n    [expandedFolders, activeTab, openTab, toggleFolder]\n  );\n\n  // ---- RENDER CONTENT ----\n  const renderContent = () => {\n    //  DEBUG: Add this temporarily\n    console.log(\"=== DEBUG ===\");\n    console.log(\"isLoading:\", isLoading);\n    console.log(\"activeTab:\", activeTab);\n    console.log(\"project:\", project?.name);\n    console.log(\"details:\", JSON.stringify(details).slice(0, 200));\n    console.log(\"openTabs:\", openTabs);\n\n    if (isLoading) {\n      console.log(\">>> Showing LoadingSkeleton\");\n      return <LoadingSkeleton />;\n    }\n\n    console.log(\">>> Rendering tab:\", activeTab);\n\n    switch (activeTab) {\n      // ========== README.md ==========\n      case \"README.md\":\n        return (\n          <div className=\"content-readme\">\n            <h1>{project.name}</h1>\n            <p className=\"project-tagline\">{project.description}</p>\n\n            {/* Tech Badges */}\n            <div className=\"badges\">\n              {project.languages?.map((lang, i) => (\n                <span\n                  key={i}\n                  className=\"badge\"\n                  data-tooltip={`Used for ${lang.name}`}\n                >\n                  {lang.name}\n                </span>\n              ))}\n            </div>\n\n            {/* Quick Stats */}\n            {details.stats && (\n              <>\n                <h2> Key Metrics</h2>\n                <div className=\"stats-grid\">\n                  {details.stats.map((stat, i) => (\n                    <StatCard\n                      key={i}\n                      label={stat.label}\n                      value={stat.value}\n                      suffix={stat.suffix || \"\"}\n                      icon={stat.icon || \"\"}\n                      color={\n                        stat.color ||\n                        [\"#4fc3f7\", \"#4caf50\", \"#ffb74d\", \"#f44336\", \"#ab47bc\"][\n                          i % 5\n                        ]\n                      }\n                    />\n                  ))}\n                </div>\n              </>\n            )}\n\n            {/* Architecture Diagram */}\n            <h2> System Architecture</h2>\n            <ArchitectureDiagram\n              architecture={details.architecture}\n              projectId={project.id}\n            />\n\n            {/* Story Flow or Standard Mode */}\n            {details.story ? (\n              <div className=\"story-flow\">\n                {[\"problem\", \"approach\", \"solution\", \"result\"].map(\n                  (section, i) => (\n                    <React.Fragment key={section}>\n                      {i > 0 && <div className=\"story-connector\" />}\n                      <div className={`story-section ${section}`}>\n                        <div className=\"story-header\">\n                          <span className=\"story-number\">{i + 1}</span>\n                          <h3 className=\"story-title\">\n                            {\n                              {\n                                problem: \"The Problem\",\n                                approach: \"My Approach\",\n                                solution: \"The Solution\",\n                                result: \"The Results\",\n                              }[section]\n                            }\n                          </h3>\n                        </div>\n                        <p className=\"story-content\">\n                          {details.story[section]}\n                        </p>\n\n                        {/* News Links in Problem Section */}\n                        {section === \"problem\" &&\n                          details.newsLinks?.length > 0 && (\n                            <div className=\"media-mentions\">\n                              <h5>\n                                <FaNewspaper /> Featured In:\n                              </h5>\n                              <div className=\"media-links-grid\">\n                                {details.newsLinks.map((link, j) => (\n                                  <a\n                                    key={j}\n                                    href={link.url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"media-link-card\"\n                                  >\n                                    <div className=\"media-source\">\n                                      {link.source}\n                                    </div>\n                                    <div className=\"media-title\">\n                                      {link.title}\n                                    </div>\n                                    <FaExternalLinkAlt className=\"media-icon\" />\n                                  </a>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n                      </div>\n                    </React.Fragment>\n                  )\n                )}\n              </div>\n            ) : (\n              <>\n                <h2> Overview</h2>\n                <div className=\"story-section problem\" style={{ marginTop: 0 }}>\n                  <p\n                    className=\"story-content\"\n                    style={{ color: \"var(--vscode-text)\" }}\n                  >\n                    {details.problem || project.description}\n                  </p>\n\n                  {details.newsLinks?.length > 0 && (\n                    <div className=\"media-mentions\">\n                      <h5>\n                        <FaNewspaper /> Featured In News:\n                      </h5>\n                      <div className=\"media-links-grid\">\n                        {details.newsLinks.map((link, i) => (\n                          <a\n                            key={i}\n                            href={link.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"media-link-card\"\n                          >\n                            <div className=\"media-source\">{link.source}</div>\n                            <div className=\"media-title\">{link.title}</div>\n                            <FaExternalLinkAlt className=\"media-icon\" />\n                          </a>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n\n            {/* Before/After */}\n            <h2> Before vs After</h2>\n            <BeforeAfterSlider\n              before={details.comparison?.before}\n              after={details.comparison?.after}\n            />\n\n            {/* Timeline */}\n            <h2> Project Journey</h2>\n            <Timeline milestones={details.timeline || []} />\n\n            {/* Role & Info Table */}\n            <h2> Role & Info</h2>\n            <table className=\"info-table\">\n              <tbody>\n                <tr>\n                  <td>Role</td>\n                  <td>{details.role || \"Full Stack Developer\"}</td>\n                </tr>\n                <tr>\n                  <td>Timeline</td>\n                  <td>\n                    {details.timeline?.[0]?.date || \"2024\"} {\" \"}\n                    {details.timeline?.[details.timeline?.length - 1]?.date ||\n                      \"Present\"}\n                  </td>\n                </tr>\n                <tr>\n                  <td>Team</td>\n                  <td>{details.team || \"Solo Project\"}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        );\n\n      // ========== PROBLEM.md ==========\n      case \"PROBLEM.md\":\n        return (\n          <div className=\"content-problem\">\n            <h1> The Problem</h1>\n            <div className=\"problem-box\">\n              <p>\n                {details.story?.problem ||\n                  details.problem ||\n                  \"Problem description not available.\"}\n              </p>\n            </div>\n\n            <h2>Pain Points</h2>\n            <ul className=\"pain-points\">\n              {(\n                details.painPoints || [\n                  \" Time-consuming manual processes\",\n                  \" Error-prone and inconsistent results\",\n                  \" Doesn't scale with growing data\",\n                  \" High operational costs\",\n                ]\n              ).map((point, i) => (\n                <li key={i}>{point}</li>\n              ))}\n            </ul>\n\n            <h2> Impact Comparison</h2>\n            <BeforeAfterSlider\n              before={details.comparison?.before}\n              after={details.comparison?.after}\n            />\n          </div>\n        );\n\n      // ========== SOLUTION.md ==========\n      case \"SOLUTION.md\":\n        return (\n          <div className=\"content-solution\">\n            <h1> The Solution</h1>\n            <div className=\"solution-box\">\n              <p>\n                {details.story?.solution ||\n                  details.solution ||\n                  \"Solution description not available.\"}\n              </p>\n            </div>\n\n            <h2> How It Works</h2>\n            <ArchitectureDiagram architecture={details.architecture} />\n\n            {/* Code Snippet */}\n            {details.codeSnippets?.[0] && (\n              <>\n                <h2> Code Highlight</h2>\n                <div className=\"code-block enhanced\">\n                  <div className=\"code-header\">\n                    <div className=\"code-header-left\">\n                      <div className=\"code-dots\">\n                        <span className=\"dot red\" />\n                        <span className=\"dot yellow\" />\n                        <span className=\"dot green\" />\n                      </div>\n                      <span className=\"code-filename\">\n                        {details.codeSnippets[0].filename}\n                      </span>\n                      <span className=\"code-lang-badge\">\n                        {details.codeSnippets[0].language}\n                      </span>\n                    </div>\n\n                    <button\n                      onClick={() => copyCode(details.codeSnippets[0].code)}\n                      className={copied ? \"copied\" : \"\"}\n                      aria-label=\"Copy code\"\n                    >\n                      {copied ? (\n                        <>\n                          <FaCheck /> Copied\n                        </>\n                      ) : (\n                        <>\n                          <FaCopy /> Copy\n                        </>\n                      )}\n                    </button>\n                  </div>\n                  <div className=\"code-body-wrapper\">\n                    <div className=\"code-line-numbers\">\n                      {details.codeSnippets[0].code.split(\"\\n\").map((_, i) => (\n                        <span key={i}>{i + 1}</span>\n                      ))}\n                    </div>\n                    <pre>\n                      <code>{details.codeSnippets[0].code}</code>\n                    </pre>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        );\n\n      // ========== tech-stack.json ==========\n      case \"tech-stack.json\":\n        return (\n          <div className=\"content-techstack\">\n            <h1> Tech Stack</h1>\n\n            {/* JSON Preview */}\n            <div className=\"code-block enhanced\">\n              <div className=\"code-header\">\n                <div className=\"code-header-left\">\n                  <div className=\"code-dots\">\n                    <span className=\"dot red\" />\n                    <span className=\"dot yellow\" />\n                    <span className=\"dot green\" />\n                  </div>\n                  <span className=\"code-filename\">tech-stack.json</span>\n                  <span className=\"code-lang-badge\">JSON</span>\n                </div>\n                <button\n                  onClick={() =>\n                    copyCode(\n                      JSON.stringify(\n                        {\n                          languages:\n                            project.languages?.map((l) => l.name) || [],\n                          ...details.techStack,\n                        },\n                        null,\n                        2\n                      )\n                    )\n                  }\n                >\n                  <FaCopy /> Copy\n                </button>\n              </div>\n              <div className=\"code-body-wrapper\">\n                <pre className=\"json-syntax\">\n                  <code>\n                    {JSON.stringify(\n                      {\n                        languages: project.languages?.map((l) => l.name) || [],\n                        frontend: details.techStack?.frontend || [],\n                        backend: details.techStack?.backend || [],\n                        ai: details.techStack?.ai || [],\n                        cloud: details.techStack?.cloud || [],\n                      },\n                      null,\n                      2\n                    )}\n                  </code>\n                </pre>\n              </div>\n            </div>\n\n            <h2>Technologies & Proficiency</h2>\n            <div className=\"tech-categories\">\n              {details.techStack ? (\n                Object.entries(details.techStack).map(([category, techs]) => (\n                  <div key={category} className=\"tech-category\">\n                    <h3>\n                      {category.charAt(0).toUpperCase() + category.slice(1)}\n                    </h3>\n                    <div className=\"tech-badges\">\n                      {techs.map((tech, i) => (\n                        <span\n                          key={i}\n                          className=\"tech-badge\"\n                          data-tooltip={\n                            tech.tooltip || `${tech.name || tech} technology`\n                          }\n                        >\n                          {tech.name || tech}\n                        </span>\n                      ))}\n                    </div>\n\n                    {/* Proficiency Bars (if data exists) */}\n                    {techs[0]?.proficiency && (\n                      <div className=\"proficiency-list\">\n                        {techs.map(\n                          (tech, i) =>\n                            tech.proficiency && (\n                              <ProficiencyBar\n                                key={i}\n                                name={tech.name || tech}\n                                level={tech.proficiency}\n                                color={tech.color}\n                              />\n                            )\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))\n              ) : (\n                <div className=\"tech-category\">\n                  <h3>All Technologies</h3>\n                  <div className=\"tech-badges\">\n                    {project.languages?.map((lang, i) => (\n                      <span key={i} className=\"tech-badge\">\n                        {lang.name}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      // ========== impact.md ==========\n      case \"impact.md\":\n        return (\n          <div className=\"content-impact\">\n            <h1> Impact & Results</h1>\n\n            {/* Stat cards if available */}\n            {details.stats && (\n              <div className=\"stats-grid\">\n                {details.stats.map((stat, i) => (\n                  <StatCard\n                    key={i}\n                    label={stat.label}\n                    value={stat.value}\n                    suffix={stat.suffix || \"\"}\n                    icon={stat.icon || \"\"}\n                    color={\n                      stat.color ||\n                      [\"#4fc3f7\", \"#4caf50\", \"#ffb74d\", \"#f44336\"][i % 4]\n                    }\n                  />\n                ))}\n              </div>\n            )}\n\n            <div className=\"impact-grid\">\n              {details.impact?.length > 0 ? (\n                details.impact.map((item, i) => (\n                  <div\n                    key={i}\n                    className=\"impact-card\"\n                    style={{ animationDelay: `${i * 0.1}s` }}\n                  >\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>{item}</span>\n                  </div>\n                ))\n              ) : (\n                <>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Improved efficiency by 80%</span>\n                  </div>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Reduced manual work significantly</span>\n                  </div>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Scalable architecture</span>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <h2> Timeline</h2>\n            <Timeline milestones={details.timeline || []} />\n\n            <h2> Key Learnings</h2>\n            <ul className=\"learnings-list\">\n              {(\n                details.learnings || [\n                  \"Importance of clean architecture\",\n                  \"Performance optimization techniques\",\n                  \"User-centric design thinking\",\n                ]\n              ).map((learning, i) => (\n                <li key={i}>{learning}</li>\n              ))}\n            </ul>\n          </div>\n        );\n\n      // ========== screenshots ==========\n      case \"screenshots\":\n        return (\n          <div className=\"content-screenshots\">\n            <h1> Screenshots</h1>\n            <div className=\"screenshots-grid\">\n              {details.screenshots?.length > 0 ? (\n                details.screenshots.map((img, i) => (\n                  <div key={i} className=\"screenshot-card\">\n                    <img src={img.url} alt={img.title} loading=\"lazy\" />\n                    <span>{img.title}</span>\n                  </div>\n                ))\n              ) : (\n                <div className=\"placeholder-screenshots\">\n                  <FaImage className=\"placeholder-icon\" />\n                  <p>Screenshots coming soon...</p>\n                  <a\n                    href={project.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    View Live Project <FaExternalLinkAlt />\n                  </a>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      // ========== demo ==========\n      case \"demo\":\n        return (\n          <div className=\"content-demo\">\n            <h1> Demo</h1>\n            {details.demoVideo ? (\n              <div className=\"video-container\">\n                <iframe\n                  src={details.demoVideo}\n                  title=\"Project Demo\"\n                  frameBorder=\"0\"\n                  allowFullScreen\n                />\n              </div>\n            ) : (\n              <div className=\"placeholder-demo\">\n                <FaPlay className=\"placeholder-icon\" />\n                <p>Demo video coming soon...</p>\n                <a href={project.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  Try Live Demo <FaExternalLinkAlt />\n                </a>\n              </div>\n            )}\n          </div>\n        );\n\n      // ========== terminal ==========\n      case \"terminal\":\n        return <TerminalComponent project={project} />;\n\n      default:\n        return (\n          <div className=\"welcome-tab\">\n            <div className=\"welcome-content\">\n              <FaCode className=\"welcome-icon\" />\n              <h2>Welcome</h2>\n              <p>Select a file from the explorer to get started</p>\n              <div className=\"welcome-shortcuts\">\n                <div className=\"shortcut-item\">\n                  <kbd>K</kbd>\n                  <span>Command Palette</span>\n                </div>\n                <div className=\"shortcut-item\">\n                  <kbd>B</kbd>\n                  <span>Toggle Sidebar</span>\n                </div>\n                <div className=\"shortcut-item\">\n                  <kbd>J</kbd>\n                  <span>Toggle Terminal</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n    }\n  };\n\n  // ---- Don't render if not open ----\n  if (!isOpen || !project) return null;\n\n  // ============================================\n  // MAIN RENDER\n  // ============================================\n  return (\n    <div\n      className=\"modal-overlay\"\n      onClick={onClose}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label={`${project.name} - Project Details`}\n    >\n      <div\n        className={`vscode-modal ${zenMode ? \"zen-mode\" : \"\"}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* ---- COMMAND PALETTE ---- */}\n        {showCommandPalette && (\n          <CommandPalette\n            commands={commands}\n            onSelect={handleCommandSelect}\n            onClose={() => setShowCommandPalette(false)}\n          />\n        )}\n\n        {/* ---- NOTIFICATION TOASTS ---- */}\n        <div className=\"toast-container\">\n          {notifications.map((n) => (\n            <Toast\n              key={n.id}\n              message={n.message}\n              type={n.type}\n              onClose={() => dismissNotification(n.id)}\n            />\n          ))}\n        </div>\n\n        {/* ---- TAB CONTEXT MENU ---- */}\n        {tabContextMenu && (\n          <div\n            className=\"tab-context-menu\"\n            style={{ top: tabContextMenu.y, left: tabContextMenu.x }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                closeTab(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <VscClose /> Close\n            </div>\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                setOpenTabs([\"README.md\"]);\n                setActiveTab(\"README.md\");\n                setTabContextMenu(null);\n              }}\n            >\n              <VscClose /> Close All\n            </div>\n            <div className=\"context-separator\" />\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                pinTab(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <FaThumbtack />{\" \"}\n              {pinnedTabs.includes(tabContextMenu.tab) ? \"Unpin\" : \"Pin\"} Tab\n            </div>\n            <div className=\"context-separator\" />\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                copyCode(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <FaCopy /> Copy Path\n            </div>\n          </div>\n        )}\n\n        {/* ============================================\n            TITLE BAR\n            ============================================ */}\n        <div className=\"vscode-titlebar\">\n          <div className=\"titlebar-left\">\n            <div className=\"titlebar-traffic-lights\">\n              <span\n                className=\"traffic-light red\"\n                onClick={onClose}\n                aria-label=\"Close\"\n              />\n              <span className=\"traffic-light yellow\" aria-label=\"Minimize\" />\n              <span\n                className=\"traffic-light green\"\n                onClick={() => setZenMode((p) => !p)}\n                aria-label=\"Maximize\"\n              />\n            </div>\n            <FaCode className=\"vscode-icon\" />\n            <span>{project.name}  Project Viewer</span>\n          </div>\n\n          <div className=\"titlebar-center\">\n            <button\n              className=\"command-palette-trigger\"\n              onClick={() => setShowCommandPalette(true)}\n            >\n              <FaSearch />\n              <span>Search or run command...</span>\n              <kbd>K</kbd>\n            </button>\n          </div>\n\n          <div className=\"titlebar-right\">\n            <button\n              className=\"titlebar-btn\"\n              onClick={() => setSidebarCollapsed((p) => !p)}\n              title=\"Toggle Sidebar (B)\"\n            >\n              <VscFiles />\n            </button>\n            <button\n              className=\"titlebar-btn\"\n              onClick={() => setShowBottomPanel((p) => !p)}\n              title=\"Toggle Terminal (J)\"\n            >\n              <VscTerminal />\n            </button>\n            <a\n              href={project.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"titlebar-btn\"\n              title=\"Open on GitHub\"\n            >\n              <FaExternalLinkAlt />\n            </a>\n            <button\n              className=\"titlebar-btn close\"\n              onClick={onClose}\n              aria-label=\"Close\"\n            >\n              <FaTimes />\n            </button>\n          </div>\n        </div>\n\n        {/* ============================================\n            MAIN CONTENT AREA\n            ============================================ */}\n        <div className=\"vscode-main\">\n          {/* ---- ACTIVITY BAR ---- */}\n          {!zenMode && (\n            <div className=\"vscode-activitybar\">\n              <div\n                className={`activity-icon ${\n                  sidebarView === \"explorer\" && !sidebarCollapsed\n                    ? \"active\"\n                    : \"\"\n                }`}\n                onClick={() => {\n                  if (sidebarView === \"explorer\" && !sidebarCollapsed) {\n                    setSidebarCollapsed(true);\n                  } else {\n                    setSidebarView(\"explorer\");\n                    setSidebarCollapsed(false);\n                  }\n                }}\n                title=\"Explorer\"\n              >\n                <VscFiles />\n              </div>\n              <div\n                className={`activity-icon ${\n                  sidebarView === \"search\" && !sidebarCollapsed ? \"active\" : \"\"\n                }`}\n                onClick={() => {\n                  if (sidebarView === \"search\" && !sidebarCollapsed) {\n                    setSidebarCollapsed(true);\n                  } else {\n                    setSidebarView(\"search\");\n                    setSidebarCollapsed(false);\n                  }\n                }}\n                title=\"Search (F)\"\n              >\n                <VscSearch />\n              </div>\n              <div className=\"activity-icon\" title=\"Source Control\">\n                <VscSourceControl />\n                <span className=\"activity-badge\">3</span>\n              </div>\n              <div className=\"activity-icon\" title=\"Extensions\">\n                <VscExtensions />\n              </div>\n\n              {/* Bottom Section */}\n              <div className=\"activity-spacer\" />\n              <div\n                className=\"activity-icon\"\n                onClick={() => setShowCommandPalette(true)}\n                title=\"Command Palette (K)\"\n              >\n                <VscSettingsGear />\n              </div>\n            </div>\n          )}\n\n          {/* ---- SIDEBAR ---- */}\n          {!zenMode && !sidebarCollapsed && (\n            <>\n              <div className=\"vscode-sidebar\" style={{ width: sidebarWidth }}>\n                {sidebarView === \"explorer\" ? (\n                  <>\n                    <div className=\"sidebar-header\">\n                      <span>EXPLORER</span>\n                    </div>\n                    <div className=\"sidebar-section\">\n                      <div className=\"section-title\">\n                        <VscChevronDown />\n                        <span>\n                          {project.name\n                            .replace(/[^\\w\\s]/g, \"\")\n                            .trim()\n                            .toUpperCase()\n                            .slice(0, 20)}\n                        </span>\n                      </div>\n                      <div className=\"file-tree\" role=\"tree\">\n                        {renderTree(fileTree)}\n                      </div>\n                    </div>\n\n                    {/* Outline Section */}\n                    <div className=\"sidebar-section\">\n                      <div className=\"section-title\">\n                        <VscChevronRight />\n                        <span>OUTLINE</span>\n                      </div>\n                    </div>\n\n                    {/* Keyboard Shortcuts */}\n                    <div className=\"sidebar-shortcuts\">\n                      <div className=\"shortcut-hint\">\n                        <kbd>K</kbd> Commands\n                      </div>\n                      <div className=\"shortcut-hint\">\n                        <kbd>B</kbd> Sidebar\n                      </div>\n                      <div className=\"shortcut-hint\">\n                        <kbd>J</kbd> Terminal\n                      </div>\n                    </div>\n                  </>\n                ) : (\n                  /* Search Panel */\n                  <>\n                    <div className=\"sidebar-header\">\n                      <span>SEARCH</span>\n                    </div>\n                    <div className=\"search-panel\">\n                      <div className=\"search-input-wrapper\">\n                        <FaSearch className=\"search-icon\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search in project...\"\n                          value={searchQuery}\n                          onChange={(e) => setSearchQuery(e.target.value)}\n                          className=\"search-input\"\n                          autoFocus\n                        />\n                        {searchQuery && (\n                          <button\n                            className=\"search-clear\"\n                            onClick={() => setSearchQuery(\"\")}\n                          >\n                            <VscClose />\n                          </button>\n                        )}\n                      </div>\n                      {searchQuery && (\n                        <div className=\"search-results\">\n                          {fileTree\n                            .flatMap((item) =>\n                              item.children\n                                ? item.children.map((c) => c.name)\n                                : [item.name]\n                            )\n                            .filter((name) =>\n                              name\n                                .toLowerCase()\n                                .includes(searchQuery.toLowerCase())\n                            )\n                            .map((name) => (\n                              <div\n                                key={name}\n                                className=\"search-result-item\"\n                                onClick={() => openTab(name)}\n                              >\n                                <FaFileAlt />\n                                <span>{name}</span>\n                              </div>\n                            ))}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n\n              {/* Resize Handle */}\n              <div\n                className={`resize-handle ${isResizing ? \"active\" : \"\"}`}\n                onMouseDown={handleResizeStart}\n              />\n            </>\n          )}\n\n          {/* ---- EDITOR AREA ---- */}\n          <div className=\"vscode-editor\">\n            {/* Scroll Progress Bar */}\n            <div\n              className=\"scroll-progress\"\n              style={{ width: `${scrollProgress * 100}%` }}\n            />\n\n            {/* Editor Tabs */}\n            <div className=\"editor-tabs\">\n              {openTabs.map((tab) => (\n                <div\n                  key={tab}\n                  className={`editor-tab ${activeTab === tab ? \"active\" : \"\"} ${\n                    pinnedTabs.includes(tab) ? \"pinned\" : \"\"\n                  }`}\n                  onClick={() => {\n                    setActiveTab(tab);\n                    setIsLoading(true);\n                  }}\n                  onContextMenu={(e) => handleTabContextMenu(e, tab)}\n                  onAuxClick={(e) => {\n                    if (e.button === 1) closeTab(tab, e); // middle-click close\n                  }}\n                >\n                  {pinnedTabs.includes(tab) && (\n                    <FaThumbtack className=\"pin-icon\" />\n                  )}\n                  <FaFileAlt className=\"tab-icon\" />\n                  <span className=\"tab-text\">{tab}</span>\n                  {activeTab === tab && !pinnedTabs.includes(tab) && (\n                    <span\n                      className=\"tab-close\"\n                      onClick={(e) => closeTab(tab, e)}\n                    >\n                      \n                    </span>\n                  )}\n                </div>\n              ))}\n\n              {/* Tab Actions */}\n              <div className=\"tab-actions\">\n                <button\n                  className=\"tab-action-btn\"\n                  onClick={() => setShowMinimap((p) => !p)}\n                  title=\"Toggle Minimap\"\n                >\n                  <VscSplitHorizontal />\n                </button>\n              </div>\n            </div>\n\n            {/* Breadcrumb */}\n            <div className=\"editor-breadcrumb\">\n              <span className=\"breadcrumb-item\">\n                {project.name.replace(/[^\\w\\s]/g, \"\").trim()}\n              </span>\n              <VscChevronRight className=\"breadcrumb-separator\" />\n              <span className=\"breadcrumb-item\">src</span>\n              <VscChevronRight className=\"breadcrumb-separator\" />\n              <span className=\"breadcrumb-item active\">{activeTab}</span>\n            </div>\n\n            {/* Editor Body with optional Minimap */}\n            <div className=\"editor-body\">\n              <div className=\"editor-content\" ref={editorContentRef}>\n                {renderContent()}\n              </div>\n\n              {/* Minimap */}\n              {showMinimap && !isLoading && (\n                <Minimap contentRef={editorContentRef} />\n              )}\n            </div>\n\n            {/* ---- BOTTOM PANEL (Terminal) ---- */}\n            {showBottomPanel && (\n              <div className=\"bottom-panel\">\n                <div className=\"bottom-panel-header\">\n                  <div className=\"bottom-panel-tabs\">\n                    <span className=\"bottom-panel-tab active\">\n                      <VscTerminal /> Terminal\n                    </span>\n                    <span className=\"bottom-panel-tab\">\n                      <VscWarning /> Problems{\" \"}\n                      <span className=\"problems-count\">0</span>\n                    </span>\n                    <span className=\"bottom-panel-tab\">\n                      <VscInfo /> Output\n                    </span>\n                  </div>\n                  <div className=\"bottom-panel-actions\">\n                    <button\n                      onClick={() => setShowBottomPanel(false)}\n                      className=\"panel-close-btn\"\n                    >\n                      <VscClose />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"bottom-panel-body\">\n                  <pre className=\"terminal-body\">\n                    {terminalText}\n                    <span className=\"cursor\"></span>\n                  </pre>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* ============================================\n            STATUS BAR\n            ============================================ */}\n        <div className=\"vscode-statusbar\">\n          <div className=\"statusbar-left\">\n            <span className=\"statusbar-item branch\">\n              <VscSourceControl /> main\n            </span>\n            <span className=\"statusbar-item\">\n              <VscError style={{ fontSize: 12 }} /> 0\n              <VscWarning style={{ fontSize: 12, marginLeft: 6 }} /> 0\n            </span>\n          </div>\n          <div className=\"statusbar-right\">\n            <span\n              className=\"statusbar-item clickable\"\n              onClick={() => setShowCommandPalette(true)}\n            >\n              <FaKeyboard /> K Commands\n            </span>\n            <span className=\"statusbar-item\">UTF-8</span>\n            <span className=\"statusbar-item\">\n              {activeTab.endsWith(\".md\")\n                ? \"Markdown\"\n                : activeTab.endsWith(\".json\")\n                ? \"JSON\"\n                : \"Text\"}\n            </span>\n            <span className=\"statusbar-item\">Ln 1, Col 1</span>\n            <span className=\"statusbar-item success\">\n              <VscCheck /> Synced\n            </span>\n          </div>\n        </div>\n\n        {/* ---- MOBILE BOTTOM TAB BAR ---- */}\n        <div className=\"mobile-tab-bar\">\n          {[\n            { id: \"README.md\", icon: <FaFileAlt />, label: \"Readme\" },\n            { id: \"PROBLEM.md\", icon: <FaLightbulb />, label: \"Problem\" },\n            { id: \"SOLUTION.md\", icon: <FaCheckCircle />, label: \"Solution\" },\n            { id: \"tech-stack.json\", icon: <FaFileCode />, label: \"Tech\" },\n            { id: \"impact.md\", icon: <FaCheckCircle />, label: \"Impact\" },\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              className={`mobile-tab ${activeTab === tab.id ? \"active\" : \"\"}`}\n              onClick={() => openTab(tab.id)}\n            >\n              {tab.icon}\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </div>\n        {/* {showJarvisPrompt && !showJarvis && (\n  <div className=\"jarvis-prompt\">\n    <span></span>\n    <p>Want me to explain <strong>{project.name}</strong>?</p>\n    <div className=\"jarvis-prompt-actions\">\n      <button onClick={() => { setShowJarvis(true); setShowJarvisPrompt(false); }}>\n        Yes, explain!\n      </button>\n      <button className=\"dismiss\" onClick={() => setShowJarvisPrompt(false)}>\n        \n      </button>\n    </div>\n  </div>\n)} */}\n\n        <ProjectAI\n          project={project}\n          activeTab={activeTab}\n          scrollProgress={scrollProgress}\n          // onTabChange={(tab) => {\n          //   setActiveTab(tab);\n          //   setIsLoading(true);\n          // }}\n          onTabChange={handleAITabChange}\n          onOpenSiri={(question) => {\n            setShowJarvis(true);\n            // If your Siri accepts initial question:\n            // pass it through\n          }}\n          isVisible={!showJarvis}\n        />\n\n        {showJarvis && (\n          <div className=\"modal-jarvis-panel\">\n            <Siri\n              onClose={() => setShowJarvis(false)}\n              isMobile={window.innerWidth <= 768}\n            />\n          </div>\n        )}\n        {/* JARVIS Button inside modal */}\n        {/* <button\n          className=\"modal-jarvis-btn\"\n          onClick={() => setShowJarvis(true)}\n          aria-label=\"Ask JARVIS about this project\"\n        >\n           {!showJarvis && <span>Ask </span>}\n        </button> */}\n\n        {/* JARVIS Panel */}\n        {showJarvis && (\n          <div className=\"modal-jarvis-panel\">\n            <Siri\n              onClose={() => setShowJarvis(false)}\n              isMobile={window.innerWidth <= 768}\n              context={`The user is viewing the project: ${project.name}. Description: ${project.description}`}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectModal;\n"],"names":["PREFERRED_VOICES","getIsMobile","window","innerWidth","_ref","_narratorScript$narra","project","activeTab","scrollProgress","onTabChange","onOpenSiri","isVisible","isExpanded","setIsExpanded","useState","hasHinted","setHasHinted","showHint","setShowHint","hintDismissed","setHintDismissed","activeMode","setActiveMode","isMobile","setIsMobile","narratorPlaying","setNarratorPlaying","narratorStep","setNarratorStep","speechSupported","setSpeechSupported","narratorPaused","setNarratorPaused","onTabChangeRef","useRef","onOpenSiriRef","hintTimer","narratorTimer","speechTimeout","utteranceRef","fallbackTimer","keepAliveInterval","narratorPlayingRef","narratorStepRef","chips","useMemo","getChipsForTab","tabName","projectName","base","concat","name","narratorScript","_d$story","_d$story2","_project$languages","_d$impact","d","details","title","text","description","tab","story","problem","solution","languages","map","l","join","impact","getNarratorScript","useEffect","current","check","addEventListener","removeEventListener","synth","speechSynthesis","loadVoices","getVoices","undefined","onvoiceschanged","advanceNarrator","useCallback","_window$speechSynthes","length","p","cancel","setInterval","speaking","pause","resume","clearInterval","clearTimeout","step","setTimeout","wordCount","split","readingTime","Math","max","voice","voices","match","find","v","includes","lang","startsWith","getBestVoice","humanText","replace","trim","u","SpeechSynthesisUtterance","rate","pitch","volume","speechEnded","handleEnd","onend","onerror","e","console","warn","error","maxWait","speak","fallbackTime","err","dismissHint","toggleExpand","prev","closePanel","handleChipClick","chip","startNarrator","unlock","stopNarrator","_window$speechSynthes2","togglePauseNarrator","skipToNext","_window$speechSynthes3","skipToPrev","_window$speechSynthes4","handleKey","key","preventDefault","_window$speechSynthes5","_jsxs","className","children","onClick","role","_jsx","stopPropagation","Array","_","i","disabled","_Fragment","style","animationDelay","terminalText","setTerminalText","_project$name","commands","url","toLowerCase","interval","ArchitectureDiagramSimple","_arch$nodes$find","_arch$nodes$find2","_arch$nodes$find3","architecture","activeNode","setActiveNode","isAnimating","setIsAnimating","arch","nodes","id","label","icon","x","y","connections","from","to","viewBox","x1","y1","x2","y2","offset","stopColor","stdDeviation","result","in","markerWidth","markerHeight","refX","refY","orient","points","fill","conn","index","fromNode","n","toNode","midX","midY","markerEnd","r","filter","dur","repeatCount","path","node","transform","onMouseEnter","onMouseLeave","textAnchor","dy","fontSize","memo","ArchitectureDiagramRAG","_arch$nodes$find4","_arch$nodes$find5","_arch$nodes$find5$cat","_arch$nodes$find6","viewMode","setViewMode","isPlaying","setIsPlaying","currentStep","setCurrentStep","demoQuery","setDemoQuery","demoSteps","nodeId","output","detail","timer","category","type","visibleData","c","getMarkerId","charAt","toUpperCase","slice","currentDemoStep","mode","resetDemo","startDemo","value","onChange","target","placeholder","width","React","preserveAspectRatio","cx","cy","height","patternUnits","stroke","strokeWidth","fromStepIndex","findIndex","s","toStepIndex","isActiveConnection","opacity","main","rag","data","infra","isActive","isVisited","isNodeVisited","cursor","attributeName","fontWeight","ArchitectureDiagram","projectId","log","BeforeAfterSlider","before","after","sliderPosition","setSliderPosition","isDragging","setIsDragging","containerRef","animationFrameRef","targetPositionRef","updatePosition","handleMove","clientX","rect","getBoundingClientRect","left","percentage","min","cancelAnimationFrame","requestAnimationFrame","handleMouseMove","handleTouchMove","touches","startDragging","stopDragging","handleGlobalMouseMove","handleGlobalTouchMove","handleGlobalEnd","document","passive","beforeData","color","afterData","ref","clipPath","backgroundColor","point","borderColor","onMouseDown","onTouchStart","Timeline","milestones","activeMilestone","setActiveMilestone","isArray","date","status","totalItems","completedItems","m","progressPercentage","milestone","leftPosition","LoadingSkeleton","random","useInView","options","arguments","inView","setInView","el","observer","IntersectionObserver","entry","isIntersecting","unobserve","observe","disconnect","StatCard","_ref2","suffix","threshold","count","duration","start","setCount","startTime","animFrame","numTarget","parseInt","isNaN","animate","timestamp","progress","eased","pow","floor","useAnimatedCounter","displayValue","ProficiencyBar","_ref3","level","background","Toast","_ref4","message","onClose","icons","info","VscInfo","success","VscCheck","warning","VscWarning","VscError","VscClose","CommandPalette","_ref5","onSelect","search","setSearch","inputRef","selectedIndex","setSelectedIndex","_inputRef$current","focus","filtered","cmd","_cmd$category","FaSearch","onKeyDown","shortcut","Minimap","_ref6","contentRef","viewportRatio","setViewportRatio","top","minimapRef","content","handleScroll","scrollTop","scrollHeight","clientHeight","clickRatio","clientY","marginTop","_ref8","theme","isOpen","showJarvis","setShowJarvis","setActiveTab","openTabs","setOpenTabs","pinnedTabs","setPinnedTabs","expandedFolders","setExpandedFolders","copied","setCopied","isLoading","setIsLoading","showCommandPalette","setShowCommandPalette","sidebarWidth","setSidebarWidth","isResizing","setIsResizing","setScrollProgress","notifications","setNotifications","showBottomPanel","setShowBottomPanel","sidebarView","setSidebarView","searchQuery","setSearchQuery","zenMode","setZenMode","sidebarCollapsed","setSidebarCollapsed","showMinimap","setShowMinimap","tabContextMenu","setTabContextMenu","editorContentRef","notify","Date","now","handleAITabChange","dismissNotification","handleKeyDown","metaKey","ctrlKey","shiftKey","closeTab","handleResizeStart","startX","startWidth","newWidth","handleMouseUp","body","userSelect","openTab","newTabs","t","push","pinTab","handleTabContextMenu","close","copyCode","code","navigator","clipboard","writeText","FaFileAlt","action","FaLightbulb","FaCheckCircle","FaFileCode","FaImage","FaPlay","FaTerminal","VscFiles","VscSplitHorizontal","FaExpand","FaGithub","open","FaTimes","handleCommandSelect","_cmd$action","call","fileTree","toggleFolder","folderName","f","renderTree","items","depth","item","tabIndex","VscChevronDown","VscChevronRight","FaFolderOpen","FaFolder","FaThumbtack","FaCopy","FaCode","VscTerminal","href","rel","FaExternalLinkAlt","VscSearch","VscSourceControl","VscExtensions","VscSettingsGear","autoFocus","flatMap","onContextMenu","onAuxClick","button","renderContent","_details$newsLinks2","_details$comparison","_details$comparison2","_details$timeline","_details$timeline$","_details$timeline2","_details$timeline3","_details$timeline4","_details$story","_details$comparison3","_details$comparison4","_details$story2","_details$codeSnippets","_project$languages3","_details$techStack","_details$techStack2","_details$techStack3","_details$techStack4","_project$languages4","_details$impact","_details$screenshots","JSON","stringify","stats","stat","section","_details$newsLinks","approach","newsLinks","FaNewspaper","link","j","source","comparison","timeline","team","painPoints","codeSnippets","filename","language","FaCheck","_project$languages2","_objectSpread","techStack","frontend","backend","ai","cloud","Object","entries","_ref9","_techs$","techs","tech","tooltip","proficiency","learnings","learning","screenshots","img","src","alt","loading","demoVideo","frameBorder","allowFullScreen","TerminalComponent","marginLeft","FaKeyboard","endsWith","ProjectAI","question","Siri","context"],"sourceRoot":""}