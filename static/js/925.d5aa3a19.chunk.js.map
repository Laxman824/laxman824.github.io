{"version":3,"file":"static/js/925.d5aa3a19.chunk.js","mappings":"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","sources":["components/ProjectModal/ProjectAI.js","components/ProjectModal/TerminalComponent.js","components/ProjectModal/ArchitectureDiagramSimple.js","components/ProjectModal/ArchitectureDiagramRAG.js","components/ProjectModal/ArchitectureDiagram.js","components/ProjectModal/BeforeAfterSlider.js","components/ProjectModal/Timeline.js","components/ProjectModal/LoadingSkeleton.js","components/ProjectModal/ProjectModal.js"],"sourcesContent":["import React, {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport \"./ProjectAI.css\";\n\n// ============================================\n// SMART CHIPS\n// ============================================\nconst getChipsForTab = (tabName, projectName) => {\n  const base = {\n    \"README.md\": [\n      `Summarize ${projectName}`,\n      \"What's unique about this?\",\n      \"Biggest challenge?\",\n    ],\n    \"PROBLEM.md\": [\n      \"Why was this important?\",\n      \"Existing solutions?\",\n      \"User pain point?\",\n    ],\n    \"SOLUTION.md\": [\n      \"Explain the architecture\",\n      \"Why this tech stack?\",\n      \"How does data flow?\",\n    ],\n    \"tech-stack.json\": [\n      \"Why these tools?\",\n      \"Any trade-offs?\",\n      \"What would you change?\",\n    ],\n    \"impact.md\": [\"Key metrics?\", \"How was success measured?\", \"What's next?\"],\n  };\n  return base[tabName] || base[\"README.md\"];\n};\n\n// ============================================\n// NARRATOR SCRIPT\n// ============================================\nconst getNarratorScript = (project) => {\n  const d = project?.details || {};\n  return [\n    {\n      title: \"Intro\",\n      text: `Let me tell you about ${project.name}. ${project.description}`,\n      tab: \"README.md\",\n    },\n    {\n      title: \"Problem\",\n      text: `So, here's the problem it solves. ${\n        d.story?.problem ||\n        d.problem ||\n        \"This project addresses a real-world challenge.\"\n      }`,\n      tab: \"PROBLEM.md\",\n    },\n    {\n      title: \"Solution\",\n      text: `And here's how I solved it. ${\n        d.story?.solution ||\n        d.solution ||\n        \"I built a solution using modern technologies.\"\n      }`,\n      tab: \"SOLUTION.md\",\n    },\n    {\n      title: \"Tech\",\n      text: `For the tech stack, I used ${\n        project.languages?.map((l) => l.name).join(\", and \") ||\n        \"modern technologies\"\n      }. Each was chosen for a specific reason.`,\n      tab: \"tech-stack.json\",\n    },\n    {\n      title: \"Impact\",\n      text: `Now for the results. ${\n        d.impact?.[0] || \"This project made a meaningful impact.\"\n      }`,\n      tab: \"impact.md\",\n    },\n  ];\n};\n// ============================================\n// MAIN COMPONENT\n// ============================================\nconst ProjectAI = ({\n  project,\n  activeTab,\n  scrollProgress,\n  onTabChange,\n  onOpenSiri,\n  isVisible,\n}) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n  const [hasHinted, setHasHinted] = useState(false);\n  const [showHint, setShowHint] = useState(false);\n  const [hintDismissed, setHintDismissed] = useState(false);\n  const [activeMode, setActiveMode] = useState(\"narrator\"); // \"chips\" or \"narrator\"\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 768);\n  const [narratorPlaying, setNarratorPlaying] = useState(false);\n  const [narratorStep, setNarratorStep] = useState(0);\n\n  //  Refs to avoid dependency loops\n  const onTabChangeRef = useRef(onTabChange);\n  const onOpenSiriRef = useRef(onOpenSiri);\n  const hintTimer = useRef(null);\n  const narratorTimer = useRef(null);\n  const speechTimeout = useRef(null);\n  const utteranceRef = useRef(null); // <--- ADD THIS\n\n  const chips = useMemo(() => getChipsForTab(activeTab, project?.name), [\n    activeTab,\n    project?.name,\n  ]);\n  const narratorScript = useMemo(() => getNarratorScript(project), [project]);\n\n  // ---- Keep refs updated ----\n  useEffect(() => {\n    onTabChangeRef.current = onTabChange;\n  }, [onTabChange]);\n  useEffect(() => {\n    onOpenSiriRef.current = onOpenSiri;\n  }, [onOpenSiri]);\n\n  // // ---- Mobile detection ----\n  // useEffect(() => {\n  //   const check = () => setIsMobile(window.innerWidth <= 768);\n  //   window.addEventListener(\"resize\", check);\n  //   return () => window.removeEventListener(\"resize\", check);\n  // }, []);\n\n  // useEffect(() => {\n  //   if (!narratorPlaying) return;\n\n  //   const step = narratorScript[narratorStep];\n  //   if (!step) {\n  //     setNarratorPlaying(false);\n  //     return;\n  //   }\n\n  //   if (onTabChangeRef.current) {\n  //     onTabChangeRef.current(step.tab);\n  //   }\n\n  //   const synth = window.speechSynthesis;\n  //   if (synth) {\n  //     synth.cancel();\n\n  //     speechTimeout.current = setTimeout(() => {\n  //       const voices = synth.getVoices();\n  //       const voice = getBestVoice(voices);\n  //       const humanText = humanizeText(step.text);\n\n  //       const u = new SpeechSynthesisUtterance(humanText);\n\n  //       //  Natural speech settings\n  //       u.voice = voice;\n  //       u.rate = 0.92; // Slightly slower = more natural\n  //       u.pitch = 1.0; // Neutral pitch\n  //       u.volume = 0.95; // Not max  feels softer\n\n  //       console.log(` Voice: ${voice?.name}`);\n\n  //       u.onend = () => {\n  //         narratorTimer.current = setTimeout(() => {\n  //           if (narratorStep < narratorScript.length - 1) {\n  //             setNarratorStep((p) => p + 1);\n  //           } else {\n  //             setNarratorPlaying(false);\n  //           }\n  //         }, 1000); // 1s natural pause between sections\n  //       };\n\n  //       u.onerror = () => {\n  //         narratorTimer.current = setTimeout(() => {\n  //           if (narratorStep < narratorScript.length - 1) {\n  //             setNarratorStep((p) => p + 1);\n  //           } else {\n  //             setNarratorPlaying(false);\n  //           }\n  //         }, 1000);\n  //       };\n\n  //       synth.speak(u);\n  //     }, 200);\n  //   }\n\n  //   return () => {\n  //     clearTimeout(narratorTimer.current);\n  //     clearTimeout(speechTimeout.current);\n  //   };\n  // }, [narratorStep, narratorPlaying, narratorScript]);\n// ============================================\n  //  FIXED NARRATOR EFFECT (Mobile GC Safe)\n  // ============================================\n  useEffect(() => {\n    if (!narratorPlaying) {\n      window.speechSynthesis?.cancel();\n      return;\n    }\n\n    const step = narratorScript[narratorStep];\n    if (!step) {\n      setNarratorPlaying(false);\n      return;\n    }\n\n    // Switch tab\n    if (onTabChangeRef.current) {\n      onTabChangeRef.current(step.tab);\n    }\n\n    const synth = window.speechSynthesis;\n\n    // slight delay to allow tab switch to happen visually first\n    speechTimeout.current = setTimeout(() => {\n      if (!synth) return;\n      \n      // Cancel anything currently speaking before starting new\n      synth.cancel(); \n\n      const voices = synth.getVoices();\n      const voice = getBestVoice(voices);\n      const humanText = humanizeText(step.text);\n\n      // Create utterance\n      const u = new SpeechSynthesisUtterance(humanText);\n      \n      //  CRITICAL FIX FOR MOBILE: \n      // Store it in a Ref so it doesn't get garbage collected\n      utteranceRef.current = u;\n\n      u.voice = voice;\n      u.rate = 0.95; \n      u.pitch = 1.0;\n      u.volume = 1.0; // Max volume for mobile\n\n      // Handle when speech finishes\n      u.onend = () => {\n        narratorTimer.current = setTimeout(() => {\n          if (narratorStep < narratorScript.length - 1) {\n            setNarratorStep((p) => p + 1);\n          } else {\n            setNarratorPlaying(false);\n          }\n        }, 1200); // Wait 1.2s before next slide\n      };\n\n      // Handle errors (common on mobile if screen locks)\n      u.onerror = (e) => {\n        console.error(\"Speech error:\", e);\n        // Fallback: Force move to next slide anyway\n        narratorTimer.current = setTimeout(() => {\n            if (narratorStep < narratorScript.length - 1) {\n              setNarratorStep((p) => p + 1);\n            } else {\n              setNarratorPlaying(false);\n            }\n        }, 2000); \n      };\n\n      synth.speak(u);\n\n    }, 300); // 300ms delay to let UI settle\n\n    return () => {\n      clearTimeout(narratorTimer.current);\n      clearTimeout(speechTimeout.current);\n      // We do NOT cancel on unmount of the effect immediately, \n      // or it cuts off the voice when React re-renders.\n    };\n  }, [narratorStep, narratorPlaying, narratorScript]);\n  \n  const PREFERRED_VOICES = [\n    // Premium neural voices (Edge/Windows)\n    \"Microsoft Aria Online (Natural)\",\n    \"Microsoft Jenny Online (Natural)\",\n    \"Microsoft Guy Online (Natural)\",\n    \"Microsoft Ana Online (Natural)\",\n\n    // Google high-quality\n    \"Google US English\",\n    \"Google UK English Female\",\n    \"Google UK English Male\",\n\n    // macOS/iOS premium\n    \"Samantha\",\n    \"Karen\",\n    \"Daniel\",\n    \"Moira\",\n\n    // Fallbacks\n    \"Microsoft Zira\",\n    \"Microsoft David\",\n    \"Alex\",\n  ];\n\n  const getBestVoice = (voices) => {\n    for (const name of PREFERRED_VOICES) {\n      const match = voices.find((v) => v.name.includes(name));\n      if (match) return match;\n    }\n    // Last resort: any English voice\n    return (\n      voices.find((v) => v.lang === \"en-US\") ||\n      voices.find((v) => v.lang.startsWith(\"en\")) ||\n      voices[0]\n    );\n  };\n\n  const humanizeText = (text) => {\n    return (\n      text\n        //  Remove ALL emojis\n        .replace(/[\\u{1F600}-\\u{1F64F}]/gu, \"\")\n        .replace(/[\\u{1F300}-\\u{1F5FF}]/gu, \"\")\n        .replace(/[\\u{1F680}-\\u{1F6FF}]/gu, \"\")\n        .replace(/[\\u{1F1E0}-\\u{1F1FF}]/gu, \"\")\n        .replace(/[\\u{2600}-\\u{26FF}]/gu, \"\")\n        .replace(/[\\u{2700}-\\u{27BF}]/gu, \"\")\n        .replace(/[\\u{FE00}-\\u{FE0F}]/gu, \"\")\n        .replace(/[\\u{1F900}-\\u{1F9FF}]/gu, \"\")\n        .replace(/[\\u{1FA00}-\\u{1FA6F}]/gu, \"\")\n        .replace(/[\\u{1FA70}-\\u{1FAFF}]/gu, \"\")\n        .replace(/[\\u{200D}]/gu, \"\")\n        .replace(/[\\u{20E3}]/gu, \"\")\n\n        //  Add pause after sentences\n        .replace(/\\. /g, \"... \")\n\n        //  Add pause after commas\n        .replace(/, /g, \",  \")\n\n        //  Add pause after colons\n        .replace(/: /g, \"...  \")\n\n        //  Add pause after semicolons\n        .replace(/; /g, \"...  \")\n\n        //  Long text  add breathing pauses every ~80 chars\n        .replace(/(.{60,100}?[\\.\\,\\;\\:]) /g, \"$1 ... \")\n\n        // Spell out acronyms\n        .replace(/API/g, \"A P I\")\n        .replace(/UI/g, \"U I\")\n        .replace(/SQL/g, \"sequel\")\n        .replace(/NoSQL/g, \"no sequel\")\n        .replace(/AWS/g, \"A W S\")\n        .replace(/GCP/g, \"G C P\")\n        .replace(/CI\\/CD/g, \"C I C D\")\n        .replace(/REST/g, \"rest\")\n        .replace(/MongoDB/g, \"Mongo D B\")\n        .replace(/Node\\.js/g, \"Node JS\")\n        .replace(/React\\.js/g, \"React JS\")\n        .replace(/Next\\.js/g, \"Next JS\")\n        .replace(/HTML/g, \"H T M L\")\n        .replace(/CSS/g, \"C S S\")\n        .replace(/LLM/g, \"L L M\")\n        .replace(/NLP/g, \"N L P\")\n        .replace(/ML/g, \"M L\")\n        .replace(/AI/g, \"A I\")\n\n        //  Clean up extra spaces\n        .replace(/\\s{3,}/g, \"  \")\n        .trim()\n    );\n  }; // ---- Hint (shows once after 30s) ----\n  useEffect(() => {\n    if (hasHinted || hintDismissed) return;\n    hintTimer.current = setTimeout(() => {\n      setShowHint(true);\n      setHasHinted(true);\n      setTimeout(() => setShowHint(false), 6000);\n    }, 9000);\n    return () => clearTimeout(hintTimer.current);\n  }, [hasHinted, hintDismissed]);\n\n  // ---- Handlers ----\n  const dismissHint = useCallback(() => {\n    setShowHint(false);\n    setHintDismissed(true);\n    clearTimeout(hintTimer.current);\n  }, []);\n\n  const toggleExpand = useCallback(() => {\n    setIsExpanded((prev) => !prev);\n    dismissHint();\n  }, [dismissHint]);\n\n  const closePanel = useCallback(() => {\n    setIsExpanded(false);\n    // Only stop narrator if panel closes, NOT speech\n  }, []);\n\n  const handleChipClick = useCallback(\n    (chip) => {\n      closePanel();\n      if (onOpenSiriRef.current) onOpenSiriRef.current(chip);\n    },\n    [closePanel]\n  );\n\n  const startNarrator = useCallback(() => {\n    setNarratorStep(0);\n    setNarratorPlaying(true);\n    //  Auto-close panel so content is visible\n    setIsExpanded(false);\n  }, []);\n\n  const stopNarrator = useCallback(() => {\n    setNarratorPlaying(false);\n    setNarratorStep(0);\n    clearTimeout(narratorTimer.current);\n    clearTimeout(speechTimeout.current);\n    //  Only cancel speech when user explicitly stops\n    window.speechSynthesis?.cancel();\n  }, []);\n\n  // ---- Escape to close ----\n  useEffect(() => {\n    const handleKey = (e) => {\n      if (e.key === \"Escape\") {\n        if (narratorPlaying) stopNarrator();\n        else closePanel();\n      }\n    };\n    window.addEventListener(\"keydown\", handleKey);\n    return () => window.removeEventListener(\"keydown\", handleKey);\n  }, [closePanel, stopNarrator, narratorPlaying]);\n\n  if (!isVisible) return null;\n\n  // ============================================\n  // RENDER\n  // ============================================\n  return (\n    <div className=\"project-ai-wrapper\">\n      {/* ---- Subtle hint ---- */}\n      {showHint && !isExpanded && !narratorPlaying && (\n        <div className=\"ai-hint\" onClick={dismissHint} role=\"status\">\n          <span></span>\n          <span className=\"ai-hint-text\">I can explain this project</span>\n          <button\n            className=\"ai-hint-dismiss\"\n            onClick={(e) => {\n              e.stopPropagation();\n              dismissHint();\n            }}\n            aria-label=\"Dismiss\"\n          >\n            \n          </button>\n        </div>\n      )}\n\n      {/* ---- Narrator floating bar (when playing but panel closed) ---- */}\n      {narratorPlaying && !isExpanded && (\n        <div className=\"ai-narrator-bar\">\n          <div className=\"narrator-mini-wave\">\n            {[...Array(4)].map((_, i) => (\n              <span key={i} className=\"mini-wave-bar\" />\n            ))}\n          </div>\n          <span className=\"narrator-bar-title\">\n            {narratorScript[narratorStep]?.title}\n          </span>\n          <div className=\"narrator-bar-progress\">\n            {narratorScript.map((_, i) => (\n              <span\n                key={i}\n                className={`progress-dot ${\n                  i === narratorStep ? \"active\" : i < narratorStep ? \"done\" : \"\"\n                }`}\n              />\n            ))}\n          </div>\n          <button\n            className=\"narrator-bar-stop\"\n            onClick={stopNarrator}\n            aria-label=\"Stop narration\"\n          >\n            \n          </button>\n        </div>\n      )}\n\n      {/* ---- AI Pill Button ---- */}\n{/* ---- AI Pill Button ---- */}\n{!narratorPlaying && (\n  <button\n    className={`ai-pill ${isExpanded ? \"active\" : \"\"}`}\n    onClick={toggleExpand}\n    aria-label={isExpanded ? \"Close AI\" : \"Open AI\"}\n    aria-expanded={isExpanded}\n  >\n    <span className=\"ai-pill-icon\"></span>\n    {/* Removed !isMobile check so it always shows */}\n    <span className=\"ai-pill-label\">ASK AI</span>\n  </button>\n)}\n\n      {/* ---- Expanded Panel ---- */}\n      {isExpanded && (\n        <>\n          {/*  Backdrop  NO blur on mobile, just catches clicks */}\n          <div\n            className={`ai-backdrop ${isMobile ? \"mobile\" : \"\"}`}\n            onClick={closePanel}\n          />\n\n          <div className={`ai-panel ${isMobile ? \"mobile\" : \"\"}`}>\n            <div className=\"ai-panel-header\">\n              <div className=\"ai-panel-title\">\n                <span></span>\n                <span>JARVIS</span>\n                <span className=\"ai-panel-context\">{activeTab}</span>\n              </div>\n              <button\n                className=\"ai-panel-close\"\n                onClick={closePanel}\n                aria-label=\"Close\"\n              >\n                \n              </button>\n            </div>\n\n            <div className=\"ai-panel-modes\">\n              <button\n                className={activeMode === \"chips\" ? \"active\" : \"\"}\n                onClick={() => setActiveMode(\"chips\")}\n              >\n                 Ask\n              </button>\n              <button\n                className={activeMode === \"narrator\" ? \"active\" : \"\"}\n                onClick={() => setActiveMode(\"narrator\")}\n              >\n                 Present\n              </button>\n              <button\n                onClick={() => {\n                  closePanel();\n                  if (onOpenSiriRef.current) onOpenSiriRef.current();\n                }}\n              >\n                 Chat\n              </button>\n            </div>\n\n            <div className=\"ai-panel-body\">\n              {activeMode === \"chips\" && (\n                <div className=\"ai-chips-section\">\n                  <div className=\"ai-chips-list\">\n                    {chips.map((chip, i) => (\n                      <button\n                        key={chip}\n                        className=\"ai-chip\"\n                        onClick={() => handleChipClick(chip)}\n                        style={{ animationDelay: `${i * 0.06}s` }}\n                      >\n                        {chip}\n                      </button>\n                    ))}\n                  </div>\n                  <button\n                    className=\"ai-custom-ask\"\n                    onClick={() => {\n                      closePanel();\n                      if (onOpenSiriRef.current) onOpenSiriRef.current();\n                    }}\n                  >\n                     Ask something else...\n                  </button>\n                </div>\n              )}\n\n              {activeMode === \"narrator\" && (\n                <div className=\"ai-narrator-section\">\n                  <div className=\"narrator-steps\">\n                    {narratorScript.map((step, i) => (\n                      <div key={i} className=\"narrator-step\">\n                        <div className=\"narrator-step-dot\" />\n                        <span>{step.title}</span>\n                      </div>\n                    ))}\n                  </div>\n                  <button\n                    className=\"narrator-start-btn\"\n                    onClick={startNarrator}\n                  >\n                     Auto-present this project\n                  </button>\n                  <p className=\"narrator-note\">\n                    Panel will close so you can see content while it narrates\n                  </p>\n                </div>\n              )}\n            </div>\n          </div>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default ProjectAI;\n","import React, { useState, useEffect } from \"react\";\n\n// This component manages its own state.\n// Updates here will NOT cause the rest of the ProjectModal to re-render.\nconst TerminalComponent = ({ project }) => {\n  const [terminalText, setTerminalText] = useState(\"\");\n\n  useEffect(() => {\n    const commands = [\n      \"$ git clone \" + (project?.url || \"https://github.com/project\"),\n      \"$ cd \" +\n        (project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() || \"project\"),\n      \"$ npm install\",\n      \"$ npm run dev\",\n      \"\",\n      \" Ready on http://localhost:3000\",\n    ];\n    let i = 0;\n    let text = \"\";\n\n    // Faster typing for smoother feel\n    const interval = setInterval(() => {\n      if (i < commands.length) {\n        text += commands[i] + \"\\n\";\n        setTerminalText(text);\n        i++;\n      } else {\n        clearInterval(interval);\n      }\n    }, 150); // Reduced delay for snappier feel\n\n    return () => clearInterval(interval);\n  }, [project]);\n\n  return (\n    <div className=\"content-terminal\">\n      <div className=\"terminal-header\">\n        <span className=\"terminal-dot red\"></span>\n        <span className=\"terminal-dot yellow\"></span>\n        <span className=\"terminal-dot green\"></span>\n        <span className=\"terminal-title\">Terminal - zsh</span>\n      </div>\n      <pre className=\"terminal-body\">\n        {terminalText}\n        <span className=\"cursor\"></span>\n      </pre>\n    </div>\n  );\n};\n\nexport default TerminalComponent;\n","// src/components/ArchitectureDiagramSimple.js\nimport React, { useState, memo } from \"react\";\nimport \"./ArchitectureDiagram.css\"; // Uses shared CSS\n\nconst ArchitectureDiagramSimple = ({ architecture }) => {\n  const [activeNode, setActiveNode] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(true);\n\n  // Default architecture fallback\n  const defaultArchitecture = {\n    nodes: [\n      {\n        id: \"user\",\n        label: \"User\",\n        icon: \"\",\n        x: 10,\n        y: 50,\n        description: \"End user interacts with the system\",\n      },\n      {\n        id: \"frontend\",\n        label: \"Frontend\",\n        icon: \"\",\n        x: 30,\n        y: 50,\n        description: \"React/Next.js application\",\n      },\n      {\n        id: \"api\",\n        label: \"API Gateway\",\n        icon: \"\",\n        x: 50,\n        y: 50,\n        description: \"FastAPI/Express handling requests\",\n      },\n      {\n        id: \"ai\",\n        label: \"AI Engine\",\n        icon: \"\",\n        x: 70,\n        y: 30,\n        description: \"LLM processing & embeddings\",\n      },\n      {\n        id: \"db\",\n        label: \"Database\",\n        icon: \"\",\n        x: 70,\n        y: 70,\n        description: \"PostgreSQL/MongoDB storage\",\n      },\n      {\n        id: \"cloud\",\n        label: \"Cloud\",\n        icon: \"\",\n        x: 90,\n        y: 50,\n        description: \"GCP/AWS infrastructure\",\n      },\n    ],\n    connections: [\n      { from: \"user\", to: \"frontend\", label: \"HTTPS\" },\n      { from: \"frontend\", to: \"api\", label: \"REST/GraphQL\" },\n      { from: \"api\", to: \"ai\", label: \"Inference\" },\n      { from: \"api\", to: \"db\", label: \"Query\" },\n      { from: \"ai\", to: \"cloud\", label: \"Deploy\" },\n      { from: \"db\", to: \"cloud\", label: \"Hosted\" },\n    ],\n  };\n\n  const arch = architecture || defaultArchitecture;\n  return (\n    <div className=\"architecture-diagram\">\n      <div className=\"diagram-header\">\n        <h3>System Architecture</h3>\n        <button\n          className={`animate-btn ${isAnimating ? \"active\" : \"\"}`}\n          onClick={() => setIsAnimating(!isAnimating)}\n        >\n          {isAnimating ? \" Pause\" : \" Animate\"}\n        </button>\n      </div>\n\n      <svg viewBox=\"0 0 100 100\" className=\"diagram-svg\">\n        <defs>\n          {/* Gradient for connections */}\n          <linearGradient\n            id=\"connectionGradient\"\n            x1=\"0%\"\n            y1=\"0%\"\n            x2=\"100%\"\n            y2=\"0%\"\n          >\n            <stop offset=\"0%\" stopColor=\"#667eea\" />\n            <stop offset=\"100%\" stopColor=\"#764ba2\" />\n          </linearGradient>\n\n          {/* Glow filter */}\n          <filter id=\"glow\">\n            <feGaussianBlur stdDeviation=\"1\" result=\"coloredBlur\" />\n            <feMerge>\n              <feMergeNode in=\"coloredBlur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n\n          {/* Arrow marker */}\n          <marker\n            id=\"arrowhead\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#667eea\" />\n          </marker>\n        </defs>\n\n        {/* Connections */}\n        {arch.connections.map((conn, index) => {\n          const fromNode = arch.nodes.find((n) => n.id === conn.from);\n          const toNode = arch.nodes.find((n) => n.id === conn.to);\n          if (!fromNode || !toNode) return null;\n\n          const midX = (fromNode.x + toNode.x) / 2;\n          const midY = (fromNode.y + toNode.y) / 2;\n\n          return (\n            <g\n              key={index}\n              className={`connection ${isAnimating ? \"animating\" : \"\"}`}\n            >\n              {/* Connection line */}\n              <line\n                x1={fromNode.x}\n                y1={fromNode.y}\n                x2={toNode.x}\n                y2={toNode.y}\n                className=\"connection-line\"\n                markerEnd=\"url(#arrowhead)\"\n              />\n\n              {/* Animated data packet */}\n              {isAnimating && (\n                <circle r=\"0.8\" fill=\"#4ade80\" filter=\"url(#glow)\">\n                  <animateMotion\n                    dur={`${1.5 + index * 0.3}s`}\n                    repeatCount=\"indefinite\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n\n              {/* Connection label */}\n              <text x={midX} y={midY - 2} className=\"connection-label\">\n                {conn.label}\n              </text>\n            </g>\n          );\n        })}\n\n        {/* Nodes */}\n        {arch.nodes.map((node) => (\n          <g\n            key={node.id}\n            className={`node ${activeNode === node.id ? \"active\" : \"\"}`}\n            //  CRITICAL: Translate is applied to the group.\n            // The CSS must NOT override 'transform' on .node, but on .node-circle\n            transform={`translate(${node.x}, ${node.y})`}\n            onMouseEnter={() => setActiveNode(node.id)}\n            onMouseLeave={() => setActiveNode(null)}\n          >\n            {/* Node circle - This element scales on hover via CSS */}\n            <circle r=\"6\" className=\"node-circle\" />\n\n            {/* Node icon */}\n            <text className=\"node-icon\" textAnchor=\"middle\" dy=\"2\" fontSize=\"4\">\n              {node.icon}\n            </text>\n\n            {/* Node label */}\n            <text\n              className=\"node-label\"\n              textAnchor=\"middle\"\n              dy=\"12\"\n              fontSize=\"3\"\n            >\n              {node.label}\n            </text>\n          </g>\n        ))}\n      </svg>\n\n      {/* Tooltip */}\n      {activeNode && (\n        <div className=\"diagram-tooltip glassmorphism\">\n          <div className=\"tooltip-header\">\n            <span className=\"tooltip-icon\">\n              {arch.nodes.find((n) => n.id === activeNode)?.icon}\n            </span>\n            <span className=\"tooltip-title\">\n              {arch.nodes.find((n) => n.id === activeNode)?.label}\n            </span>\n          </div>\n          <p className=\"tooltip-description\">\n            {arch.nodes.find((n) => n.id === activeNode)?.description}\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default memo(ArchitectureDiagramSimple);\n","// export default memo(ArchitectureDiagramRAG);\nimport React, { useState, useEffect, memo } from \"react\";\nimport \"./ArchitectureDiagramRAG.css\";\n\nconst ArchitectureDiagramRAG = () => {\n  const [activeNode, setActiveNode] = useState(null);\n  const [isAnimating, setIsAnimating] = useState(true);\n  const [viewMode, setViewMode] = useState(\"full\");\n\n  // Demo State\n  const [isPlaying, setIsPlaying] = useState(false);\n  const [currentStep, setCurrentStep] = useState(-1);\n  const [demoQuery, setDemoQuery] = useState(\"What is machine learning?\");\n\n  // Demo Steps Data\n  const demoSteps = [\n    {\n      nodeId: \"user\",\n      title: \"User Query\",\n      output: `\"${demoQuery}\"`,\n      detail: \"Natural language question submitted\",\n    },\n    {\n      nodeId: \"frontend\",\n      title: \"Frontend Processing\",\n      output: \"Validated & sanitized input\",\n      detail: \"React captures and sends to API\",\n    },\n    {\n      nodeId: \"api\",\n      title: \"API Gateway\",\n      output: \"POST /api/search { query: '...' }\",\n      detail: \"Request authenticated & routed\",\n    },\n    {\n      nodeId: \"query_processor\",\n      title: \"Query Processing\",\n      output: \"Intent: DEFINITION | Entities: ['machine learning']\",\n      detail: \"NLP analysis complete\",\n    },\n    {\n      nodeId: \"embeddings\",\n      title: \"Embedding Generation\",\n      output: \"[0.234, -0.567, 0.891, 0.123, -0.456, ...]\",\n      detail: \"1536-dim vector created (OpenAI Ada)\",\n    },\n    {\n      nodeId: \"vector_db\",\n      title: \"Vector Search\",\n      output: \"Found 847 documents  Top 5 selected\",\n      detail: \"Cosine similarity: 0.94, 0.91, 0.89...\",\n    },\n    {\n      nodeId: \"retriever\",\n      title: \"Document Retrieval\",\n      output: \"Retrieved 3 chunks (2,847 tokens)\",\n      detail: \"Sources: wiki.ml, arxiv.org, docs.ai\",\n    },\n    {\n      nodeId: \"context_builder\",\n      title: \"Context Assembly\",\n      output: \"Prompt: [System] + [Context] + [Query]\",\n      detail: \"4,096 tokens prepared for LLM\",\n    },\n    {\n      nodeId: \"llm\",\n      title: \"LLM Generation\",\n      output: `\"Machine learning is a subset of AI that enables systems to learn from data...\"`,\n      detail: \"GPT-4 response in 1.2s\",\n    },\n  ];\n\n  // Play Demo Logic\n  useEffect(() => {\n    let timer;\n    if (isPlaying && currentStep < demoSteps.length - 1) {\n      timer = setTimeout(() => {\n        setCurrentStep((prev) => prev + 1);\n      }, 2000);\n    } else if (currentStep >= demoSteps.length - 1) {\n      setTimeout(() => {\n        setIsPlaying(false);\n      }, 3000);\n    }\n    return () => clearTimeout(timer);\n  }, [isPlaying, currentStep]);\n\n  const startDemo = () => {\n    setCurrentStep(0);\n    setIsPlaying(true);\n    setIsAnimating(false);\n  };\n\n  const resetDemo = () => {\n    setCurrentStep(-1);\n    setIsPlaying(false);\n    setIsAnimating(true);\n  };\n\n  const arch = {\n    nodes: [\n      {\n        id: \"user\",\n        label: \"User\",\n        icon: \"\",\n        x: 8,\n        y: 25,\n        category: \"main\",\n        description: \"End user sends natural language queries\",\n      },\n      {\n        id: \"frontend\",\n        label: \"Frontend\",\n        icon: \"\",\n        x: 22,\n        y: 25,\n        category: \"main\",\n        description: \"React/Next.js application\",\n      },\n      {\n        id: \"api\",\n        label: \"API Gateway\",\n        icon: \"\",\n        x: 38,\n        y: 25,\n        category: \"main\",\n        description: \"FastAPI handling requests\",\n      },\n      {\n        id: \"query_processor\",\n        label: \"Query Processor\",\n        icon: \"\",\n        x: 52,\n        y: 25,\n        category: \"rag\",\n        description: \"Analyzes user queries\",\n      },\n      {\n        id: \"embeddings\",\n        label: \"Embeddings\",\n        icon: \"\",\n        x: 52,\n        y: 50,\n        category: \"rag\",\n        description: \"Text to vector conversion\",\n      },\n      {\n        id: \"vector_db\",\n        label: \"Vector Store\",\n        icon: \"\",\n        x: 68,\n        y: 50,\n        category: \"rag\",\n        description: \"Semantic similarity search\",\n      },\n      {\n        id: \"retriever\",\n        label: \"Retriever\",\n        icon: \"\",\n        x: 82,\n        y: 50,\n        category: \"rag\",\n        description: \"Fetches relevant documents\",\n      },\n      {\n        id: \"context_builder\",\n        label: \"Context Builder\",\n        icon: \"\",\n        x: 82,\n        y: 25,\n        category: \"rag\",\n        description: \"Assembles context\",\n      },\n      {\n        id: \"llm\",\n        label: \"LLM Engine\",\n        icon: \"\",\n        x: 68,\n        y: 25,\n        category: \"rag\",\n        description: \"Generates response\",\n      },\n      {\n        id: \"knowledge_base\",\n        label: \"Knowledge Base\",\n        icon: \"\",\n        x: 52,\n        y: 75,\n        category: \"data\",\n        description: \"Document storage\",\n      },\n      {\n        id: \"chunker\",\n        label: \"Chunker\",\n        icon: \"\",\n        x: 68,\n        y: 75,\n        category: \"data\",\n        description: \"Splits documents\",\n      },\n      {\n        id: \"db\",\n        label: \"Database\",\n        icon: \"\",\n        x: 22,\n        y: 75,\n        category: \"data\",\n        description: \"Metadata storage\",\n      },\n      {\n        id: \"cache\",\n        label: \"Cache\",\n        icon: \"\",\n        x: 38,\n        y: 50,\n        category: \"infra\",\n        description: \"Redis cache\",\n      },\n      {\n        id: \"cloud\",\n        label: \"Cloud\",\n        icon: \"\",\n        x: 92,\n        y: 75,\n        category: \"infra\",\n        description: \"Infrastructure\",\n      },\n    ],\n    connections: [\n      { from: \"user\", to: \"frontend\", label: \"Query\", type: \"main\" },\n      { from: \"frontend\", to: \"api\", label: \"REST\", type: \"main\" },\n      { from: \"api\", to: \"query_processor\", label: \"Process\", type: \"main\" },\n      {\n        from: \"query_processor\",\n        to: \"embeddings\",\n        label: \"Encode\",\n        type: \"rag\",\n      },\n      { from: \"embeddings\", to: \"vector_db\", label: \"Search\", type: \"rag\" },\n      { from: \"vector_db\", to: \"retriever\", label: \"Top-K\", type: \"rag\" },\n      {\n        from: \"retriever\",\n        to: \"context_builder\",\n        label: \"Chunks\",\n        type: \"rag\",\n      },\n      { from: \"context_builder\", to: \"llm\", label: \"Prompt\", type: \"rag\" },\n      { from: \"llm\", to: \"query_processor\", label: \"Response\", type: \"rag\" },\n      { from: \"knowledge_base\", to: \"chunker\", label: \"Ingest\", type: \"data\" },\n      { from: \"chunker\", to: \"embeddings\", label: \"Embed\", type: \"data\" },\n      { from: \"chunker\", to: \"vector_db\", label: \"Store\", type: \"data\" },\n      { from: \"api\", to: \"cache\", label: \"Check\", type: \"infra\" },\n      { from: \"cache\", to: \"embeddings\", label: \"Miss\", type: \"infra\" },\n      { from: \"api\", to: \"db\", label: \"Metadata\", type: \"infra\" },\n      { from: \"vector_db\", to: \"cloud\", label: \"Hosted\", type: \"infra\" },\n      { from: \"llm\", to: \"cloud\", label: \"GPU\", type: \"infra\" },\n    ],\n  };\n\n  const getVisibleData = () => {\n    if (viewMode === \"full\") return arch;\n    if (viewMode === \"rag\") {\n      return {\n        nodes: arch.nodes.filter((n) => [\"rag\", \"data\"].includes(n.category)),\n        connections: arch.connections.filter((c) =>\n          [\"rag\", \"data\"].includes(c.type)\n        ),\n      };\n    }\n    if (viewMode === \"simple\") {\n      return {\n        nodes: arch.nodes.filter((n) => n.category === \"main\"),\n        connections: arch.connections.filter((c) => c.type === \"main\"),\n      };\n    }\n    return arch;\n  };\n\n  const visibleData = getVisibleData();\n\n  const getCategoryColor = (category) => {\n    const colors = {\n      main: \"#667eea\",\n      rag: \"#f472b6\",\n      data: \"#4ade80\",\n      infra: \"#fbbf24\",\n    };\n    return colors[category] || \"#667eea\";\n  };\n\n  const getGradientId = (type) => `${type}Gradient`;\n  const getMarkerId = (type) =>\n    `arrow${type.charAt(0).toUpperCase() + type.slice(1)}`;\n  const getNodeGradientId = (category) =>\n    `nodeGradient${category.charAt(0).toUpperCase() + category.slice(1)}`;\n\n  // Check if node is currently active in demo\n  const isNodeActive = (nodeId) => {\n    if (!isPlaying && currentStep === -1) return false;\n    const stepIndex = demoSteps.findIndex((s) => s.nodeId === nodeId);\n    return stepIndex === currentStep;\n  };\n\n  // Check if node has been visited in demo\n  const isNodeVisited = (nodeId) => {\n    if (!isPlaying && currentStep === -1) return false;\n    const stepIndex = demoSteps.findIndex((s) => s.nodeId === nodeId);\n    return stepIndex < currentStep;\n  };\n\n  const currentDemoStep = currentStep >= 0 ? demoSteps[currentStep] : null;\n\n  return (\n    <div className=\"rag-architecture-diagram\">\n      {/* Header */}\n      <div className=\"rag-diagram-header\">\n        <div className=\"rag-header-left\">\n          <h3> AI Search Architecture with RAG</h3>\n          <div className=\"rag-legend\">\n            <span className=\"rag-legend-item\">\n              <span className=\"dot main\"></span>Main\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot rag\"></span>RAG\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot data\"></span>Data\n            </span>\n            <span className=\"rag-legend-item\">\n              <span className=\"dot infra\"></span>Infra\n            </span>\n          </div>\n        </div>\n        <div className=\"rag-header-controls\">\n          <div className=\"rag-view-toggle\">\n            {[\"simple\", \"rag\", \"full\"].map((mode) => (\n              <button\n                key={mode}\n                className={`rag-view-btn ${viewMode === mode ? \"active\" : \"\"}`}\n                onClick={() => setViewMode(mode)}\n                disabled={isPlaying}\n              >\n                {mode.charAt(0).toUpperCase() + mode.slice(1)}\n              </button>\n            ))}\n          </div>\n\n          {/* Demo Button */}\n          {!isPlaying && currentStep === -1 ? (\n            <button className=\"demo-play-btn\" onClick={startDemo}>\n               Play Demo\n            </button>\n          ) : (\n            <button className=\"demo-reset-btn\" onClick={resetDemo}>\n               Reset\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Demo Query Input */}\n      {!isPlaying && currentStep === -1 && (\n        <div className=\"demo-query-input\">\n          <span className=\"query-label\">Demo Query:</span>\n          <input\n            type=\"text\"\n            value={demoQuery}\n            onChange={(e) => setDemoQuery(e.target.value)}\n            placeholder=\"Enter a sample query...\"\n          />\n        </div>\n      )}\n\n      {/* Demo Progress Bar */}\n      {(isPlaying || currentStep >= 0) && (\n        <div className=\"demo-progress\">\n          <div className=\"demo-progress-bar\">\n            <div\n              className=\"demo-progress-fill\"\n              style={{\n                width: `${((currentStep + 1) / demoSteps.length) * 100}%`,\n              }}\n            />\n          </div>\n          <div className=\"demo-progress-steps\">\n            {demoSteps.map((step, i) => (\n              <div\n                key={i}\n                className={`demo-step-dot ${\n                  i === currentStep ? \"active\" : \"\"\n                } ${i < currentStep ? \"done\" : \"\"}`}\n              />\n            ))}\n          </div>\n        </div>\n      )}\n\n      {/* Live Output Panel */}\n      {currentDemoStep && (\n        <div className=\"demo-output-panel\">\n          <div className=\"demo-output-header\">\n            <span className=\"demo-step-badge\">\n              Step {currentStep + 1}/{demoSteps.length}\n            </span>\n            <span className=\"demo-step-title\">{currentDemoStep.title}</span>\n          </div>\n          <div className=\"demo-output-content\">\n            <div className=\"demo-output-label\">Output:</div>\n            <code className=\"demo-output-code\">{currentDemoStep.output}</code>\n          </div>\n          <div className=\"demo-output-detail\">{currentDemoStep.detail}</div>\n        </div>\n      )}\n\n      {/* Pipeline Steps */}\n      <div className=\"rag-pipeline-steps\">\n        {[\"Query\", \"Embed\", \"Search\", \"Retrieve\", \"Context\", \"Generate\"].map(\n          (step, i) => (\n            <React.Fragment key={step}>\n              <div\n                className={`rag-pipeline-step ${\n                  currentStep >= i * 1.5 ? \"active\" : \"\"\n                }`}\n              >\n                <span className=\"step-num\">{i + 1}</span>\n                <span className=\"step-label\">{step}</span>\n              </div>\n              {i < 5 && <span className=\"step-arrow\"></span>}\n            </React.Fragment>\n          )\n        )}\n      </div>\n\n      {/* SVG Diagram */}\n      <svg\n        viewBox=\"0 0 100 90\"\n        className=\"rag-diagram-svg\"\n        preserveAspectRatio=\"xMidYMid meet\"\n      >\n        <defs>\n          {/* Gradients */}\n          <linearGradient id=\"mainGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#667eea\" />\n            <stop offset=\"100%\" stopColor=\"#764ba2\" />\n          </linearGradient>\n          <linearGradient id=\"ragGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#ec4899\" />\n            <stop offset=\"100%\" stopColor=\"#f472b6\" />\n          </linearGradient>\n          <linearGradient id=\"dataGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#22c55e\" />\n            <stop offset=\"100%\" stopColor=\"#4ade80\" />\n          </linearGradient>\n          <linearGradient id=\"infraGradient\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n            <stop offset=\"0%\" stopColor=\"#f59e0b\" />\n            <stop offset=\"100%\" stopColor=\"#fbbf24\" />\n          </linearGradient>\n\n          {/* Active Gradient (for demo) */}\n          <radialGradient id=\"activeNodeGradient\" cx=\"50%\" cy=\"50%\">\n            <stop offset=\"0%\" stopColor=\"#fef08a\" />\n            <stop offset=\"50%\" stopColor=\"#facc15\" />\n            <stop offset=\"100%\" stopColor=\"#eab308\" />\n          </radialGradient>\n\n          {/* Node Gradients */}\n          <radialGradient id=\"nodeGradientMain\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#818cf8\" />\n            <stop offset=\"100%\" stopColor=\"#667eea\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientRag\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#f9a8d4\" />\n            <stop offset=\"100%\" stopColor=\"#ec4899\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientData\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#86efac\" />\n            <stop offset=\"100%\" stopColor=\"#22c55e\" />\n          </radialGradient>\n          <radialGradient id=\"nodeGradientInfra\" cx=\"30%\" cy=\"30%\">\n            <stop offset=\"0%\" stopColor=\"#fcd34d\" />\n            <stop offset=\"100%\" stopColor=\"#f59e0b\" />\n          </radialGradient>\n\n          {/* Glow Filters */}\n          <filter id=\"ragGlow\">\n            <feGaussianBlur stdDeviation=\"0.8\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n          <filter id=\"activeGlow\">\n            <feGaussianBlur stdDeviation=\"2\" result=\"blur\" />\n            <feMerge>\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"blur\" />\n              <feMergeNode in=\"SourceGraphic\" />\n            </feMerge>\n          </filter>\n\n          {/* Arrow Markers */}\n          <marker\n            id=\"arrowMain\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#667eea\" />\n          </marker>\n          <marker\n            id=\"arrowRag\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#f472b6\" />\n          </marker>\n          <marker\n            id=\"arrowData\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#4ade80\" />\n          </marker>\n          <marker\n            id=\"arrowInfra\"\n            markerWidth=\"10\"\n            markerHeight=\"7\"\n            refX=\"9\"\n            refY=\"3.5\"\n            orient=\"auto\"\n          >\n            <polygon points=\"0 0, 10 3.5, 0 7\" fill=\"#fbbf24\" />\n          </marker>\n        </defs>\n\n        {/* Background Grid */}\n        <pattern\n          id=\"ragGrid\"\n          width=\"10\"\n          height=\"10\"\n          patternUnits=\"userSpaceOnUse\"\n        >\n          <path\n            d=\"M 10 0 L 0 0 0 10\"\n            fill=\"none\"\n            stroke=\"rgba(255,255,255,0.03)\"\n            strokeWidth=\"0.3\"\n          />\n        </pattern>\n        <rect width=\"100\" height=\"90\" fill=\"url(#ragGrid)\" />\n\n        {/* Connections */}\n        {visibleData.connections.map((conn, index) => {\n          const fromNode = arch.nodes.find((n) => n.id === conn.from);\n          const toNode = arch.nodes.find((n) => n.id === conn.to);\n          if (!fromNode || !toNode) return null;\n\n          const midX = (fromNode.x + toNode.x) / 2;\n          const midY = (fromNode.y + toNode.y) / 2;\n\n          // Check if this connection is part of the demo flow\n          const fromStepIndex = demoSteps.findIndex(\n            (s) => s.nodeId === conn.from\n          );\n          const toStepIndex = demoSteps.findIndex((s) => s.nodeId === conn.to);\n          const isActiveConnection =\n            fromStepIndex === currentStep - 1 && toStepIndex === currentStep;\n\n          return (\n            <g\n              key={`${conn.from}-${conn.to}`}\n              className={`rag-connection ${isAnimating ? \"animating\" : \"\"} ${\n                isActiveConnection ? \"demo-active\" : \"\"\n              }`}\n            >\n              <line\n                x1={fromNode.x}\n                y1={fromNode.y}\n                x2={toNode.x}\n                y2={toNode.y}\n                stroke={\n                  isActiveConnection\n                    ? \"#facc15\"\n                    : `url(#${getGradientId(conn.type)})`\n                }\n                strokeWidth={isActiveConnection ? \"0.8\" : \"0.4\"}\n                opacity={isActiveConnection ? \"1\" : \"0.6\"}\n                markerEnd={`url(#${getMarkerId(conn.type)})`}\n              />\n              {isAnimating && !isPlaying && (\n                <circle\n                  r=\"0.7\"\n                  fill={getCategoryColor(conn.type)}\n                  filter=\"url(#ragGlow)\"\n                >\n                  <animateMotion\n                    dur={`${1.5 + (index % 5) * 0.3}s`}\n                    repeatCount=\"indefinite\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n              {/* Demo animated packet */}\n              {isActiveConnection && (\n                <circle r=\"1.2\" fill=\"#facc15\" filter=\"url(#activeGlow)\">\n                  <animateMotion\n                    dur=\"0.8s\"\n                    repeatCount=\"1\"\n                    fill=\"freeze\"\n                    path={`M${fromNode.x},${fromNode.y} L${toNode.x},${toNode.y}`}\n                  />\n                </circle>\n              )}\n              <text\n                x={midX}\n                y={midY - 1.5}\n                fontSize=\"1.5\"\n                fill=\"rgba(255,255,255,0.5)\"\n                textAnchor=\"middle\"\n              >\n                {conn.label}\n              </text>\n            </g>\n          );\n        })}\n\n        {/* Nodes */}\n        {visibleData.nodes.map((node) => {\n          const isActive = isNodeActive(node.id);\n          const isVisited = isNodeVisited(node.id);\n\n          return (\n            <g\n              key={node.id}\n              transform={`translate(${node.x}, ${node.y})`}\n              onMouseEnter={() => !isPlaying && setActiveNode(node.id)}\n              onMouseLeave={() => setActiveNode(null)}\n              style={{ cursor: \"pointer\" }}\n              className={`rag-node ${activeNode === node.id ? \"hover\" : \"\"} ${\n                isActive ? \"demo-active\" : \"\"\n              } ${isVisited ? \"demo-visited\" : \"\"}`}\n            >\n              {/* Active pulse for demo */}\n              {isActive && (\n                <>\n                  <circle\n                    r=\"9\"\n                    fill=\"none\"\n                    stroke=\"#facc15\"\n                    strokeWidth=\"0.5\"\n                    opacity=\"0.8\"\n                  >\n                    <animate\n                      attributeName=\"r\"\n                      from=\"6\"\n                      to=\"12\"\n                      dur=\"0.8s\"\n                      repeatCount=\"indefinite\"\n                    />\n                    <animate\n                      attributeName=\"opacity\"\n                      from=\"0.8\"\n                      to=\"0\"\n                      dur=\"0.8s\"\n                      repeatCount=\"indefinite\"\n                    />\n                  </circle>\n                  <circle\n                    r=\"7\"\n                    fill=\"none\"\n                    stroke=\"#facc15\"\n                    strokeWidth=\"0.3\"\n                    opacity=\"0.5\"\n                  >\n                    <animate\n                      attributeName=\"r\"\n                      from=\"6\"\n                      to=\"10\"\n                      dur=\"0.6s\"\n                      repeatCount=\"indefinite\"\n                    />\n                    <animate\n                      attributeName=\"opacity\"\n                      from=\"0.5\"\n                      to=\"0\"\n                      dur=\"0.6s\"\n                      repeatCount=\"indefinite\"\n                    />\n                  </circle>\n                </>\n              )}\n\n              {/* Visited checkmark glow */}\n              {isVisited && <circle r=\"6\" fill=\"rgba(74, 222, 128, 0.2)\" />}\n\n              {/* Node circle */}\n              <circle\n                r=\"5\"\n                fill={\n                  isActive\n                    ? \"url(#activeNodeGradient)\"\n                    : `url(#${getNodeGradientId(node.category)})`\n                }\n                filter={isActive ? \"url(#activeGlow)\" : \"url(#ragGlow)\"}\n                stroke={isVisited ? \"#4ade80\" : \"none\"}\n                strokeWidth={isVisited ? \"0.5\" : \"0\"}\n              />\n\n              {/* Icon */}\n              <text textAnchor=\"middle\" dy=\"1.5\" fontSize=\"3\" fill=\"#fff\">\n                {isVisited && !isActive ? \"\" : node.icon}\n              </text>\n\n              {/* Label */}\n              <text\n                textAnchor=\"middle\"\n                dy=\"10\"\n                fontSize=\"2\"\n                fill={isActive ? \"#facc15\" : \"rgba(255,255,255,0.9)\"}\n                fontWeight=\"500\"\n              >\n                {node.label}\n              </text>\n            </g>\n          );\n        })}\n      </svg>\n\n      {/* Hover Tooltip (only when not in demo) */}\n      {activeNode && !isPlaying && currentStep === -1 && (\n        <div\n          className={`rag-tooltip tooltip-${\n            arch.nodes.find((n) => n.id === activeNode)?.category\n          }`}\n        >\n          <div className=\"rag-tooltip-header\">\n            <span className=\"rag-tooltip-icon\">\n              {arch.nodes.find((n) => n.id === activeNode)?.icon}\n            </span>\n            <div>\n              <div className=\"rag-tooltip-title\">\n                {arch.nodes.find((n) => n.id === activeNode)?.label}\n              </div>\n              <span\n                className={`rag-tooltip-badge ${\n                  arch.nodes.find((n) => n.id === activeNode)?.category\n                }`}\n              >\n                {arch.nodes\n                  .find((n) => n.id === activeNode)\n                  ?.category?.toUpperCase()}\n              </span>\n            </div>\n          </div>\n          <p className=\"rag-tooltip-desc\">\n            {arch.nodes.find((n) => n.id === activeNode)?.description}\n          </p>\n        </div>\n      )}\n\n      {/* Final Result Panel */}\n      {currentStep === demoSteps.length - 1 && (\n        <div className=\"demo-final-result\">\n          <div className=\"demo-final-header\">\n            <span></span> Query Complete!\n          </div>\n          <div className=\"demo-final-query\">\n            <strong>Q:</strong> {demoQuery}\n          </div>\n          <div className=\"demo-final-answer\">\n            <strong>A:</strong> Machine learning is a subset of artificial\n            intelligence that enables systems to automatically learn and improve\n            from experience without being explicitly programmed...\n          </div>\n          <div className=\"demo-final-stats\">\n            <span> 1.2s</span>\n            <span> 3 sources</span>\n            <span> 94% confidence</span>\n          </div>\n        </div>\n      )}\n\n      {/* Info Box (hidden during demo) */}\n      {!isPlaying && currentStep === -1 && (\n        <div className=\"rag-info-box\">\n          <div className=\"rag-info-title\"> RAG Benefits</div>\n          <ul>\n            <li> Grounded responses</li>\n            <li> Up-to-date knowledge</li>\n            <li> Reduced hallucinations</li>\n            <li> Domain-specific accuracy</li>\n          </ul>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default memo(ArchitectureDiagramRAG);\n","import React, { memo } from \"react\";\nimport ArchitectureDiagramSimple from \"./ArchitectureDiagramSimple\";\nimport ArchitectureDiagramRAG from \"./ArchitectureDiagramRAG\";\n\nconst ArchitectureDiagram = ({ architecture, projectId }) => {\n  console.log(\"Current Project ID:\", projectId); // Debug log\n\n  // Check for string \"1\" or number 1\n  if (projectId === \"1\" || projectId === 1) {\n    //  CORRECT: No props passed. It uses its internal RAG data.\n    return <ArchitectureDiagramRAG />;\n  }\n\n  //  CORRECT: Passes props for other projects\n  return <ArchitectureDiagramSimple architecture={architecture} />;\n};\n\nexport default memo(ArchitectureDiagram);\n","// import React, { useState, useRef, memo } from \"react\";\n// import \"./BeforeAfterSlider.css\";\n\n// const BeforeAfterSlider = ({ before, after }) => {\n//   const [sliderPosition, setSliderPosition] = useState(50);\n//   const [isDragging, setIsDragging] = useState(false);\n//   const containerRef = useRef(null);\n\n//   const handleMove = (clientX) => {\n//     if (!containerRef.current) return;\n\n//     const rect = containerRef.current.getBoundingClientRect();\n//     const x = clientX - rect.left;\n//     const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));\n//     setSliderPosition(percentage);\n//   };\n\n//   const handleMouseMove = (e) => {\n//     if (!isDragging) return;\n//     handleMove(e.clientX);\n//   };\n\n//   const handleTouchMove = (e) => {\n//     if (!isDragging) return;\n//     handleMove(e.touches[0].clientX);\n//   };\n\n//   const defaultBefore = {\n//     title: \"The Problem\",\n//     icon: \"\",\n//     points: [\n//       \"Manual process taking 7+ hours\",\n//       \"Error-prone and inconsistent\",\n//       \"Couldn't scale with growth\",\n//       \"High operational costs\",\n//     ],\n//     color: \"#ef4444\",\n//   };\n\n//   const defaultAfter = {\n//     title: \"The Solution\",\n//     icon: \"\",\n//     points: [\n//       \"Automated in under 5 minutes\",\n//       \"95% accuracy rate\",\n//       \"Infinitely scalable\",\n//       \"80% cost reduction\",\n//     ],\n//     color: \"#22c55e\",\n//   };\n\n//   const beforeData = before || defaultBefore;\n//   const afterData = after || defaultAfter;\n\n//   return (\n//     <div\n//       ref={containerRef}\n//       className=\"before-after-slider\"\n//       onMouseMove={handleMouseMove}\n//       onMouseUp={() => setIsDragging(false)}\n//       onMouseLeave={() => setIsDragging(false)}\n//       onTouchMove={handleTouchMove}\n//       onTouchEnd={() => setIsDragging(false)}\n//     >\n//       {/* Before Section */}\n//       <div\n//         className=\"slider-section before\"\n//         style={{\n//           clipPath: `inset(0 ${100 - sliderPosition}% 0 0)`,\n//           backgroundColor: `${beforeData.color}15`,\n//         }}\n//       >\n//         <div className=\"section-content\">\n//           <div className=\"section-header\">\n//             <span className=\"section-icon\">{beforeData.icon}</span>\n//             <h4 style={{ color: beforeData.color }}>{beforeData.title}</h4>\n//           </div>\n//           <ul className=\"section-points\">\n//             {beforeData.points.map((point, i) => (\n//               <li key={i}>\n//                 <span\n//                   className=\"point-icon\"\n//                   style={{ color: beforeData.color }}\n//                 >\n//                   \n//                 </span>\n//                 {point}\n//               </li>\n//             ))}\n//           </ul>\n//         </div>\n//         <div\n//           className=\"section-label before-label\"\n//           style={{ borderColor: beforeData.color }}\n//         >\n//           BEFORE\n//         </div>\n//       </div>\n\n//       {/* After Section */}\n//       <div\n//         className=\"slider-section after\"\n//         style={{\n//           clipPath: `inset(0 0 0 ${sliderPosition}%)`,\n//           backgroundColor: `${afterData.color}15`,\n//         }}\n//       >\n//         <div className=\"section-content\">\n//           <div className=\"section-header\">\n//             <span className=\"section-icon\">{afterData.icon}</span>\n//             <h4 style={{ color: afterData.color }}>{afterData.title}</h4>\n//           </div>\n//           <ul className=\"section-points\">\n//             {afterData.points.map((point, i) => (\n//               <li key={i}>\n//                 <span className=\"point-icon\" style={{ color: afterData.color }}>\n//                   \n//                 </span>\n//                 {point}\n//               </li>\n//             ))}\n//           </ul>\n//         </div>\n//         <div\n//           className=\"section-label after-label\"\n//           style={{ borderColor: afterData.color }}\n//         >\n//           AFTER\n//         </div>\n//       </div>\n\n//       {/* Slider Handle */}\n//       <div\n//         className=\"slider-handle\"\n//         style={{ left: `${sliderPosition}%` }}\n//         onMouseDown={() => setIsDragging(true)}\n//         onTouchStart={() => setIsDragging(true)}\n//       >\n//         <div className=\"handle-line\"></div>\n//         <div className=\"handle-circle\">\n//           <span className=\"handle-arrows\"> </span>\n//         </div>\n//         <div className=\"handle-line\"></div>\n//       </div>\n\n//       {/* Instructions */}\n//       <div className=\"slider-instructions\">\n//         <span> Drag to compare </span>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default memo(BeforeAfterSlider);\nimport React, { useState, useRef, useCallback, useEffect } from \"react\";\nimport \"./BeforeAfterSlider.css\";\n\nconst BeforeAfterSlider = ({ before, after }) => {\n  const [sliderPosition, setSliderPosition] = useState(50);\n  const [isDragging, setIsDragging] = useState(false);\n  const containerRef = useRef(null);\n  const animationFrameRef = useRef(null);\n  const targetPositionRef = useRef(50);\n\n  // Smooth update using RAF\n  const updatePosition = useCallback(() => {\n    setSliderPosition(targetPositionRef.current);\n  }, []);\n\n  const handleMove = useCallback(\n    (clientX) => {\n      if (!containerRef.current) return;\n\n      const rect = containerRef.current.getBoundingClientRect();\n      const x = clientX - rect.left;\n      const percentage = Math.max(0, Math.min(100, (x / rect.width) * 100));\n\n      // Cancel previous animation frame\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n\n      // Update target and request new frame\n      targetPositionRef.current = percentage;\n      animationFrameRef.current = requestAnimationFrame(updatePosition);\n    },\n    [updatePosition]\n  );\n\n  const handleMouseMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      e.preventDefault();\n      handleMove(e.clientX);\n    },\n    [isDragging, handleMove]\n  );\n\n  const handleTouchMove = useCallback(\n    (e) => {\n      if (!isDragging) return;\n      handleMove(e.touches[0].clientX);\n    },\n    [isDragging, handleMove]\n  );\n\n  const startDragging = useCallback(() => {\n    setIsDragging(true);\n  }, []);\n\n  const stopDragging = useCallback(() => {\n    setIsDragging(false);\n    if (animationFrameRef.current) {\n      cancelAnimationFrame(animationFrameRef.current);\n    }\n  }, []);\n\n  // Cleanup on unmount\n  useEffect(() => {\n    return () => {\n      if (animationFrameRef.current) {\n        cancelAnimationFrame(animationFrameRef.current);\n      }\n    };\n  }, []);\n\n  // Add global mouse/touch listeners when dragging\n  useEffect(() => {\n    if (isDragging) {\n      const handleGlobalMouseMove = (e) => handleMouseMove(e);\n      const handleGlobalTouchMove = (e) => handleTouchMove(e);\n      const handleGlobalEnd = () => stopDragging();\n\n      document.addEventListener(\"mousemove\", handleGlobalMouseMove);\n      document.addEventListener(\"touchmove\", handleGlobalTouchMove, {\n        passive: false,\n      });\n      document.addEventListener(\"mouseup\", handleGlobalEnd);\n      document.addEventListener(\"touchend\", handleGlobalEnd);\n\n      return () => {\n        document.removeEventListener(\"mousemove\", handleGlobalMouseMove);\n        document.removeEventListener(\"touchmove\", handleGlobalTouchMove);\n        document.removeEventListener(\"mouseup\", handleGlobalEnd);\n        document.removeEventListener(\"touchend\", handleGlobalEnd);\n      };\n    }\n  }, [isDragging, handleMouseMove, handleTouchMove, stopDragging]);\n\n  const defaultBefore = {\n    title: \"The Problem\",\n    icon: \"\",\n    points: [\n      \"Manual process taking 7+ hours\",\n      \"Error-prone and inconsistent\",\n      \"Couldn't scale with growth\",\n      \"High operational costs\",\n    ],\n    color: \"#ef4444\",\n  };\n\n  const defaultAfter = {\n    title: \"The Solution\",\n    icon: \"\",\n    points: [\n      \"Automated in under 5 minutes\",\n      \"95% accuracy rate\",\n      \"Infinitely scalable\",\n      \"80% cost reduction\",\n    ],\n    color: \"#22c55e\",\n  };\n\n  const beforeData = before || defaultBefore;\n  const afterData = after || defaultAfter;\n\n  return (\n    <div\n      ref={containerRef}\n      className={`before-after-slider ${isDragging ? \"dragging\" : \"\"}`}\n    >\n      {/* Before Section */}\n      <div\n        className={`slider-section before ${!isDragging ? \"smooth\" : \"\"}`}\n        style={{\n          clipPath: `inset(0 ${100 - sliderPosition}% 0 0)`,\n          backgroundColor: `${beforeData.color}15`,\n        }}\n      >\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <span className=\"section-icon\">{beforeData.icon}</span>\n            <h4 style={{ color: beforeData.color }}>{beforeData.title}</h4>\n          </div>\n          <ul className=\"section-points\">\n            {beforeData.points.map((point, i) => (\n              <li key={i}>\n                <span\n                  className=\"point-icon\"\n                  style={{ color: beforeData.color }}\n                >\n                  \n                </span>\n                {point}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div\n          className=\"section-label before-label\"\n          style={{ borderColor: beforeData.color }}\n        >\n          BEFORE\n        </div>\n      </div>\n\n      {/* After Section */}\n      <div\n        className={`slider-section after ${!isDragging ? \"smooth\" : \"\"}`}\n        style={{\n          clipPath: `inset(0 0 0 ${sliderPosition}%)`,\n          backgroundColor: `${afterData.color}15`,\n        }}\n      >\n        <div className=\"section-content\">\n          <div className=\"section-header\">\n            <span className=\"section-icon\">{afterData.icon}</span>\n            <h4 style={{ color: afterData.color }}>{afterData.title}</h4>\n          </div>\n          <ul className=\"section-points\">\n            {afterData.points.map((point, i) => (\n              <li key={i}>\n                <span className=\"point-icon\" style={{ color: afterData.color }}>\n                  \n                </span>\n                {point}\n              </li>\n            ))}\n          </ul>\n        </div>\n        <div\n          className=\"section-label after-label\"\n          style={{ borderColor: afterData.color }}\n        >\n          AFTER\n        </div>\n      </div>\n\n      {/* Slider Handle */}\n      <div\n        className={`slider-handle ${isDragging ? \"dragging\" : \"smooth\"}`}\n        style={{\n          left: `${sliderPosition}%`,\n        }}\n        onMouseDown={startDragging}\n        onTouchStart={startDragging}\n      >\n        <div className=\"handle-line\"></div>\n        <div className=\"handle-circle\">\n          <span className=\"handle-arrows\"> </span>\n        </div>\n        <div className=\"handle-line\"></div>\n      </div>\n\n      {/* Instructions */}\n      <div className=\"slider-instructions\">\n        <span> Drag to compare </span>\n      </div>\n    </div>\n  );\n};\n\nexport default React.memo(BeforeAfterSlider);\n","// import React, { useState } from \"react\";\n// import \"./Timeline.css\";\n\n// const Timeline = ({ milestones }) => {\n//   const [activeMilestone, setActiveMilestone] = useState(null);\n\n//   const defaultMilestones = [\n//     {\n//       id: 1,\n//       date: \"Week 1-2\",\n//       title: \"Research & Planning\",\n//       description: \"Analyzed requirements, studied existing solutions, and designed system architecture.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 2,\n//       date: \"Week 3-4\",\n//       title: \"Core Development\",\n//       description: \"Built the foundation - API endpoints, database schema, and basic UI components.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 3,\n//       date: \"Week 5-6\",\n//       title: \"AI Integration\",\n//       description: \"Integrated LLM APIs, implemented RAG pipeline, and optimized vector search.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 4,\n//       date: \"Week 7-8\",\n//       title: \"Testing & Optimization\",\n//       description: \"Performance tuning, bug fixes, and comprehensive testing across edge cases.\",\n//       icon: \"\",\n//       status: \"completed\",\n//     },\n//     {\n//       id: 5,\n//       date: \"Week 9+\",\n//       title: \"Deployment & Monitoring\",\n//       description: \"Deployed to production, set up monitoring dashboards, and gathered user feedback.\",\n//       icon: \"\",\n//       status: \"current\",\n//     },\n//   ];\n\n//   const data = milestones || defaultMilestones;\n\n//   return (\n//     <div className=\"timeline-container\">\n//       <h3 className=\"timeline-title\">\n//         <span className=\"title-icon\"></span>\n//         Project Timeline\n//       </h3>\n\n//       <div className=\"timeline\">\n//         {/* Progress Line */}\n//         <div className=\"timeline-progress-bg\"></div>\n//         <div\n//           className=\"timeline-progress-fill\"\n//           style={{\n//             width: `${(data.filter(m => m.status === 'completed').length / data.length) * 100}%`\n//           }}\n//         ></div>\n\n//         {/* Milestones */}\n//         {data.map((milestone, index) => (\n//           <div\n//             key={milestone.id}\n//             className={`timeline-milestone ${milestone.status} ${activeMilestone === milestone.id ? 'active' : ''}`}\n//             style={{ left: `${(index / (data.length - 1)) * 100}%` }}\n//             onMouseEnter={() => setActiveMilestone(milestone.id)}\n//             onMouseLeave={() => setActiveMilestone(null)}\n//             onClick={() => setActiveMilestone(activeMilestone === milestone.id ? null : milestone.id)}\n//           >\n//             {/* Node */}\n//             <div className=\"milestone-node\">\n//               <span className=\"milestone-icon\">{milestone.icon}</span>\n//               {milestone.status === 'current' && (\n//                 <span className=\"pulse-ring\"></span>\n//               )}\n//             </div>\n\n//             {/* Date */}\n//             <div className=\"milestone-date\">{milestone.date}</div>\n\n//             {/* Tooltip Card */}\n//             <div className={`milestone-card glassmorphism ${index > data.length / 2 ? 'left' : 'right'}`}>\n//               <div className=\"card-header\">\n//                 <span className=\"card-icon\">{milestone.icon}</span>\n//                 <h4>{milestone.title}</h4>\n//               </div>\n//               <p>{milestone.description}</p>\n//               <div className={`card-status ${milestone.status}`}>\n//                 {milestone.status === 'completed' ? ' Completed' : ' In Progress'}\n//               </div>\n//             </div>\n//           </div>\n//         ))}\n//       </div>\n\n//       {/* Legend */}\n//       <div className=\"timeline-legend\">\n//         <div className=\"legend-item\">\n//           <span className=\"legend-dot completed\"></span>\n//           <span>Completed</span>\n//         </div>\n//         <div className=\"legend-item\">\n//           <span className=\"legend-dot current\"></span>\n//           <span>In Progress</span>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default Timeline;\nimport React, { useState, memo } from \"react\";\nimport \"./Timeline.css\";\n\nconst Timeline = ({ milestones }) => {\n  const [activeMilestone, setActiveMilestone] = useState(null);\n\n  const defaultMilestones = [\n    {\n      id: 1,\n      date: \"Week 1-2\",\n      title: \"Research & Planning\",\n      description:\n        \"Analyzed requirements, studied existing solutions, and designed system architecture.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 2,\n      date: \"Week 3-4\",\n      title: \"Core Development\",\n      description:\n        \"Built the foundation - API endpoints, database schema, and basic UI components.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 3,\n      date: \"Week 5-6\",\n      title: \"AI Integration\",\n      description:\n        \"Integrated LLM APIs, implemented RAG pipeline, and optimized vector search.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 4,\n      date: \"Week 7-8\",\n      title: \"Testing & Optimization\",\n      description:\n        \"Performance tuning, bug fixes, and comprehensive testing across edge cases.\",\n      icon: \"\",\n      status: \"completed\",\n    },\n    {\n      id: 5,\n      date: \"Week 9+\",\n      title: \"Deployment & Monitoring\",\n      description:\n        \"Deployed to production, set up monitoring dashboards, and gathered user feedback.\",\n      icon: \"\",\n      status: \"current\",\n    },\n  ];\n\n  //  SAFETY CHECK: Ensure data is an array.\n  // If milestones is null/undefined or not an array, fall back to defaultMilestones.\n  const data =\n    Array.isArray(milestones) && milestones.length > 0\n      ? milestones\n      : defaultMilestones;\n\n  //  CALCULATION SAFETY: Prevent division by zero\n  const totalItems = data.length;\n  const completedItems = data.filter((m) => m.status === \"completed\").length;\n  const progressPercentage =\n    totalItems > 0 ? (completedItems / totalItems) * 100 : 0;\n\n  return (\n    <div className=\"timeline-container\">\n      <h3 className=\"timeline-title\">\n        <span className=\"title-icon\"></span>\n        Project Timeline\n      </h3>\n\n      <div className=\"timeline\">\n        {/* Progress Line */}\n        <div className=\"timeline-progress-bg\"></div>\n        <div\n          className=\"timeline-progress-fill\"\n          style={{ width: `${progressPercentage}%` }}\n        ></div>\n\n        {/* Milestones */}\n        {data.map((milestone, index) => {\n          // Calculate position carefully to avoid dividing by zero if only 1 item exists\n          const leftPosition =\n            totalItems > 1 ? (index / (totalItems - 1)) * 100 : 50; // Center if only 1 item\n\n          return (\n            <div\n              key={milestone.id || index}\n              className={`timeline-milestone ${milestone.status} ${\n                activeMilestone === milestone.id ? \"active\" : \"\"\n              }`}\n              style={{ left: `${leftPosition}%` }}\n              onMouseEnter={() => setActiveMilestone(milestone.id)}\n              onMouseLeave={() => setActiveMilestone(null)}\n              onClick={() =>\n                setActiveMilestone(\n                  activeMilestone === milestone.id ? null : milestone.id\n                )\n              }\n            >\n              {/* Node */}\n              <div className=\"milestone-node\">\n                <span className=\"milestone-icon\">{milestone.icon}</span>\n                {milestone.status === \"current\" && (\n                  <span className=\"pulse-ring\"></span>\n                )}\n              </div>\n\n              {/* Date */}\n              <div className=\"milestone-date\">{milestone.date}</div>\n\n              {/* Tooltip Card */}\n              <div\n                className={`milestone-card glassmorphism ${\n                  index > totalItems / 2 ? \"left\" : \"right\"\n                }`}\n              >\n                <div className=\"card-header\">\n                  <span className=\"card-icon\">{milestone.icon}</span>\n                  <h4>{milestone.title}</h4>\n                </div>\n                <p>{milestone.description}</p>\n                <div className={`card-status ${milestone.status}`}>\n                  {milestone.status === \"completed\"\n                    ? \" Completed\"\n                    : \" In Progress\"}\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Legend */}\n      <div className=\"timeline-legend\">\n        <div className=\"legend-item\">\n          <span className=\"legend-dot completed\"></span>\n          <span>Completed</span>\n        </div>\n        <div className=\"legend-item\">\n          <span className=\"legend-dot current\"></span>\n          <span>In Progress</span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default memo(Timeline);\n","import React from \"react\";\nimport \"./LoadingSkeleton.css\";\n\nconst LoadingSkeleton = () => {\n  return (\n    <div className=\"loading-skeleton\">\n      {/* Header Skeleton */}\n      <div className=\"skeleton-header\">\n        <div className=\"skeleton-line title shimmer\"></div>\n        <div className=\"skeleton-line subtitle shimmer\"></div>\n      </div>\n\n      {/* Badges Skeleton */}\n      <div className=\"skeleton-badges\">\n        {[1, 2, 3, 4].map((i) => (\n          <div key={i} className=\"skeleton-badge shimmer\"></div>\n        ))}\n      </div>\n\n      {/* Content Skeleton */}\n      <div className=\"skeleton-content\">\n        <div className=\"skeleton-line heading shimmer\"></div>\n        <div className=\"skeleton-line text shimmer\"></div>\n        <div className=\"skeleton-line text shimmer\"></div>\n        <div className=\"skeleton-line text short shimmer\"></div>\n      </div>\n\n      {/* Cards Skeleton */}\n      <div className=\"skeleton-cards\">\n        {[1, 2, 3].map((i) => (\n          <div key={i} className=\"skeleton-card shimmer\"></div>\n        ))}\n      </div>\n\n      {/* Code Block Skeleton */}\n      <div className=\"skeleton-code\">\n        <div className=\"skeleton-code-header shimmer\"></div>\n        <div className=\"skeleton-code-body\">\n          {[1, 2, 3, 4, 5].map((i) => (\n            <div\n              key={i}\n              className=\"skeleton-line code shimmer\"\n              style={{ width: `${60 + Math.random() * 30}%` }}\n            ></div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoadingSkeleton;\n","// import React, { useState, useEffect } from \"react\";\n// import {\n//   FaTimes,\n//   FaFolder,\n//   FaFolderOpen,\n//   FaFileCode,\n//   FaFileAlt,\n//   FaImage,\n//   FaPlay,\n//   FaLightbulb,\n//   FaCheckCircle,\n//   FaExternalLinkAlt,\n//   FaNewspaper,\n//   FaCopy,\n//   FaCheck,\n//   FaTerminal,\n//   FaCode,\n// } from \"react-icons/fa\";\n// import {\n//   VscFiles,\n//   VscSearch,\n//   VscSourceControl,\n//   VscExtensions,\n//   VscChevronRight,\n//   VscChevronDown,\n// } from \"react-icons/vsc\";\n// import \"./ProjectModal.css\";\n// import TerminalComponent from \"./TerminalComponent\";\n\n// //  Import New Components\n// import ArchitectureDiagram from \"./ArchitectureDiagram\";\n// import BeforeAfterSlider from \"./BeforeAfterSlider\";\n// import Timeline from \"./Timeline\";\n// import LoadingSkeleton from \"./LoadingSkeleton\";\n\n// const ProjectModal = ({ project, theme, isOpen, onClose }) => {\n//   const [activeTab, setActiveTab] = useState(\"README.md\");\n//   const [expandedFolders, setExpandedFolders] = useState([\"src\", \"docs\"]);\n//   const [copied, setCopied] = useState(false);\n//   const [isLoading, setIsLoading] = useState(true);\n//   const [terminalText, setTerminalText] = useState(\"\");\n\n//   // Simulate loading\n//   useEffect(() => {\n//     if (isOpen) {\n//       setIsLoading(true);\n//       const timer = setTimeout(() => setIsLoading(false), 800);\n//       return () => clearTimeout(timer);\n//     }\n//   }, [isOpen, activeTab]);\n\n//   // Close on Escape\n//   useEffect(() => {\n//     const handleEscape = (e) => {\n//       if (e.key === \"Escape\") onClose();\n//     };\n//     window.addEventListener(\"keydown\", handleEscape);\n//     return () => window.removeEventListener(\"keydown\", handleEscape);\n//   }, [onClose]);\n\n//   // Terminal effect\n//   useEffect(() => {\n//     if (isOpen && activeTab === \"terminal\") {\n//       const commands = [\n//         \"$ git clone \" + (project?.url || \"https://github.com/...\"),\n//         \"$ cd \" +\n//           (project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() ||\n//             \"project\"),\n//         \"$ npm install\",\n//         \"$ npm run dev\",\n//         \"\",\n//         \" Ready on http://localhost:3000\",\n//       ];\n//       let i = 0;\n//       let text = \"\";\n//       const interval = setInterval(() => {\n//         if (i < commands.length) {\n//           text += commands[i] + \"\\n\";\n//           setTerminalText(text);\n//           i++;\n//         } else {\n//           clearInterval(interval);\n//         }\n//       }, 500);\n//       return () => clearInterval(interval);\n//     }\n//   }, [isOpen, activeTab, project]);\n\n//   if (!isOpen || !project) return null;\n\n//   const details = project.details || {};\n\n//   // File tree\n//   const fileTree = [\n//     {\n//       name: \"src\",\n//       type: \"folder\",\n//       children: [\n//         { name: \"README.md\", type: \"file\", icon: <FaFileAlt /> },\n//         { name: \"PROBLEM.md\", type: \"file\", icon: <FaLightbulb /> },\n//         { name: \"SOLUTION.md\", type: \"file\", icon: <FaCheckCircle /> },\n//       ],\n//     },\n//     {\n//       name: \"docs\",\n//       type: \"folder\",\n//       children: [\n//         { name: \"screenshots\", type: \"file\", icon: <FaImage /> },\n//         { name: \"demo\", type: \"file\", icon: <FaPlay /> },\n//       ],\n//     },\n//     { name: \"tech-stack.json\", type: \"file\", icon: <FaFileCode /> },\n//     { name: \"impact.md\", type: \"file\", icon: <FaCheckCircle /> },\n//   ];\n\n//   const toggleFolder = (folderName) => {\n//     setExpandedFolders((prev) =>\n//       prev.includes(folderName)\n//         ? prev.filter((f) => f !== folderName)\n//         : [...prev, folderName]\n//     );\n//   };\n\n//   const copyCode = (code) => {\n//     navigator.clipboard.writeText(code);\n//     setCopied(true);\n//     setTimeout(() => setCopied(false), 2000);\n//   };\n\n//   // Render tree\n//   const renderTree = (items) => {\n//     return items.map((item) => {\n//       if (item.type === \"folder\") {\n//         const isExpanded = expandedFolders.includes(item.name);\n//         return (\n//           <div key={item.name} className=\"tree-folder\">\n//             <div\n//               className=\"tree-item folder\"\n//               onClick={() => toggleFolder(item.name)}\n//             >\n//               {isExpanded ? <VscChevronDown /> : <VscChevronRight />}\n//               {isExpanded ? (\n//                 <FaFolderOpen className=\"folder-icon open\" />\n//               ) : (\n//                 <FaFolder className=\"folder-icon\" />\n//               )}\n//               <span>{item.name}</span>\n//             </div>\n//             {isExpanded && (\n//               <div className=\"tree-children\">{renderTree(item.children)}</div>\n//             )}\n//           </div>\n//         );\n//       }\n//       return (\n//         <div\n//           key={item.name}\n//           className={`tree-item file ${\n//             activeTab === item.name ? \"active\" : \"\"\n//           }`}\n//           onClick={() => {\n//             setActiveTab(item.name);\n//             setIsLoading(true);\n//           }}\n//         >\n//           {item.icon}\n//           <span>{item.name}</span>\n//         </div>\n//       );\n//     });\n//   };\n\n//   // ============================================\n//   //  UPDATED RENDER CONTENT WITH NEW COMPONENTS\n//   // ============================================\n//   const renderContent = () => {\n//     // Show loading skeleton\n//     if (isLoading) {\n//       return <LoadingSkeleton />;\n//     }\n\n//     switch (activeTab) {\n//       // ============================================\n//       //  README.MD - MAIN OVERVIEW WITH ALL NEW FEATURES\n//       // ============================================\n//       case \"README.md\":\n//         return (\n//           <div className=\"content-readme\">\n//             {/* Title */}\n//             <h1>{project.name}</h1>\n//             <p className=\"project-tagline\">{project.description}</p>\n\n//             {/* Tech Badges */}\n//             <div className=\"badges\">\n//               {project.languages?.map((lang, i) => (\n//                 <span\n//                   key={i}\n//                   className=\"badge\"\n//                   data-tooltip={`Used for ${lang.name}`}\n//                 >\n//                   {lang.name}\n//                 </span>\n//               ))}\n//             </div>\n//             {/*  ARCHITECTURE DIAGRAM */}\n//             <h2> System Architecture</h2>\n//             <ArchitectureDiagram\n//               architecture={details.architecture}\n//               projectId={project.id} /*  FIXED: Now inside the tag */\n//             />\n//             {/*  STORYTELLING FORMAT (If 'story' exists in data) */}\n//             {details.story ? (\n//               <div className=\"story-flow\">\n//                 <div className=\"story-section problem\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">1</span>\n//                     <h3 className=\"story-title\">The Problem</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.problem}</p>\n\n//                   {/* News Links (Story Mode) */}\n//                   {details.newsLinks && details.newsLinks.length > 0 && (\n//                     <div className=\"media-mentions\">\n//                       <h5>\n//                         <FaNewspaper /> Featured In :\n//                       </h5>\n//                       <div className=\"media-links-grid\">\n//                         {details.newsLinks.map((link, i) => (\n//                           <a\n//                             key={i}\n//                             href={link.url}\n//                             target=\"_blank\"\n//                             rel=\"noopener noreferrer\"\n//                             className=\"media-link-card\"\n//                           >\n//                             <div className=\"media-source\">{link.source}</div>\n//                             <div className=\"media-title\">{link.title}</div>\n//                             <FaExternalLinkAlt className=\"media-icon\" />\n//                           </a>\n//                         ))}\n//                       </div>\n//                     </div>\n//                   )}\n//                 </div>\n\n//                 {/* ... rest of story flow ... */}\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section approach\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">2</span>\n//                     <h3 className=\"story-title\">My Approach</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.approach}</p>\n//                 </div>\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section solution\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">3</span>\n//                     <h3 className=\"story-title\">The Solution</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.solution}</p>\n//                 </div>\n//                 <div className=\"story-connector\"></div>\n//                 <div className=\"story-section result\">\n//                   <div className=\"story-header\">\n//                     <span className=\"story-number\">4</span>\n//                     <h3 className=\"story-title\">The Results</h3>\n//                   </div>\n//                   <p className=\"story-content\">{details.story.result}</p>\n//                 </div>\n//               </div>\n//             ) : (\n//               //  FALLBACK / STANDARD MODE (This is what executes for your data)\n//               <>\n//                 <h2> Overview / Problem</h2>\n//                 <div className=\"story-section problem\" style={{ marginTop: 0 }}>\n//                   <p\n//                     className=\"story-content\"\n//                     style={{ color: \"var(--vscode-text)\" }}\n//                   >\n//                     {details.problem || project.description}\n//                   </p>\n\n//                   {/*  ADDED HERE: News Links for Standard Mode */}\n//                   {details.newsLinks && details.newsLinks.length > 0 && (\n//                     <div className=\"media-mentions\">\n//                       <h5>\n//                         <FaNewspaper /> Featured In News:\n//                       </h5>\n//                       <div className=\"media-links-grid\">\n//                         {details.newsLinks.map((link, i) => (\n//                           <a\n//                             key={i}\n//                             href={link.url}\n//                             target=\"_blank\"\n//                             rel=\"noopener noreferrer\"\n//                             className=\"media-link-card\"\n//                           >\n//                             <div className=\"media-source\">{link.source}</div>\n//                             <div className=\"media-title\">{link.title}</div>\n//                             <FaExternalLinkAlt className=\"media-icon\" />\n//                           </a>\n//                         ))}\n//                       </div>\n//                     </div>\n//                   )}\n//                 </div>\n//               </>\n//             )}\n\n//             {/*  BEFORE/AFTER SLIDER */}\n//             <h2> Before vs After</h2>\n//             <BeforeAfterSlider\n//               before={details.comparison?.before}\n//               after={details.comparison?.after}\n//             />\n\n//             {/*  TIMELINE */}\n//             <h2> Project Journey</h2>\n//             <Timeline milestones={details.timeline || []} />\n\n//             {/* Role & Info Table */}\n//             <h2> Role & Timeline</h2>\n//             <table className=\"info-table\">\n//               <tbody>\n//                 <tr>\n//                   <td>Role</td>\n//                   <td>{details.role || \"Full Stack Developer\"}</td>\n//                 </tr>\n//                 <tr>\n//                   <td>Timeline</td>\n//                   <td>\n//                     {details.timeline?.[0]?.date || \"2024\"} -{\" \"}\n//                     {details.timeline?.[details.timeline?.length - 1]?.date ||\n//                       \"Present\"}\n//                   </td>\n//                 </tr>\n//                 <tr>\n//                   <td>Team</td>\n//                   <td>{details.team || \"Solo Project\"}</td>\n//                 </tr>\n//               </tbody>\n//             </table>\n//           </div>\n//         );\n//       // ============================================\n//       // PROBLEM.MD\n//       // ============================================\n//       case \"PROBLEM.md\":\n//         return (\n//           <div className=\"content-problem\">\n//             <h1> The Problem</h1>\n//             <div className=\"problem-box\">\n//               <p>\n//                 {details.story?.problem ||\n//                   details.problem ||\n//                   \"Problem description not available.\"}\n//               </p>\n//             </div>\n\n//             <h2>Pain Points</h2>\n//             <ul className=\"pain-points\">\n//               <li> Time-consuming manual processes</li>\n//               <li> Error-prone and inconsistent results</li>\n//               <li> Doesn't scale with growing data</li>\n//               <li> High operational costs</li>\n//             </ul>\n\n//             {/* Before/After here too */}\n//             <h2> Impact Comparison</h2>\n//             <BeforeAfterSlider\n//               before={details.comparison?.before}\n//               after={details.comparison?.after}\n//             />\n//           </div>\n//         );\n//       case \"terminal\":\n//         return <TerminalComponent project={project} />;\n//       // ============================================\n//       // SOLUTION.MD\n//       // ============================================\n//       case \"SOLUTION.md\":\n//         return (\n//           <div className=\"content-solution\">\n//             <h1> The Solution</h1>\n//             <div className=\"solution-box\">\n//               <p>\n//                 {details.story?.solution ||\n//                   details.solution ||\n//                   \"Solution description not available.\"}\n//               </p>\n//             </div>\n\n//             {/* Architecture Diagram */}\n//             <h2> How It Works</h2>\n//             <ArchitectureDiagram architecture={details.architecture} />\n\n//             {/* Code Snippet */}\n//             {details.codeSnippets?.[0] && (\n//               <>\n//                 <h2> Code Snippet</h2>\n//                 <div className=\"code-block\">\n//                   <div className=\"code-header\">\n//                     <div className=\"code-header-left\">\n//                       <span className=\"code-filename\">\n//                         {details.codeSnippets[0].filename}\n//                       </span>\n//                       <span className=\"code-lang-badge\">\n//                         {details.codeSnippets[0].language}\n//                       </span>\n//                     </div>\n//                     <button\n//                       onClick={() => copyCode(details.codeSnippets[0].code)}\n//                       className={copied ? \"copied\" : \"\"}\n//                     >\n//                       {copied ? (\n//                         <>\n//                           <FaCheck /> Copied\n//                         </>\n//                       ) : (\n//                         <>\n//                           <FaCopy /> Copy\n//                         </>\n//                       )}\n//                     </button>\n//                   </div>\n//                   <pre>\n//                     <code>{details.codeSnippets[0].code}</code>\n//                   </pre>\n//                 </div>\n//               </>\n//             )}\n//           </div>\n//         );\n\n//       // ============================================\n//       // TECH-STACK.JSON\n//       // ============================================\n//       case \"tech-stack.json\":\n//         return (\n//           <div className=\"content-techstack\">\n//             <h1> Tech Stack</h1>\n//             <div className=\"techstack-json\">\n//               <pre>\n//                 {JSON.stringify(\n//                   {\n//                     languages: project.languages?.map((l) => l.name) || [],\n//                     frontend: details.techStack?.frontend || [],\n//                     backend: details.techStack?.backend || [],\n//                     ai: details.techStack?.ai || [],\n//                     cloud: details.techStack?.cloud || [],\n//                   },\n//                   null,\n//                   2\n//                 )}\n//               </pre>\n//             </div>\n\n//             <h2>Technologies Used</h2>\n//             <div className=\"tech-categories\">\n//               {details.techStack ? (\n//                 Object.entries(details.techStack).map(([category, techs]) => (\n//                   <div key={category} className=\"tech-category\">\n//                     <h3>\n//                       {category.charAt(0).toUpperCase() + category.slice(1)}\n//                     </h3>\n//                     <div className=\"tech-badges\">\n//                       {techs.map((tech, i) => (\n//                         <span\n//                           key={i}\n//                           className=\"tech-badge\"\n//                           data-tooltip={\n//                             tech.tooltip || `${tech.name || tech} technology`\n//                           }\n//                         >\n//                           {tech.name || tech}\n//                         </span>\n//                       ))}\n//                     </div>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <div className=\"tech-category\">\n//                   <h3>All Technologies</h3>\n//                   <div className=\"tech-badges\">\n//                     {project.languages?.map((lang, i) => (\n//                       <span key={i} className=\"tech-badge\">\n//                         {lang.name}\n//                       </span>\n//                     ))}\n//                   </div>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         );\n\n//       // ============================================\n//       // IMPACT.MD\n//       // ============================================\n//       case \"impact.md\":\n//         return (\n//           <div className=\"content-impact\">\n//             <h1> Impact & Results</h1>\n\n//             <div className=\"impact-grid\">\n//               {details.impact?.length > 0 ? (\n//                 details.impact.map((item, i) => (\n//                   <div key={i} className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>{item}</span>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Improved efficiency by 80%</span>\n//                   </div>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Reduced manual work significantly</span>\n//                   </div>\n//                   <div className=\"impact-card\">\n//                     <FaCheckCircle className=\"impact-icon\" />\n//                     <span>Scalable architecture</span>\n//                   </div>\n//                 </>\n//               )}\n//             </div>\n\n//             {/* Timeline */}\n//             <h2> Project Timeline</h2>\n//             <Timeline milestones={details.timeline || []} />\n\n//             <h2> Key Learnings</h2>\n//             <ul className=\"learnings-list\">\n//               {details.learnings?.length > 0 ? (\n//                 details.learnings.map((learning, i) => (\n//                   <li key={i}>{learning}</li>\n//                 ))\n//               ) : (\n//                 <>\n//                   <li>Importance of clean architecture</li>\n//                   <li>Performance optimization techniques</li>\n//                   <li>User-centric design thinking</li>\n//                 </>\n//               )}\n//             </ul>\n//           </div>\n//         );\n\n//       // ============================================\n//       // SCREENSHOTS\n//       // ============================================\n//       case \"screenshots\":\n//         return (\n//           <div className=\"content-screenshots\">\n//             <h1> Screenshots</h1>\n//             <div className=\"screenshots-grid\">\n//               {details.screenshots?.length > 0 ? (\n//                 details.screenshots.map((img, i) => (\n//                   <div key={i} className=\"screenshot-card\">\n//                     <img src={img.url} alt={img.title} />\n//                     <span>{img.title}</span>\n//                   </div>\n//                 ))\n//               ) : (\n//                 <div className=\"placeholder-screenshots\">\n//                   <FaImage className=\"placeholder-icon\" />\n//                   <p>Screenshots coming soon...</p>\n//                   <a\n//                     href={project.url}\n//                     target=\"_blank\"\n//                     rel=\"noopener noreferrer\"\n//                   >\n//                     View Live Project <FaExternalLinkAlt />\n//                   </a>\n//                 </div>\n//               )}\n//             </div>\n//           </div>\n//         );\n\n//       // ============================================\n//       // DEMO\n//       // ============================================\n//       case \"demo\":\n//         return (\n//           <div className=\"content-demo\">\n//             <h1> Demo</h1>\n//             {details.demoVideo ? (\n//               <div className=\"video-container\">\n//                 <iframe\n//                   src={details.demoVideo}\n//                   title=\"Project Demo\"\n//                   frameBorder=\"0\"\n//                   allowFullScreen\n//                 />\n//               </div>\n//             ) : (\n//               <div className=\"placeholder-demo\">\n//                 <FaPlay className=\"placeholder-icon\" />\n//                 <p>Demo video coming soon...</p>\n//                 <a href={project.url} target=\"_blank\" rel=\"noopener noreferrer\">\n//                   Try Live Demo <FaExternalLinkAlt />\n//                 </a>\n//               </div>\n//             )}\n//           </div>\n//         );\n\n//       // ============================================\n//       // TERMINAL\n//       // ============================================\n//       case \"terminal\":\n//         return (\n//           <div className=\"content-terminal\">\n//             <div className=\"terminal-header\">\n//               <span className=\"terminal-dot red\"></span>\n//               <span className=\"terminal-dot yellow\"></span>\n//               <span className=\"terminal-dot green\"></span>\n//               <span className=\"terminal-title\">Terminal - zsh</span>\n//             </div>\n//             <pre className=\"terminal-body\">\n//               {terminalText}\n//               <span className=\"cursor\"></span>\n//             </pre>\n//           </div>\n//         );\n\n//       default:\n//         return <div>Select a file to view</div>;\n//     }\n//   };\n\n//   // ============================================\n//   // MAIN RENDER\n//   // ============================================\n//   return (\n//     <div className=\"modal-overlay\" onClick={onClose}>\n//       <div className=\"vscode-modal\" onClick={(e) => e.stopPropagation()}>\n//         {/* Title Bar */}\n//         <div className=\"vscode-titlebar\">\n//           <div className=\"titlebar-left\">\n//             <div className=\"titlebar-traffic-lights\">\n//               <span className=\"traffic-light red\" onClick={onClose}></span>\n//               <span className=\"traffic-light yellow\"></span>\n//               <span className=\"traffic-light green\"></span>\n//             </div>\n//             <FaCode className=\"vscode-icon\" />\n//             <span>{project.name}  Project Viewer</span>\n//           </div>\n//           <div className=\"titlebar-right\">\n//             <a\n//               href={project.url}\n//               target=\"_blank\"\n//               rel=\"noopener noreferrer\"\n//               className=\"titlebar-btn\"\n//             >\n//               <FaExternalLinkAlt />\n//             </a>\n//             <button className=\"titlebar-btn close\" onClick={onClose}>\n//               <FaTimes />\n//             </button>\n//           </div>\n//         </div>\n\n//         {/* Main Content */}\n//         <div className=\"vscode-main\">\n//           {/* Activity Bar */}\n//           <div className=\"vscode-activitybar\">\n//             <div className=\"activity-icon active\">\n//               <VscFiles />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscSearch />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscSourceControl />\n//             </div>\n//             <div className=\"activity-icon\">\n//               <VscExtensions />\n//             </div>\n//             <div\n//               className=\"activity-icon terminal-icon\"\n//               onClick={() => {\n//                 setActiveTab(\"terminal\");\n//                 setIsLoading(true);\n//               }}\n//             >\n//               <FaTerminal />\n//             </div>\n//           </div>\n\n//           {/* Sidebar */}\n//           <div className=\"vscode-sidebar\">\n//             <div className=\"sidebar-header\">\n//               <span>EXPLORER</span>\n//             </div>\n//             <div className=\"sidebar-section\">\n//               <div className=\"section-title\">\n//                 <VscChevronDown />\n//                 <span>\n//                   {project.name\n//                     .replace(/[^\\w\\s]/g, \"\")\n//                     .trim()\n//                     .toUpperCase()\n//                     .slice(0, 20)}\n//                 </span>\n//               </div>\n//               <div className=\"file-tree\">{renderTree(fileTree)}</div>\n//             </div>\n//           </div>\n\n//           {/* Editor */}\n//           <div className=\"vscode-editor\">\n//             {/* Tabs */}\n//             <div className=\"editor-tabs\">\n//               {[\n//                 \"README.md\",\n//                 \"PROBLEM.md\",\n//                 \"SOLUTION.md\",\n//                 \"tech-stack.json\",\n//                 \"impact.md\",\n//               ].map((tab) => (\n//                 <div\n//                   key={tab}\n//                   className={`editor-tab ${activeTab === tab ? \"active\" : \"\"}`}\n//                   onClick={() => {\n//                     setActiveTab(tab);\n//                     setIsLoading(true);\n//                   }}\n//                 >\n//                   <FaFileAlt className=\"tab-icon\" />\n//                   <span className=\"tab-text\">{tab}</span>\n//                   {activeTab === tab && <span className=\"tab-close\"></span>}\n//                 </div>\n//               ))}\n//             </div>\n\n//             {/* Breadcrumb */}\n//             <div className=\"editor-breadcrumb\">\n//               <span className=\"breadcrumb-item\">\n//                 {project.name.replace(/[^\\w\\s]/g, \"\").trim()}\n//               </span>\n//               <VscChevronRight className=\"breadcrumb-separator\" />\n//               <span className=\"breadcrumb-item\">src</span>\n//               <VscChevronRight className=\"breadcrumb-separator\" />\n//               <span className=\"breadcrumb-item\">{activeTab}</span>\n//             </div>\n\n//             {/* Content */}\n//             <div className=\"editor-content\">{renderContent()}</div>\n//           </div>\n//         </div>\n\n//         {/* Status Bar */}\n//         <div className=\"vscode-statusbar\">\n//           <div className=\"statusbar-left\">\n//             <span className=\"statusbar-item\">\n//               <VscSourceControl /> main\n//             </span>\n//           </div>\n//           <div className=\"statusbar-right\">\n//             {/* <span className=\"statusbar-item success\"> Synced</span> */}\n//             <span className=\"statusbar-item\">UTF-8</span>\n//             <span className=\"statusbar-item\">Markdown</span>\n//             <span className=\"statusbar-item\">Ln 1, Col 1</span>\n//           </div>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// };\n\n// export default ProjectModal;\nimport Siri from \"../chatbot/Siri\"; // or wherever your Siri component is\nimport React, {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useMemo,\n} from \"react\";\nimport ProjectAI from \"./ProjectAI\";\nimport {\n  FaTimes,\n  FaFolder,\n  FaFolderOpen,\n  FaFileCode,\n  FaFileAlt,\n  FaImage,\n  FaPlay,\n  FaLightbulb,\n  FaCheckCircle,\n  FaExternalLinkAlt,\n  FaNewspaper,\n  FaCopy,\n  FaCheck,\n  FaTerminal,\n  FaCode,\n  FaSearch,\n  FaKeyboard,\n  FaExpand,\n  FaCompress,\n  FaThumbtack,\n  FaChevronUp,\n  FaChevronDown as FaChevDown,\n  FaBug,\n  FaBell,\n  FaGithub,\n} from \"react-icons/fa\";\nimport {\n  VscFiles,\n  VscSearch,\n  VscSourceControl,\n  VscExtensions,\n  VscChevronRight,\n  VscChevronDown,\n  VscClose,\n  VscSplitHorizontal,\n  VscSettingsGear,\n  VscBell,\n  VscTerminal,\n  VscWarning,\n  VscError,\n  VscInfo,\n  VscCheck,\n} from \"react-icons/vsc\";\nimport \"./ProjectModal.css\";\n\n// Import your existing components\nimport TerminalComponent from \"./TerminalComponent\";\nimport ArchitectureDiagram from \"./ArchitectureDiagram\";\nimport BeforeAfterSlider from \"./BeforeAfterSlider\";\nimport Timeline from \"./Timeline\";\nimport LoadingSkeleton from \"./LoadingSkeleton\";\n\n// ============================================\n// CUSTOM HOOKS\n// ============================================\n\n/** Animated counter that counts up to target value */\nconst useAnimatedCounter = (target, duration = 2000, start = false) => {\n  const [count, setCount] = useState(0);\n\n  useEffect(() => {\n    if (!start || !target) return;\n    let startTime;\n    let animFrame;\n    const numTarget =\n      typeof target === \"string\" ? parseInt(target.replace(/\\D/g, \"\")) : target;\n    if (isNaN(numTarget)) {\n      setCount(target);\n      return;\n    }\n\n    const animate = (timestamp) => {\n      if (!startTime) startTime = timestamp;\n      const progress = Math.min((timestamp - startTime) / duration, 1);\n      const eased = 1 - Math.pow(1 - progress, 3); // easeOutCubic\n      setCount(Math.floor(eased * numTarget));\n      if (progress < 1) animFrame = requestAnimationFrame(animate);\n    };\n    animFrame = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(animFrame);\n  }, [target, duration, start]);\n\n  return count;\n};\n\n/** Intersection observer hook for scroll-triggered animations */\nconst useInView = (options = {}) => {\n  const ref = useRef(null);\n  const [inView, setInView] = useState(false);\n\n  useEffect(() => {\n    const el = ref.current;\n    if (!el) return;\n    const observer = new IntersectionObserver(([entry]) => {\n      if (entry.isIntersecting) {\n        setInView(true);\n        observer.unobserve(el);\n      }\n    }, options);\n    observer.observe(el);\n    return () => observer.disconnect();\n  }, []);\n\n  return [ref, inView];\n};\n\n// ============================================\n// SUB-COMPONENTS\n// ============================================\n\n/** Animated Stat Counter Card */\nconst StatCard = ({ label, value, suffix = \"\", icon, color }) => {\n  const [ref, inView] = useInView({ threshold: 0.3 });\n  const count = useAnimatedCounter(value, 1800, inView);\n  const displayValue =\n    typeof value === \"string\" && isNaN(parseInt(value)) ? value : count;\n\n  return (\n    <div ref={ref} className=\"stat-card\" style={{ \"--stat-color\": color }}>\n      <div className=\"stat-icon\">{icon}</div>\n      <div className=\"stat-value\">\n        {displayValue}\n        {suffix}\n      </div>\n      <div className=\"stat-label\">{label}</div>\n      <div className=\"stat-bar\">\n        <div\n          className=\"stat-bar-fill\"\n          style={{ width: inView ? \"100%\" : \"0%\" }}\n        />\n      </div>\n    </div>\n  );\n};\n\n/** Proficiency Bar for Tech Skills */\nconst ProficiencyBar = ({ name, level, color }) => {\n  const [ref, inView] = useInView({ threshold: 0.5 });\n  return (\n    <div ref={ref} className=\"proficiency-item\">\n      <div className=\"proficiency-header\">\n        <span className=\"proficiency-name\">{name}</span>\n        <span className=\"proficiency-level\">{level}%</span>\n      </div>\n      <div className=\"proficiency-track\">\n        <div\n          className=\"proficiency-fill\"\n          style={{\n            width: inView ? `${level}%` : \"0%\",\n            background: color || \"var(--vscode-accent)\",\n          }}\n        />\n      </div>\n    </div>\n  );\n};\n\n/** Notification Toast */\nconst Toast = ({ message, type = \"info\", onClose }) => {\n  useEffect(() => {\n    const timer = setTimeout(onClose, 3000);\n    return () => clearTimeout(timer);\n  }, [onClose]);\n\n  const icons = {\n    info: <VscInfo />,\n    success: <VscCheck />,\n    warning: <VscWarning />,\n    error: <VscError />,\n  };\n\n  return (\n    <div className={`toast toast-${type}`}>\n      <span className=\"toast-icon\">{icons[type]}</span>\n      <span className=\"toast-message\">{message}</span>\n      <button className=\"toast-close\" onClick={onClose}>\n        <VscClose />\n      </button>\n    </div>\n  );\n};\n\n/** Command Palette */\nconst CommandPalette = ({ commands, onSelect, onClose }) => {\n  const [search, setSearch] = useState(\"\");\n  const inputRef = useRef(null);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n\n  useEffect(() => {\n    inputRef.current?.focus();\n  }, []);\n\n  const filtered = useMemo(\n    () =>\n      commands.filter(\n        (cmd) =>\n          cmd.label.toLowerCase().includes(search.toLowerCase()) ||\n          cmd.category?.toLowerCase().includes(search.toLowerCase())\n      ),\n    [commands, search]\n  );\n\n  useEffect(() => {\n    setSelectedIndex(0);\n  }, [search]);\n\n  const handleKeyDown = (e) => {\n    switch (e.key) {\n      case \"ArrowDown\":\n        e.preventDefault();\n        setSelectedIndex((prev) => Math.min(prev + 1, filtered.length - 1));\n        break;\n      case \"ArrowUp\":\n        e.preventDefault();\n        setSelectedIndex((prev) => Math.max(prev - 1, 0));\n        break;\n      case \"Enter\":\n        if (filtered[selectedIndex]) {\n          onSelect(filtered[selectedIndex]);\n          onClose();\n        }\n        break;\n      case \"Escape\":\n        onClose();\n        break;\n      default:\n        break;\n    }\n  };\n\n  return (\n    <div className=\"command-palette-overlay\" onClick={onClose}>\n      <div className=\"command-palette\" onClick={(e) => e.stopPropagation()}>\n        <div className=\"command-input-wrapper\">\n          <FaSearch className=\"command-search-icon\" />\n          <input\n            ref={inputRef}\n            type=\"text\"\n            placeholder=\"Type a command or search...\"\n            value={search}\n            onChange={(e) => setSearch(e.target.value)}\n            onKeyDown={handleKeyDown}\n            className=\"command-input\"\n          />\n          <kbd className=\"command-kbd\">ESC</kbd>\n        </div>\n        <div className=\"command-list\">\n          {filtered.length === 0 ? (\n            <div className=\"command-empty\">No matching commands</div>\n          ) : (\n            filtered.map((cmd, i) => (\n              <div\n                key={cmd.id}\n                className={`command-item ${\n                  i === selectedIndex ? \"selected\" : \"\"\n                }`}\n                onClick={() => {\n                  onSelect(cmd);\n                  onClose();\n                }}\n                onMouseEnter={() => setSelectedIndex(i)}\n              >\n                <span className=\"command-item-icon\">{cmd.icon}</span>\n                <div className=\"command-item-text\">\n                  <span className=\"command-item-label\">{cmd.label}</span>\n                  {cmd.description && (\n                    <span className=\"command-item-desc\">{cmd.description}</span>\n                  )}\n                </div>\n                {cmd.shortcut && (\n                  <kbd className=\"command-shortcut\">{cmd.shortcut}</kbd>\n                )}\n                {cmd.category && (\n                  <span className=\"command-item-category\">{cmd.category}</span>\n                )}\n              </div>\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\n/** Minimap Component */\nconst Minimap = ({ contentRef }) => {\n  const [viewportRatio, setViewportRatio] = useState({ top: 0, height: 0.3 });\n  const minimapRef = useRef(null);\n\n  useEffect(() => {\n    const content = contentRef?.current;\n    if (!content) return;\n\n    const handleScroll = () => {\n      const { scrollTop, scrollHeight, clientHeight } = content;\n      const top = scrollTop / scrollHeight;\n      const height = clientHeight / scrollHeight;\n      setViewportRatio({ top, height: Math.min(height, 1) });\n    };\n\n    content.addEventListener(\"scroll\", handleScroll);\n    handleScroll();\n    return () => content.removeEventListener(\"scroll\", handleScroll);\n  }, [contentRef]);\n\n  const handleMinimapClick = (e) => {\n    const content = contentRef?.current;\n    if (!content || !minimapRef.current) return;\n    const rect = minimapRef.current.getBoundingClientRect();\n    const clickRatio = (e.clientY - rect.top) / rect.height;\n    content.scrollTop = clickRatio * content.scrollHeight;\n  };\n\n  return (\n    <div className=\"minimap\" ref={minimapRef} onClick={handleMinimapClick}>\n      <div className=\"minimap-content\">\n        {/* Simulated content lines */}\n        {Array.from({ length: 60 }).map((_, i) => (\n          <div\n            key={i}\n            className=\"minimap-line\"\n            style={{\n              width: `${20 + Math.random() * 70}%`,\n              opacity: i % 8 === 0 ? 0.6 : 0.25,\n              height: i % 12 === 0 ? \"3px\" : \"2px\",\n              marginTop: i % 12 === 0 ? \"4px\" : \"1px\",\n            }}\n          />\n        ))}\n      </div>\n      <div\n        className=\"minimap-viewport\"\n        style={{\n          top: `${viewportRatio.top * 100}%`,\n          height: `${viewportRatio.height * 100}%`,\n        }}\n      />\n    </div>\n  );\n};\n\n/** Line Numbers Gutter */\nconst LineNumbers = ({ count = 50 }) => (\n  <div className=\"line-numbers-gutter\">\n    {Array.from({ length: count }).map((_, i) => (\n      <div key={i} className=\"line-number\">\n        {i + 1}\n      </div>\n    ))}\n  </div>\n);\n\n// ============================================\n// MAIN COMPONENT\n// ============================================\nconst ProjectModal = ({ project, theme, isOpen, onClose }) => {\n  // ---- State ----\n  const [showJarvis, setShowJarvis] = useState(false);\n  // const [showJarvisPrompt, setShowJarvisPrompt] = useState(false);\n\n  const [activeTab, setActiveTab] = useState(\"README.md\");\n  const [openTabs, setOpenTabs] = useState([\"README.md\"]);\n  const [pinnedTabs, setPinnedTabs] = useState([]);\n  const [expandedFolders, setExpandedFolders] = useState([\"src\", \"docs\"]);\n  const [copied, setCopied] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showCommandPalette, setShowCommandPalette] = useState(false);\n  const [sidebarWidth, setSidebarWidth] = useState(260);\n  const [isResizing, setIsResizing] = useState(false);\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const [notifications, setNotifications] = useState([]);\n  const [showBottomPanel, setShowBottomPanel] = useState(false);\n  const [sidebarView, setSidebarView] = useState(\"explorer\");\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [zenMode, setZenMode] = useState(false);\n  const [sidebarCollapsed, setSidebarCollapsed] = useState(false);\n  const [showMinimap, setShowMinimap] = useState(true);\n  const [tabContextMenu, setTabContextMenu] = useState(null);\n  const [terminalText, setTerminalText] = useState(\"\");\n\n  // ---- Refs ----\n  const editorContentRef = useRef(null);\n  const resizeRef = useRef(null);\n\n  // ---- Derived ----\n  const details = project?.details || {};\n\n  // ---- Notify helper ----\n  const notify = useCallback((message, type = \"info\") => {\n    const id = Date.now();\n    setNotifications((prev) => [...prev, { id, message, type }]);\n  }, []);\n  const handleAITabChange = useCallback((tab) => {\n    setActiveTab(tab);\n    // Don't set loading for narrator  it causes the stuck issue\n  }, []);\n  const dismissNotification = useCallback((id) => {\n    setNotifications((prev) => prev.filter((n) => n.id !== id));\n  }, []);\n  // // Effect AFTER both states\n  // useEffect(() => {\n  //   if (!isOpen) return;\n  //   setShowJarvisPrompt(false);\n\n  //   console.log(\" Timer started for:\", project?.name); // DEBUG\n\n  //   const timer = setTimeout(() => {\n  //     console.log(\" Showing prompt!\"); // DEBUG\n  //     setShowJarvisPrompt(true);\n  //   }, 5000); //  Try 5s instead of 8s for testing\n\n  //   return () => clearTimeout(timer);\n  // }, [isOpen, project?.id]);\n  // ---- Loading simulation ----\n  useEffect(() => {\n    if (isOpen) {\n      setIsLoading(true);\n      const timer = setTimeout(() => setIsLoading(false), 600);\n      return () => clearTimeout(timer);\n    }\n  }, [isOpen, activeTab]);\n\n  // ---- Scroll progress tracking ----\n  useEffect(() => {\n    const content = editorContentRef.current;\n    if (!content) return;\n\n    const handleScroll = () => {\n      const { scrollTop, scrollHeight, clientHeight } = content;\n      const progress = scrollTop / (scrollHeight - clientHeight);\n      setScrollProgress(Math.min(Math.max(progress, 0), 1));\n    };\n\n    content.addEventListener(\"scroll\", handleScroll, { passive: true });\n    return () => content.removeEventListener(\"scroll\", handleScroll);\n  }, [activeTab, isLoading]);\n  // Auto-popup after 8 seconds of viewing\n  // ---- Keyboard shortcuts ----\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleKeyDown = (e) => {\n      // Escape - Close modal or command palette\n      if (e.key === \"Escape\") {\n        if (showCommandPalette) {\n          setShowCommandPalette(false);\n        } else if (tabContextMenu) {\n          setTabContextMenu(null);\n        } else {\n          onClose();\n        }\n        return;\n      }\n\n      // Cmd/Ctrl + K - Command Palette\n      if ((e.metaKey || e.ctrlKey) && e.key === \"k\") {\n        e.preventDefault();\n        setShowCommandPalette((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + B - Toggle sidebar\n      if ((e.metaKey || e.ctrlKey) && e.key === \"b\") {\n        e.preventDefault();\n        setSidebarCollapsed((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + J - Toggle bottom panel\n      if ((e.metaKey || e.ctrlKey) && e.key === \"j\") {\n        e.preventDefault();\n        setShowBottomPanel((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + M - Toggle minimap\n      if ((e.metaKey || e.ctrlKey) && e.key === \"m\") {\n        e.preventDefault();\n        setShowMinimap((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + Shift + Z - Zen mode\n      if ((e.metaKey || e.ctrlKey) && e.shiftKey && e.key === \"z\") {\n        e.preventDefault();\n        setZenMode((prev) => !prev);\n        return;\n      }\n\n      // Cmd/Ctrl + F - Search\n      if ((e.metaKey || e.ctrlKey) && e.key === \"f\") {\n        e.preventDefault();\n        setSidebarView(\"search\");\n        setSidebarCollapsed(false);\n        return;\n      }\n\n      // Cmd/Ctrl + W - Close active tab\n      if ((e.metaKey || e.ctrlKey) && e.key === \"w\") {\n        e.preventDefault();\n        closeTab(activeTab);\n        return;\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [isOpen, showCommandPalette, activeTab, onClose, tabContextMenu]);\n\n  // ---- Resizable sidebar ----\n  const handleResizeStart = useCallback(\n    (e) => {\n      e.preventDefault();\n      setIsResizing(true);\n\n      const startX = e.clientX;\n      const startWidth = sidebarWidth;\n\n      const handleMouseMove = (e) => {\n        const newWidth = Math.max(\n          180,\n          Math.min(500, startWidth + (e.clientX - startX))\n        );\n        setSidebarWidth(newWidth);\n      };\n\n      const handleMouseUp = () => {\n        setIsResizing(false);\n        document.removeEventListener(\"mousemove\", handleMouseMove);\n        document.removeEventListener(\"mouseup\", handleMouseUp);\n        document.body.style.cursor = \"\";\n        document.body.style.userSelect = \"\";\n      };\n\n      document.body.style.cursor = \"col-resize\";\n      document.body.style.userSelect = \"none\";\n      document.addEventListener(\"mousemove\", handleMouseMove);\n      document.addEventListener(\"mouseup\", handleMouseUp);\n    },\n    [sidebarWidth]\n  );\n\n  // ---- Terminal effect ----\n  useEffect(() => {\n    if (isOpen && (activeTab === \"terminal\" || showBottomPanel)) {\n      const commands = [\n        `\\x1b[32m\\x1b[0m \\x1b[36m${\n          project?.name?.replace(/[^a-zA-Z]/g, \"-\").toLowerCase() || \"project\"\n        }\\x1b[0m git:(main) `,\n        `$ npm run dev`,\n        \"\",\n        `\\x1b[1m> ${project?.name || \"project\"}@1.0.0 dev\\x1b[0m`,\n        `> next dev`,\n        \"\",\n        `   Next.js 14.0.0`,\n        `  - Local:        http://localhost:3000`,\n        `  - Environments: .env.local`,\n        \"\",\n        `\\x1b[32m \\x1b[0m Ready in 1.2s`,\n      ];\n      let i = 0;\n      let text = \"\";\n      const interval = setInterval(() => {\n        if (i < commands.length) {\n          text += commands[i] + \"\\n\";\n          setTerminalText(text);\n          i++;\n        } else {\n          clearInterval(interval);\n        }\n      }, 300);\n      return () => clearInterval(interval);\n    }\n  }, [isOpen, activeTab, showBottomPanel, project]);\n\n  // ---- Tab management ----\n  const openTab = useCallback(\n    (tabName) => {\n      if (!openTabs.includes(tabName)) {\n        setOpenTabs((prev) => [...prev, tabName]);\n      }\n      setActiveTab(tabName);\n      setIsLoading(true);\n    },\n    [openTabs]\n  );\n\n  const closeTab = useCallback(\n    (tabName, e) => {\n      if (e) e.stopPropagation();\n      if (pinnedTabs.includes(tabName)) return;\n\n      const newTabs = openTabs.filter((t) => t !== tabName);\n      if (newTabs.length === 0) {\n        newTabs.push(\"README.md\");\n      }\n      setOpenTabs(newTabs);\n      if (activeTab === tabName) {\n        setActiveTab(newTabs[newTabs.length - 1]);\n        setIsLoading(true);\n      }\n    },\n    [openTabs, activeTab, pinnedTabs]\n  );\n\n  const pinTab = useCallback(\n    (tabName) => {\n      setPinnedTabs((prev) =>\n        prev.includes(tabName)\n          ? prev.filter((t) => t !== tabName)\n          : [...prev, tabName]\n      );\n      notify(\n        pinnedTabs.includes(tabName)\n          ? `Unpinned ${tabName}`\n          : `Pinned ${tabName}`,\n        \"info\"\n      );\n    },\n    [pinnedTabs, notify]\n  );\n\n  const handleTabContextMenu = useCallback((e, tabName) => {\n    e.preventDefault();\n    setTabContextMenu({\n      x: e.clientX,\n      y: e.clientY,\n      tab: tabName,\n    });\n  }, []);\n\n  // Close context menu on click outside\n  useEffect(() => {\n    if (tabContextMenu) {\n      const close = () => setTabContextMenu(null);\n      window.addEventListener(\"click\", close);\n      return () => window.removeEventListener(\"click\", close);\n    }\n  }, [tabContextMenu]);\n\n  // ---- Copy code helper ----\n  const copyCode = useCallback(\n    (code) => {\n      navigator.clipboard.writeText(code);\n      setCopied(true);\n      notify(\"Copied to clipboard!\", \"success\");\n      setTimeout(() => setCopied(false), 2000);\n    },\n    [notify]\n  );\n\n  // ---- Command Palette commands ----\n  const commands = useMemo(\n    () => [\n      {\n        id: \"readme\",\n        label: \"Open README.md\",\n        icon: <FaFileAlt />,\n        category: \"File\",\n        action: () => openTab(\"README.md\"),\n      },\n      {\n        id: \"problem\",\n        label: \"Open PROBLEM.md\",\n        icon: <FaLightbulb />,\n        category: \"File\",\n        action: () => openTab(\"PROBLEM.md\"),\n      },\n      {\n        id: \"solution\",\n        label: \"Open SOLUTION.md\",\n        icon: <FaCheckCircle />,\n        category: \"File\",\n        action: () => openTab(\"SOLUTION.md\"),\n      },\n      {\n        id: \"techstack\",\n        label: \"Open tech-stack.json\",\n        icon: <FaFileCode />,\n        category: \"File\",\n        action: () => openTab(\"tech-stack.json\"),\n      },\n      {\n        id: \"impact\",\n        label: \"Open impact.md\",\n        icon: <FaCheckCircle />,\n        category: \"File\",\n        action: () => openTab(\"impact.md\"),\n      },\n      {\n        id: \"screenshots\",\n        label: \"Open Screenshots\",\n        icon: <FaImage />,\n        category: \"File\",\n        action: () => openTab(\"screenshots\"),\n      },\n      {\n        id: \"demo\",\n        label: \"Open Demo\",\n        icon: <FaPlay />,\n        category: \"File\",\n        action: () => openTab(\"demo\"),\n      },\n      {\n        id: \"terminal\",\n        label: \"Toggle Terminal\",\n        icon: <FaTerminal />,\n        shortcut: \"J\",\n        category: \"View\",\n        action: () => setShowBottomPanel((p) => !p),\n      },\n      {\n        id: \"sidebar\",\n        label: \"Toggle Sidebar\",\n        icon: <VscFiles />,\n        shortcut: \"B\",\n        category: \"View\",\n        action: () => setSidebarCollapsed((p) => !p),\n      },\n      {\n        id: \"minimap\",\n        label: \"Toggle Minimap\",\n        icon: <VscSplitHorizontal />,\n        shortcut: \"M\",\n        category: \"View\",\n        action: () => setShowMinimap((p) => !p),\n      },\n      {\n        id: \"zen\",\n        label: \"Toggle Zen Mode\",\n        icon: <FaExpand />,\n        shortcut: \"Z\",\n        category: \"View\",\n        action: () => setZenMode((p) => !p),\n      },\n      {\n        id: \"github\",\n        label: \"Open on GitHub\",\n        icon: <FaGithub />,\n        category: \"External\",\n        action: () => window.open(project?.url, \"_blank\"),\n      },\n      {\n        id: \"close\",\n        label: \"Close Modal\",\n        icon: <FaTimes />,\n        shortcut: \"ESC\",\n        category: \"Navigation\",\n        action: () => onClose(),\n      },\n    ],\n    [project, openTab, onClose]\n  );\n\n  const handleCommandSelect = useCallback((cmd) => {\n    cmd.action?.();\n  }, []);\n\n  // ---- File tree structure ----\n  const fileTree = useMemo(\n    () => [\n      {\n        name: \"src\",\n        type: \"folder\",\n        children: [\n          { name: \"README.md\", type: \"file\", icon: <FaFileAlt /> },\n          { name: \"PROBLEM.md\", type: \"file\", icon: <FaLightbulb /> },\n          { name: \"SOLUTION.md\", type: \"file\", icon: <FaCheckCircle /> },\n        ],\n      },\n      {\n        name: \"docs\",\n        type: \"folder\",\n        children: [\n          { name: \"screenshots\", type: \"file\", icon: <FaImage /> },\n          { name: \"demo\", type: \"file\", icon: <FaPlay /> },\n        ],\n      },\n      { name: \"tech-stack.json\", type: \"file\", icon: <FaFileCode /> },\n      { name: \"impact.md\", type: \"file\", icon: <FaCheckCircle /> },\n    ],\n    []\n  );\n\n  const toggleFolder = useCallback((folderName) => {\n    setExpandedFolders((prev) =>\n      prev.includes(folderName)\n        ? prev.filter((f) => f !== folderName)\n        : [...prev, folderName]\n    );\n  }, []);\n\n  // ---- Render file tree ----\n  const renderTree = useCallback(\n    (items, depth = 0) => {\n      return items.map((item) => {\n        if (item.type === \"folder\") {\n          const isExpanded = expandedFolders.includes(item.name);\n          return (\n            <div key={item.name} className=\"tree-folder\">\n              <div\n                className=\"tree-item folder\"\n                onClick={() => toggleFolder(item.name)}\n                role=\"treeitem\"\n                aria-expanded={isExpanded}\n                tabIndex={0}\n                onKeyDown={(e) => e.key === \"Enter\" && toggleFolder(item.name)}\n              >\n                {isExpanded ? <VscChevronDown /> : <VscChevronRight />}\n                {isExpanded ? (\n                  <FaFolderOpen className=\"folder-icon open\" />\n                ) : (\n                  <FaFolder className=\"folder-icon\" />\n                )}\n                <span>{item.name}</span>\n              </div>\n              {isExpanded && (\n                <div className=\"tree-children\">\n                  {renderTree(item.children, depth + 1)}\n                </div>\n              )}\n            </div>\n          );\n        }\n        return (\n          <div\n            key={item.name}\n            className={`tree-item file ${\n              activeTab === item.name ? \"active\" : \"\"\n            }`}\n            onClick={() => openTab(item.name)}\n            role=\"treeitem\"\n            tabIndex={0}\n            onKeyDown={(e) => e.key === \"Enter\" && openTab(item.name)}\n          >\n            {item.icon}\n            <span>{item.name}</span>\n          </div>\n        );\n      });\n    },\n    [expandedFolders, activeTab, openTab, toggleFolder]\n  );\n\n  // ---- RENDER CONTENT ----\n  const renderContent = () => {\n    //  DEBUG: Add this temporarily\n    console.log(\"=== DEBUG ===\");\n    console.log(\"isLoading:\", isLoading);\n    console.log(\"activeTab:\", activeTab);\n    console.log(\"project:\", project?.name);\n    console.log(\"details:\", JSON.stringify(details).slice(0, 200));\n    console.log(\"openTabs:\", openTabs);\n\n    if (isLoading) {\n      console.log(\">>> Showing LoadingSkeleton\");\n      return <LoadingSkeleton />;\n    }\n\n    console.log(\">>> Rendering tab:\", activeTab);\n\n    switch (activeTab) {\n      // ========== README.md ==========\n      case \"README.md\":\n        return (\n          <div className=\"content-readme\">\n            <h1>{project.name}</h1>\n            <p className=\"project-tagline\">{project.description}</p>\n\n            {/* Tech Badges */}\n            <div className=\"badges\">\n              {project.languages?.map((lang, i) => (\n                <span\n                  key={i}\n                  className=\"badge\"\n                  data-tooltip={`Used for ${lang.name}`}\n                >\n                  {lang.name}\n                </span>\n              ))}\n            </div>\n\n            {/* Quick Stats */}\n            {details.stats && (\n              <>\n                <h2> Key Metrics</h2>\n                <div className=\"stats-grid\">\n                  {details.stats.map((stat, i) => (\n                    <StatCard\n                      key={i}\n                      label={stat.label}\n                      value={stat.value}\n                      suffix={stat.suffix || \"\"}\n                      icon={stat.icon || \"\"}\n                      color={\n                        stat.color ||\n                        [\"#4fc3f7\", \"#4caf50\", \"#ffb74d\", \"#f44336\", \"#ab47bc\"][\n                          i % 5\n                        ]\n                      }\n                    />\n                  ))}\n                </div>\n              </>\n            )}\n\n            {/* Architecture Diagram */}\n            <h2> System Architecture</h2>\n            <ArchitectureDiagram\n              architecture={details.architecture}\n              projectId={project.id}\n            />\n\n            {/* Story Flow or Standard Mode */}\n            {details.story ? (\n              <div className=\"story-flow\">\n                {[\"problem\", \"approach\", \"solution\", \"result\"].map(\n                  (section, i) => (\n                    <React.Fragment key={section}>\n                      {i > 0 && <div className=\"story-connector\" />}\n                      <div className={`story-section ${section}`}>\n                        <div className=\"story-header\">\n                          <span className=\"story-number\">{i + 1}</span>\n                          <h3 className=\"story-title\">\n                            {\n                              {\n                                problem: \"The Problem\",\n                                approach: \"My Approach\",\n                                solution: \"The Solution\",\n                                result: \"The Results\",\n                              }[section]\n                            }\n                          </h3>\n                        </div>\n                        <p className=\"story-content\">\n                          {details.story[section]}\n                        </p>\n\n                        {/* News Links in Problem Section */}\n                        {section === \"problem\" &&\n                          details.newsLinks?.length > 0 && (\n                            <div className=\"media-mentions\">\n                              <h5>\n                                <FaNewspaper /> Featured In:\n                              </h5>\n                              <div className=\"media-links-grid\">\n                                {details.newsLinks.map((link, j) => (\n                                  <a\n                                    key={j}\n                                    href={link.url}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                    className=\"media-link-card\"\n                                  >\n                                    <div className=\"media-source\">\n                                      {link.source}\n                                    </div>\n                                    <div className=\"media-title\">\n                                      {link.title}\n                                    </div>\n                                    <FaExternalLinkAlt className=\"media-icon\" />\n                                  </a>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n                      </div>\n                    </React.Fragment>\n                  )\n                )}\n              </div>\n            ) : (\n              <>\n                <h2> Overview</h2>\n                <div className=\"story-section problem\" style={{ marginTop: 0 }}>\n                  <p\n                    className=\"story-content\"\n                    style={{ color: \"var(--vscode-text)\" }}\n                  >\n                    {details.problem || project.description}\n                  </p>\n\n                  {details.newsLinks?.length > 0 && (\n                    <div className=\"media-mentions\">\n                      <h5>\n                        <FaNewspaper /> Featured In News:\n                      </h5>\n                      <div className=\"media-links-grid\">\n                        {details.newsLinks.map((link, i) => (\n                          <a\n                            key={i}\n                            href={link.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"media-link-card\"\n                          >\n                            <div className=\"media-source\">{link.source}</div>\n                            <div className=\"media-title\">{link.title}</div>\n                            <FaExternalLinkAlt className=\"media-icon\" />\n                          </a>\n                        ))}\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </>\n            )}\n\n            {/* Before/After */}\n            <h2> Before vs After</h2>\n            <BeforeAfterSlider\n              before={details.comparison?.before}\n              after={details.comparison?.after}\n            />\n\n            {/* Timeline */}\n            <h2> Project Journey</h2>\n            <Timeline milestones={details.timeline || []} />\n\n            {/* Role & Info Table */}\n            <h2> Role & Info</h2>\n            <table className=\"info-table\">\n              <tbody>\n                <tr>\n                  <td>Role</td>\n                  <td>{details.role || \"Full Stack Developer\"}</td>\n                </tr>\n                <tr>\n                  <td>Timeline</td>\n                  <td>\n                    {details.timeline?.[0]?.date || \"2024\"} {\" \"}\n                    {details.timeline?.[details.timeline?.length - 1]?.date ||\n                      \"Present\"}\n                  </td>\n                </tr>\n                <tr>\n                  <td>Team</td>\n                  <td>{details.team || \"Solo Project\"}</td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n        );\n\n      // ========== PROBLEM.md ==========\n      case \"PROBLEM.md\":\n        return (\n          <div className=\"content-problem\">\n            <h1> The Problem</h1>\n            <div className=\"problem-box\">\n              <p>\n                {details.story?.problem ||\n                  details.problem ||\n                  \"Problem description not available.\"}\n              </p>\n            </div>\n\n            <h2>Pain Points</h2>\n            <ul className=\"pain-points\">\n              {(\n                details.painPoints || [\n                  \" Time-consuming manual processes\",\n                  \" Error-prone and inconsistent results\",\n                  \" Doesn't scale with growing data\",\n                  \" High operational costs\",\n                ]\n              ).map((point, i) => (\n                <li key={i}>{point}</li>\n              ))}\n            </ul>\n\n            <h2> Impact Comparison</h2>\n            <BeforeAfterSlider\n              before={details.comparison?.before}\n              after={details.comparison?.after}\n            />\n          </div>\n        );\n\n      // ========== SOLUTION.md ==========\n      case \"SOLUTION.md\":\n        return (\n          <div className=\"content-solution\">\n            <h1> The Solution</h1>\n            <div className=\"solution-box\">\n              <p>\n                {details.story?.solution ||\n                  details.solution ||\n                  \"Solution description not available.\"}\n              </p>\n            </div>\n\n            <h2> How It Works</h2>\n            <ArchitectureDiagram architecture={details.architecture} />\n\n            {/* Code Snippet */}\n            {details.codeSnippets?.[0] && (\n              <>\n                <h2> Code Highlight</h2>\n                <div className=\"code-block enhanced\">\n                  <div className=\"code-header\">\n                    <div className=\"code-header-left\">\n                      <div className=\"code-dots\">\n                        <span className=\"dot red\" />\n                        <span className=\"dot yellow\" />\n                        <span className=\"dot green\" />\n                      </div>\n                      <span className=\"code-filename\">\n                        {details.codeSnippets[0].filename}\n                      </span>\n                      <span className=\"code-lang-badge\">\n                        {details.codeSnippets[0].language}\n                      </span>\n                    </div>\n\n                    <button\n                      onClick={() => copyCode(details.codeSnippets[0].code)}\n                      className={copied ? \"copied\" : \"\"}\n                      aria-label=\"Copy code\"\n                    >\n                      {copied ? (\n                        <>\n                          <FaCheck /> Copied\n                        </>\n                      ) : (\n                        <>\n                          <FaCopy /> Copy\n                        </>\n                      )}\n                    </button>\n                  </div>\n                  <div className=\"code-body-wrapper\">\n                    <div className=\"code-line-numbers\">\n                      {details.codeSnippets[0].code.split(\"\\n\").map((_, i) => (\n                        <span key={i}>{i + 1}</span>\n                      ))}\n                    </div>\n                    <pre>\n                      <code>{details.codeSnippets[0].code}</code>\n                    </pre>\n                  </div>\n                </div>\n              </>\n            )}\n          </div>\n        );\n\n      // ========== tech-stack.json ==========\n      case \"tech-stack.json\":\n        return (\n          <div className=\"content-techstack\">\n            <h1> Tech Stack</h1>\n\n            {/* JSON Preview */}\n            <div className=\"code-block enhanced\">\n              <div className=\"code-header\">\n                <div className=\"code-header-left\">\n                  <div className=\"code-dots\">\n                    <span className=\"dot red\" />\n                    <span className=\"dot yellow\" />\n                    <span className=\"dot green\" />\n                  </div>\n                  <span className=\"code-filename\">tech-stack.json</span>\n                  <span className=\"code-lang-badge\">JSON</span>\n                </div>\n                <button\n                  onClick={() =>\n                    copyCode(\n                      JSON.stringify(\n                        {\n                          languages:\n                            project.languages?.map((l) => l.name) || [],\n                          ...details.techStack,\n                        },\n                        null,\n                        2\n                      )\n                    )\n                  }\n                >\n                  <FaCopy /> Copy\n                </button>\n              </div>\n              <div className=\"code-body-wrapper\">\n                <pre className=\"json-syntax\">\n                  <code>\n                    {JSON.stringify(\n                      {\n                        languages: project.languages?.map((l) => l.name) || [],\n                        frontend: details.techStack?.frontend || [],\n                        backend: details.techStack?.backend || [],\n                        ai: details.techStack?.ai || [],\n                        cloud: details.techStack?.cloud || [],\n                      },\n                      null,\n                      2\n                    )}\n                  </code>\n                </pre>\n              </div>\n            </div>\n\n            <h2>Technologies & Proficiency</h2>\n            <div className=\"tech-categories\">\n              {details.techStack ? (\n                Object.entries(details.techStack).map(([category, techs]) => (\n                  <div key={category} className=\"tech-category\">\n                    <h3>\n                      {category.charAt(0).toUpperCase() + category.slice(1)}\n                    </h3>\n                    <div className=\"tech-badges\">\n                      {techs.map((tech, i) => (\n                        <span\n                          key={i}\n                          className=\"tech-badge\"\n                          data-tooltip={\n                            tech.tooltip || `${tech.name || tech} technology`\n                          }\n                        >\n                          {tech.name || tech}\n                        </span>\n                      ))}\n                    </div>\n\n                    {/* Proficiency Bars (if data exists) */}\n                    {techs[0]?.proficiency && (\n                      <div className=\"proficiency-list\">\n                        {techs.map(\n                          (tech, i) =>\n                            tech.proficiency && (\n                              <ProficiencyBar\n                                key={i}\n                                name={tech.name || tech}\n                                level={tech.proficiency}\n                                color={tech.color}\n                              />\n                            )\n                        )}\n                      </div>\n                    )}\n                  </div>\n                ))\n              ) : (\n                <div className=\"tech-category\">\n                  <h3>All Technologies</h3>\n                  <div className=\"tech-badges\">\n                    {project.languages?.map((lang, i) => (\n                      <span key={i} className=\"tech-badge\">\n                        {lang.name}\n                      </span>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      // ========== impact.md ==========\n      case \"impact.md\":\n        return (\n          <div className=\"content-impact\">\n            <h1> Impact & Results</h1>\n\n            {/* Stat cards if available */}\n            {details.stats && (\n              <div className=\"stats-grid\">\n                {details.stats.map((stat, i) => (\n                  <StatCard\n                    key={i}\n                    label={stat.label}\n                    value={stat.value}\n                    suffix={stat.suffix || \"\"}\n                    icon={stat.icon || \"\"}\n                    color={\n                      stat.color ||\n                      [\"#4fc3f7\", \"#4caf50\", \"#ffb74d\", \"#f44336\"][i % 4]\n                    }\n                  />\n                ))}\n              </div>\n            )}\n\n            <div className=\"impact-grid\">\n              {details.impact?.length > 0 ? (\n                details.impact.map((item, i) => (\n                  <div\n                    key={i}\n                    className=\"impact-card\"\n                    style={{ animationDelay: `${i * 0.1}s` }}\n                  >\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>{item}</span>\n                  </div>\n                ))\n              ) : (\n                <>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Improved efficiency by 80%</span>\n                  </div>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Reduced manual work significantly</span>\n                  </div>\n                  <div className=\"impact-card\">\n                    <FaCheckCircle className=\"impact-icon\" />\n                    <span>Scalable architecture</span>\n                  </div>\n                </>\n              )}\n            </div>\n\n            <h2> Timeline</h2>\n            <Timeline milestones={details.timeline || []} />\n\n            <h2> Key Learnings</h2>\n            <ul className=\"learnings-list\">\n              {(\n                details.learnings || [\n                  \"Importance of clean architecture\",\n                  \"Performance optimization techniques\",\n                  \"User-centric design thinking\",\n                ]\n              ).map((learning, i) => (\n                <li key={i}>{learning}</li>\n              ))}\n            </ul>\n          </div>\n        );\n\n      // ========== screenshots ==========\n      case \"screenshots\":\n        return (\n          <div className=\"content-screenshots\">\n            <h1> Screenshots</h1>\n            <div className=\"screenshots-grid\">\n              {details.screenshots?.length > 0 ? (\n                details.screenshots.map((img, i) => (\n                  <div key={i} className=\"screenshot-card\">\n                    <img src={img.url} alt={img.title} loading=\"lazy\" />\n                    <span>{img.title}</span>\n                  </div>\n                ))\n              ) : (\n                <div className=\"placeholder-screenshots\">\n                  <FaImage className=\"placeholder-icon\" />\n                  <p>Screenshots coming soon...</p>\n                  <a\n                    href={project.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                  >\n                    View Live Project <FaExternalLinkAlt />\n                  </a>\n                </div>\n              )}\n            </div>\n          </div>\n        );\n\n      // ========== demo ==========\n      case \"demo\":\n        return (\n          <div className=\"content-demo\">\n            <h1> Demo</h1>\n            {details.demoVideo ? (\n              <div className=\"video-container\">\n                <iframe\n                  src={details.demoVideo}\n                  title=\"Project Demo\"\n                  frameBorder=\"0\"\n                  allowFullScreen\n                />\n              </div>\n            ) : (\n              <div className=\"placeholder-demo\">\n                <FaPlay className=\"placeholder-icon\" />\n                <p>Demo video coming soon...</p>\n                <a href={project.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                  Try Live Demo <FaExternalLinkAlt />\n                </a>\n              </div>\n            )}\n          </div>\n        );\n\n      // ========== terminal ==========\n      case \"terminal\":\n        return <TerminalComponent project={project} />;\n\n      default:\n        return (\n          <div className=\"welcome-tab\">\n            <div className=\"welcome-content\">\n              <FaCode className=\"welcome-icon\" />\n              <h2>Welcome</h2>\n              <p>Select a file from the explorer to get started</p>\n              <div className=\"welcome-shortcuts\">\n                <div className=\"shortcut-item\">\n                  <kbd>K</kbd>\n                  <span>Command Palette</span>\n                </div>\n                <div className=\"shortcut-item\">\n                  <kbd>B</kbd>\n                  <span>Toggle Sidebar</span>\n                </div>\n                <div className=\"shortcut-item\">\n                  <kbd>J</kbd>\n                  <span>Toggle Terminal</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        );\n    }\n  };\n\n  // ---- Don't render if not open ----\n  if (!isOpen || !project) return null;\n\n  // ============================================\n  // MAIN RENDER\n  // ============================================\n  return (\n    <div\n      className=\"modal-overlay\"\n      onClick={onClose}\n      role=\"dialog\"\n      aria-modal=\"true\"\n      aria-label={`${project.name} - Project Details`}\n    >\n      <div\n        className={`vscode-modal ${zenMode ? \"zen-mode\" : \"\"}`}\n        onClick={(e) => e.stopPropagation()}\n      >\n        {/* ---- COMMAND PALETTE ---- */}\n        {showCommandPalette && (\n          <CommandPalette\n            commands={commands}\n            onSelect={handleCommandSelect}\n            onClose={() => setShowCommandPalette(false)}\n          />\n        )}\n\n        {/* ---- NOTIFICATION TOASTS ---- */}\n        <div className=\"toast-container\">\n          {notifications.map((n) => (\n            <Toast\n              key={n.id}\n              message={n.message}\n              type={n.type}\n              onClose={() => dismissNotification(n.id)}\n            />\n          ))}\n        </div>\n\n        {/* ---- TAB CONTEXT MENU ---- */}\n        {tabContextMenu && (\n          <div\n            className=\"tab-context-menu\"\n            style={{ top: tabContextMenu.y, left: tabContextMenu.x }}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                closeTab(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <VscClose /> Close\n            </div>\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                setOpenTabs([\"README.md\"]);\n                setActiveTab(\"README.md\");\n                setTabContextMenu(null);\n              }}\n            >\n              <VscClose /> Close All\n            </div>\n            <div className=\"context-separator\" />\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                pinTab(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <FaThumbtack />{\" \"}\n              {pinnedTabs.includes(tabContextMenu.tab) ? \"Unpin\" : \"Pin\"} Tab\n            </div>\n            <div className=\"context-separator\" />\n            <div\n              className=\"context-item\"\n              onClick={() => {\n                copyCode(tabContextMenu.tab);\n                setTabContextMenu(null);\n              }}\n            >\n              <FaCopy /> Copy Path\n            </div>\n          </div>\n        )}\n\n        {/* ============================================\n            TITLE BAR\n            ============================================ */}\n        <div className=\"vscode-titlebar\">\n          <div className=\"titlebar-left\">\n            <div className=\"titlebar-traffic-lights\">\n              <span\n                className=\"traffic-light red\"\n                onClick={onClose}\n                aria-label=\"Close\"\n              />\n              <span className=\"traffic-light yellow\" aria-label=\"Minimize\" />\n              <span\n                className=\"traffic-light green\"\n                onClick={() => setZenMode((p) => !p)}\n                aria-label=\"Maximize\"\n              />\n            </div>\n            <FaCode className=\"vscode-icon\" />\n            <span>{project.name}  Project Viewer</span>\n          </div>\n\n          <div className=\"titlebar-center\">\n            <button\n              className=\"command-palette-trigger\"\n              onClick={() => setShowCommandPalette(true)}\n            >\n              <FaSearch />\n              <span>Search or run command...</span>\n              <kbd>K</kbd>\n            </button>\n          </div>\n\n          <div className=\"titlebar-right\">\n            <button\n              className=\"titlebar-btn\"\n              onClick={() => setSidebarCollapsed((p) => !p)}\n              title=\"Toggle Sidebar (B)\"\n            >\n              <VscFiles />\n            </button>\n            <button\n              className=\"titlebar-btn\"\n              onClick={() => setShowBottomPanel((p) => !p)}\n              title=\"Toggle Terminal (J)\"\n            >\n              <VscTerminal />\n            </button>\n            <a\n              href={project.url}\n              target=\"_blank\"\n              rel=\"noopener noreferrer\"\n              className=\"titlebar-btn\"\n              title=\"Open on GitHub\"\n            >\n              <FaExternalLinkAlt />\n            </a>\n            <button\n              className=\"titlebar-btn close\"\n              onClick={onClose}\n              aria-label=\"Close\"\n            >\n              <FaTimes />\n            </button>\n          </div>\n        </div>\n\n        {/* ============================================\n            MAIN CONTENT AREA\n            ============================================ */}\n        <div className=\"vscode-main\">\n          {/* ---- ACTIVITY BAR ---- */}\n          {!zenMode && (\n            <div className=\"vscode-activitybar\">\n              <div\n                className={`activity-icon ${\n                  sidebarView === \"explorer\" && !sidebarCollapsed\n                    ? \"active\"\n                    : \"\"\n                }`}\n                onClick={() => {\n                  if (sidebarView === \"explorer\" && !sidebarCollapsed) {\n                    setSidebarCollapsed(true);\n                  } else {\n                    setSidebarView(\"explorer\");\n                    setSidebarCollapsed(false);\n                  }\n                }}\n                title=\"Explorer\"\n              >\n                <VscFiles />\n              </div>\n              <div\n                className={`activity-icon ${\n                  sidebarView === \"search\" && !sidebarCollapsed ? \"active\" : \"\"\n                }`}\n                onClick={() => {\n                  if (sidebarView === \"search\" && !sidebarCollapsed) {\n                    setSidebarCollapsed(true);\n                  } else {\n                    setSidebarView(\"search\");\n                    setSidebarCollapsed(false);\n                  }\n                }}\n                title=\"Search (F)\"\n              >\n                <VscSearch />\n              </div>\n              <div className=\"activity-icon\" title=\"Source Control\">\n                <VscSourceControl />\n                <span className=\"activity-badge\">3</span>\n              </div>\n              <div className=\"activity-icon\" title=\"Extensions\">\n                <VscExtensions />\n              </div>\n\n              {/* Bottom Section */}\n              <div className=\"activity-spacer\" />\n              <div\n                className=\"activity-icon\"\n                onClick={() => setShowCommandPalette(true)}\n                title=\"Command Palette (K)\"\n              >\n                <VscSettingsGear />\n              </div>\n            </div>\n          )}\n\n          {/* ---- SIDEBAR ---- */}\n          {!zenMode && !sidebarCollapsed && (\n            <>\n              <div className=\"vscode-sidebar\" style={{ width: sidebarWidth }}>\n                {sidebarView === \"explorer\" ? (\n                  <>\n                    <div className=\"sidebar-header\">\n                      <span>EXPLORER</span>\n                    </div>\n                    <div className=\"sidebar-section\">\n                      <div className=\"section-title\">\n                        <VscChevronDown />\n                        <span>\n                          {project.name\n                            .replace(/[^\\w\\s]/g, \"\")\n                            .trim()\n                            .toUpperCase()\n                            .slice(0, 20)}\n                        </span>\n                      </div>\n                      <div className=\"file-tree\" role=\"tree\">\n                        {renderTree(fileTree)}\n                      </div>\n                    </div>\n\n                    {/* Outline Section */}\n                    <div className=\"sidebar-section\">\n                      <div className=\"section-title\">\n                        <VscChevronRight />\n                        <span>OUTLINE</span>\n                      </div>\n                    </div>\n\n                    {/* Keyboard Shortcuts */}\n                    <div className=\"sidebar-shortcuts\">\n                      <div className=\"shortcut-hint\">\n                        <kbd>K</kbd> Commands\n                      </div>\n                      <div className=\"shortcut-hint\">\n                        <kbd>B</kbd> Sidebar\n                      </div>\n                      <div className=\"shortcut-hint\">\n                        <kbd>J</kbd> Terminal\n                      </div>\n                    </div>\n                  </>\n                ) : (\n                  /* Search Panel */\n                  <>\n                    <div className=\"sidebar-header\">\n                      <span>SEARCH</span>\n                    </div>\n                    <div className=\"search-panel\">\n                      <div className=\"search-input-wrapper\">\n                        <FaSearch className=\"search-icon\" />\n                        <input\n                          type=\"text\"\n                          placeholder=\"Search in project...\"\n                          value={searchQuery}\n                          onChange={(e) => setSearchQuery(e.target.value)}\n                          className=\"search-input\"\n                          autoFocus\n                        />\n                        {searchQuery && (\n                          <button\n                            className=\"search-clear\"\n                            onClick={() => setSearchQuery(\"\")}\n                          >\n                            <VscClose />\n                          </button>\n                        )}\n                      </div>\n                      {searchQuery && (\n                        <div className=\"search-results\">\n                          {fileTree\n                            .flatMap((item) =>\n                              item.children\n                                ? item.children.map((c) => c.name)\n                                : [item.name]\n                            )\n                            .filter((name) =>\n                              name\n                                .toLowerCase()\n                                .includes(searchQuery.toLowerCase())\n                            )\n                            .map((name) => (\n                              <div\n                                key={name}\n                                className=\"search-result-item\"\n                                onClick={() => openTab(name)}\n                              >\n                                <FaFileAlt />\n                                <span>{name}</span>\n                              </div>\n                            ))}\n                        </div>\n                      )}\n                    </div>\n                  </>\n                )}\n              </div>\n\n              {/* Resize Handle */}\n              <div\n                className={`resize-handle ${isResizing ? \"active\" : \"\"}`}\n                onMouseDown={handleResizeStart}\n              />\n            </>\n          )}\n\n          {/* ---- EDITOR AREA ---- */}\n          <div className=\"vscode-editor\">\n            {/* Scroll Progress Bar */}\n            <div\n              className=\"scroll-progress\"\n              style={{ width: `${scrollProgress * 100}%` }}\n            />\n\n            {/* Editor Tabs */}\n            <div className=\"editor-tabs\">\n              {openTabs.map((tab) => (\n                <div\n                  key={tab}\n                  className={`editor-tab ${activeTab === tab ? \"active\" : \"\"} ${\n                    pinnedTabs.includes(tab) ? \"pinned\" : \"\"\n                  }`}\n                  onClick={() => {\n                    setActiveTab(tab);\n                    setIsLoading(true);\n                  }}\n                  onContextMenu={(e) => handleTabContextMenu(e, tab)}\n                  onAuxClick={(e) => {\n                    if (e.button === 1) closeTab(tab, e); // middle-click close\n                  }}\n                >\n                  {pinnedTabs.includes(tab) && (\n                    <FaThumbtack className=\"pin-icon\" />\n                  )}\n                  <FaFileAlt className=\"tab-icon\" />\n                  <span className=\"tab-text\">{tab}</span>\n                  {activeTab === tab && !pinnedTabs.includes(tab) && (\n                    <span\n                      className=\"tab-close\"\n                      onClick={(e) => closeTab(tab, e)}\n                    >\n                      \n                    </span>\n                  )}\n                </div>\n              ))}\n\n              {/* Tab Actions */}\n              <div className=\"tab-actions\">\n                <button\n                  className=\"tab-action-btn\"\n                  onClick={() => setShowMinimap((p) => !p)}\n                  title=\"Toggle Minimap\"\n                >\n                  <VscSplitHorizontal />\n                </button>\n              </div>\n            </div>\n\n            {/* Breadcrumb */}\n            <div className=\"editor-breadcrumb\">\n              <span className=\"breadcrumb-item\">\n                {project.name.replace(/[^\\w\\s]/g, \"\").trim()}\n              </span>\n              <VscChevronRight className=\"breadcrumb-separator\" />\n              <span className=\"breadcrumb-item\">src</span>\n              <VscChevronRight className=\"breadcrumb-separator\" />\n              <span className=\"breadcrumb-item active\">{activeTab}</span>\n            </div>\n\n            {/* Editor Body with optional Minimap */}\n            <div className=\"editor-body\">\n              <div className=\"editor-content\" ref={editorContentRef}>\n                {renderContent()}\n              </div>\n\n              {/* Minimap */}\n              {showMinimap && !isLoading && (\n                <Minimap contentRef={editorContentRef} />\n              )}\n            </div>\n\n            {/* ---- BOTTOM PANEL (Terminal) ---- */}\n            {showBottomPanel && (\n              <div className=\"bottom-panel\">\n                <div className=\"bottom-panel-header\">\n                  <div className=\"bottom-panel-tabs\">\n                    <span className=\"bottom-panel-tab active\">\n                      <VscTerminal /> Terminal\n                    </span>\n                    <span className=\"bottom-panel-tab\">\n                      <VscWarning /> Problems{\" \"}\n                      <span className=\"problems-count\">0</span>\n                    </span>\n                    <span className=\"bottom-panel-tab\">\n                      <VscInfo /> Output\n                    </span>\n                  </div>\n                  <div className=\"bottom-panel-actions\">\n                    <button\n                      onClick={() => setShowBottomPanel(false)}\n                      className=\"panel-close-btn\"\n                    >\n                      <VscClose />\n                    </button>\n                  </div>\n                </div>\n                <div className=\"bottom-panel-body\">\n                  <pre className=\"terminal-body\">\n                    {terminalText}\n                    <span className=\"cursor\"></span>\n                  </pre>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n\n        {/* ============================================\n            STATUS BAR\n            ============================================ */}\n        <div className=\"vscode-statusbar\">\n          <div className=\"statusbar-left\">\n            <span className=\"statusbar-item branch\">\n              <VscSourceControl /> main\n            </span>\n            <span className=\"statusbar-item\">\n              <VscError style={{ fontSize: 12 }} /> 0\n              <VscWarning style={{ fontSize: 12, marginLeft: 6 }} /> 0\n            </span>\n          </div>\n          <div className=\"statusbar-right\">\n            <span\n              className=\"statusbar-item clickable\"\n              onClick={() => setShowCommandPalette(true)}\n            >\n              <FaKeyboard /> K Commands\n            </span>\n            <span className=\"statusbar-item\">UTF-8</span>\n            <span className=\"statusbar-item\">\n              {activeTab.endsWith(\".md\")\n                ? \"Markdown\"\n                : activeTab.endsWith(\".json\")\n                ? \"JSON\"\n                : \"Text\"}\n            </span>\n            <span className=\"statusbar-item\">Ln 1, Col 1</span>\n            <span className=\"statusbar-item success\">\n              <VscCheck /> Synced\n            </span>\n          </div>\n        </div>\n\n        {/* ---- MOBILE BOTTOM TAB BAR ---- */}\n        <div className=\"mobile-tab-bar\">\n          {[\n            { id: \"README.md\", icon: <FaFileAlt />, label: \"Readme\" },\n            { id: \"PROBLEM.md\", icon: <FaLightbulb />, label: \"Problem\" },\n            { id: \"SOLUTION.md\", icon: <FaCheckCircle />, label: \"Solution\" },\n            { id: \"tech-stack.json\", icon: <FaFileCode />, label: \"Tech\" },\n            { id: \"impact.md\", icon: <FaCheckCircle />, label: \"Impact\" },\n          ].map((tab) => (\n            <button\n              key={tab.id}\n              className={`mobile-tab ${activeTab === tab.id ? \"active\" : \"\"}`}\n              onClick={() => openTab(tab.id)}\n            >\n              {tab.icon}\n              <span>{tab.label}</span>\n            </button>\n          ))}\n        </div>\n        {/* {showJarvisPrompt && !showJarvis && (\n  <div className=\"jarvis-prompt\">\n    <span></span>\n    <p>Want me to explain <strong>{project.name}</strong>?</p>\n    <div className=\"jarvis-prompt-actions\">\n      <button onClick={() => { setShowJarvis(true); setShowJarvisPrompt(false); }}>\n        Yes, explain!\n      </button>\n      <button className=\"dismiss\" onClick={() => setShowJarvisPrompt(false)}>\n        \n      </button>\n    </div>\n  </div>\n)} */}\n\n        <ProjectAI\n          project={project}\n          activeTab={activeTab}\n          scrollProgress={scrollProgress}\n          // onTabChange={(tab) => {\n          //   setActiveTab(tab);\n          //   setIsLoading(true);\n          // }}\n          onTabChange={handleAITabChange}\n          onOpenSiri={(question) => {\n            setShowJarvis(true);\n            // If your Siri accepts initial question:\n            // pass it through\n          }}\n          isVisible={!showJarvis}\n        />\n\n        {showJarvis && (\n          <div className=\"modal-jarvis-panel\">\n            <Siri\n              onClose={() => setShowJarvis(false)}\n              isMobile={window.innerWidth <= 768}\n            />\n          </div>\n        )}\n        {/* JARVIS Button inside modal */}\n        {/* <button\n          className=\"modal-jarvis-btn\"\n          onClick={() => setShowJarvis(true)}\n          aria-label=\"Ask JARVIS about this project\"\n        >\n           {!showJarvis && <span>Ask </span>}\n        </button> */}\n\n        {/* JARVIS Panel */}\n        {showJarvis && (\n          <div className=\"modal-jarvis-panel\">\n            <Siri\n              onClose={() => setShowJarvis(false)}\n              isMobile={window.innerWidth <= 768}\n              context={`The user is viewing the project: ${project.name}. Description: ${project.description}`}\n            />\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ProjectModal;\n"],"names":["_ref","_narratorScript$narra","project","activeTab","scrollProgress","onTabChange","onOpenSiri","isVisible","isExpanded","setIsExpanded","useState","hasHinted","setHasHinted","showHint","setShowHint","hintDismissed","setHintDismissed","activeMode","setActiveMode","isMobile","setIsMobile","window","innerWidth","narratorPlaying","setNarratorPlaying","narratorStep","setNarratorStep","onTabChangeRef","useRef","onOpenSiriRef","hintTimer","narratorTimer","speechTimeout","utteranceRef","chips","useMemo","getChipsForTab","tabName","projectName","base","concat","name","narratorScript","_d$story","_d$story2","_project$languages","_d$impact","d","details","title","text","description","tab","story","problem","solution","languages","map","l","join","impact","getNarratorScript","useEffect","current","_window$speechSynthes","speechSynthesis","cancel","step","synth","setTimeout","voices","getVoices","voice","getBestVoice","humanText","humanizeText","u","SpeechSynthesisUtterance","rate","pitch","volume","onend","length","p","onerror","e","console","error","speak","clearTimeout","PREFERRED_VOICES","match","find","v","includes","lang","startsWith","replace","trim","dismissHint","useCallback","toggleExpand","prev","closePanel","handleChipClick","chip","startNarrator","stopNarrator","_window$speechSynthes2","handleKey","key","addEventListener","removeEventListener","_jsxs","className","children","onClick","role","_jsx","stopPropagation","Array","_","i","_Fragment","style","animationDelay","terminalText","setTerminalText","_project$name","commands","url","toLowerCase","interval","setInterval","clearInterval","ArchitectureDiagramSimple","_arch$nodes$find","_arch$nodes$find2","_arch$nodes$find3","architecture","activeNode","setActiveNode","isAnimating","setIsAnimating","arch","nodes","id","label","icon","x","y","connections","from","to","viewBox","x1","y1","x2","y2","offset","stopColor","stdDeviation","result","in","markerWidth","markerHeight","refX","refY","orient","points","fill","conn","index","fromNode","n","toNode","midX","midY","markerEnd","r","filter","dur","repeatCount","path","node","transform","onMouseEnter","onMouseLeave","textAnchor","dy","fontSize","memo","ArchitectureDiagramRAG","_arch$nodes$find4","_arch$nodes$find5","_arch$nodes$find5$cat","_arch$nodes$find6","viewMode","setViewMode","isPlaying","setIsPlaying","currentStep","setCurrentStep","demoQuery","setDemoQuery","demoSteps","nodeId","output","detail","timer","category","type","visibleData","c","getMarkerId","charAt","toUpperCase","slice","currentDemoStep","mode","disabled","resetDemo","startDemo","value","onChange","target","placeholder","width","React","preserveAspectRatio","cx","cy","height","patternUnits","stroke","strokeWidth","fromStepIndex","findIndex","s","toStepIndex","isActiveConnection","opacity","main","rag","data","infra","isActive","isVisited","isNodeVisited","cursor","attributeName","fontWeight","ArchitectureDiagram","projectId","log","BeforeAfterSlider","before","after","sliderPosition","setSliderPosition","isDragging","setIsDragging","containerRef","animationFrameRef","targetPositionRef","updatePosition","handleMove","clientX","rect","getBoundingClientRect","left","percentage","Math","max","min","cancelAnimationFrame","requestAnimationFrame","handleMouseMove","preventDefault","handleTouchMove","touches","startDragging","stopDragging","handleGlobalMouseMove","handleGlobalTouchMove","handleGlobalEnd","document","passive","beforeData","color","afterData","ref","clipPath","backgroundColor","point","borderColor","onMouseDown","onTouchStart","Timeline","milestones","activeMilestone","setActiveMilestone","isArray","date","status","totalItems","completedItems","m","progressPercentage","milestone","leftPosition","LoadingSkeleton","random","useInView","options","arguments","undefined","inView","setInView","el","observer","IntersectionObserver","entry","isIntersecting","unobserve","observe","disconnect","StatCard","_ref2","suffix","threshold","count","duration","start","setCount","startTime","animFrame","numTarget","parseInt","isNaN","animate","timestamp","progress","eased","pow","floor","useAnimatedCounter","displayValue","ProficiencyBar","_ref3","level","background","Toast","_ref4","message","onClose","icons","info","VscInfo","success","VscCheck","warning","VscWarning","VscError","VscClose","CommandPalette","_ref5","onSelect","search","setSearch","inputRef","selectedIndex","setSelectedIndex","_inputRef$current","focus","filtered","cmd","_cmd$category","FaSearch","onKeyDown","shortcut","Minimap","_ref6","contentRef","viewportRatio","setViewportRatio","top","minimapRef","content","handleScroll","scrollTop","scrollHeight","clientHeight","clickRatio","clientY","marginTop","_ref8","theme","isOpen","showJarvis","setShowJarvis","setActiveTab","openTabs","setOpenTabs","pinnedTabs","setPinnedTabs","expandedFolders","setExpandedFolders","copied","setCopied","isLoading","setIsLoading","showCommandPalette","setShowCommandPalette","sidebarWidth","setSidebarWidth","isResizing","setIsResizing","setScrollProgress","notifications","setNotifications","showBottomPanel","setShowBottomPanel","sidebarView","setSidebarView","searchQuery","setSearchQuery","zenMode","setZenMode","sidebarCollapsed","setSidebarCollapsed","showMinimap","setShowMinimap","tabContextMenu","setTabContextMenu","editorContentRef","notify","Date","now","handleAITabChange","dismissNotification","handleKeyDown","metaKey","ctrlKey","shiftKey","closeTab","handleResizeStart","startX","startWidth","newWidth","handleMouseUp","body","userSelect","openTab","newTabs","t","push","pinTab","handleTabContextMenu","close","copyCode","code","navigator","clipboard","writeText","FaFileAlt","action","FaLightbulb","FaCheckCircle","FaFileCode","FaImage","FaPlay","FaTerminal","VscFiles","VscSplitHorizontal","FaExpand","FaGithub","open","FaTimes","handleCommandSelect","_cmd$action","call","fileTree","toggleFolder","folderName","f","renderTree","items","depth","item","tabIndex","VscChevronDown","VscChevronRight","FaFolderOpen","FaFolder","FaThumbtack","FaCopy","FaCode","VscTerminal","href","rel","FaExternalLinkAlt","VscSearch","VscSourceControl","VscExtensions","VscSettingsGear","autoFocus","flatMap","onContextMenu","onAuxClick","button","renderContent","_details$newsLinks2","_details$comparison","_details$comparison2","_details$timeline","_details$timeline$","_details$timeline2","_details$timeline3","_details$timeline4","_details$story","_details$comparison3","_details$comparison4","_details$story2","_details$codeSnippets","_project$languages3","_details$techStack","_details$techStack2","_details$techStack3","_details$techStack4","_project$languages4","_details$impact","_details$screenshots","JSON","stringify","stats","stat","section","_details$newsLinks","approach","newsLinks","FaNewspaper","link","j","source","comparison","timeline","team","painPoints","codeSnippets","filename","language","FaCheck","split","_project$languages2","_objectSpread","techStack","frontend","backend","ai","cloud","Object","entries","_ref9","_techs$","techs","tech","tooltip","proficiency","learnings","learning","screenshots","img","src","alt","loading","demoVideo","frameBorder","allowFullScreen","TerminalComponent","marginLeft","FaKeyboard","endsWith","ProjectAI","question","Siri","context"],"sourceRoot":""}