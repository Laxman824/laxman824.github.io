{"version":3,"file":"static/js/978.b39066b8.chunk.js","mappings":"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sBACVT,SAAU,sBACV1J,KAAM,YACNoK,YACE,qGACFC,iBAAkB,CAChB,sGACA,4FACA,sFACA,kFACA,uFACA,yFAEFC,aAAc,CACZ,6BACA,8BACA,gBACA,YACA,WACA,gBACA,YACA,UACA,SACA,UACA,UAEFC,aAAc,CACZ,0DACA,sCACA,6CACA,wCACA,0DAEFC,OAAQ,CACNC,mBAAoB,kBACpBC,SAAU,MACVC,eAAgB,MAChBC,uBAAwB,QAG5B,CACEpM,GAAI,gBACJiL,QAAS,sBACTS,KAAM,gCACNC,SAAU,OACVnK,KAAM,aACNoK,YACE,iEACFC,iBAAkB,CAChB,0DACA,uEACA,8DACA,6DAEFC,aAAc,CACZ,UACA,aACA,QACA,UACA,cAEFC,aAAc,CACZ,sBACA,4BACA,gCAGJ,CACE/L,GAAI,eACJiL,QAAS,uCACTS,KAAM,qBACNC,SAAU,0BACVT,SAAU,mBACV1J,KAAM,0BACNoK,YACE,wEACFC,iBAAkB,CAChB,iEACA,gEACA,uDACA,4DAEFC,aAAc,CACZ,IACA,MACA,SACA,OACA,kBACA,cAEFC,aAAc,CAAC,yCAInBX,UAAW,CACTiB,YAAa,mDACbC,OAAQ,gCACRC,MAAO,iCACPZ,SAAU,uBACVT,SAAU,mBACV1J,KAAM,8BACNgL,gBAAiB,CACf,6CACA,kBACA,8BACA,sBACA,uBAEFC,gBAAiB,CACf,iCACA,8BACA,mBACA,kBACA,8BACA,kBACA,8BACA,wBAEFV,aAAc,CACZ,uCACA,+CACA,0DAIJW,SAAU,CACR,CACE1M,GAAI,4BACJC,KAAM,qCACN0M,SAAU,gBACVC,SAAU,iBACVhL,OAAQ,aACRqJ,QAAS,OACTW,YACE,yLACFiB,oBACE,8WACFC,UAAW,CACT,6BACA,uBACA,mBACA,WACA,gBACA,SACA,UACA,UAEFC,SAAU,CACR,gFACA,qDACA,6CACA,wDACA,wCACA,2DACA,gDACA,2DAEFf,OAAQ,CACNC,mBAAoB,kBACpBC,SAAU,MACVc,oBAAqB,MACrBC,wBAAyB,MACzBC,eAAgB,mBAElBnB,aAAc,CACZ,kEACA,sEACA,8DACA,0DACA,+DAEFoB,WACE,oHACFC,UACE,8GACFC,cACE,8HAEJ,CACErN,GAAI,sBACJC,KAAM,sCACN0M,SAAU,gBACVC,SAAU,OACVhL,OAAQ,aACRqJ,QAAS,OACTW,YACE,8HACFiB,oBACE,gPACFC,UAAW,CACT,SACA,uBACA,YACA,UACA,YACA,SACA,iBAEFC,SAAU,CACR,+CACA,6CACA,sCACA,oDACA,yCACA,qCAEFf,OAAQ,CACNsB,cAAe,MACfpB,SAAU,kCACVqB,WAAY,4BAEdxB,aAAc,CACZ,yCACA,qDACA,uDAEFoB,WACE,qGACFC,UACE,uFACFC,cACE,yEAEJ,CACErN,GAAI,6BACJC,KAAM,+CACN0M,SAAU,mBACVC,SAAU,OACVhL,OAAQ,aACRqJ,QAAS,OACTW,YACE,4GACFiB,oBACE,mOACFC,UAAW,CACT,SACA,UACA,OACA,SACA,wBACA,sBAEFC,SAAU,CACR,8CACA,kDACA,4CACA,oCACA,gCACA,0BACA,sCAEFf,OAAQ,CACNwB,gBAAiB,eACjBtB,SAAU,MACVuB,0BAA2B,MAC3BC,gBAAiB,aAEnB3B,aAAc,CACZ,oDACA,8CACA,yCACA,iDAEFoB,WACE,iFACFC,UACE,4FACFC,cACE,+EAEJ,CACErN,GAAI,0BACJC,KAAM,kCACN0M,SAAU,qBACVC,SAAU,OACVhL,OAAQ,YACRgK,YACE,kGACFiB,oBACE,uLACFC,UAAW,CACT,OACA,cACA,kBACA,cACA,MACA,YACA,SAEFC,SAAU,CACR,qCACA,gDACA,oCACA,2BACA,yCACA,0BACA,oCACA,kCAEFf,OAAQ,CACN2B,gBAAiB,OACjBC,aAAc,aACdC,OAAQ,qBAEV9B,aAAc,CACZ,yDACA,4DACA,0DACA,wCAEFoB,WACE,4DACFC,UACE,gFACFU,oBACE,2FAEJ,CACE9N,GAAI,+BACJC,KAAM,+CACN0M,SAAU,kBACVC,SAAU,OACVhL,OAAQ,YACRgK,YACE,8FACFiB,oBACE,gMACFC,UAAW,CACT,SACA,gBACA,aACA,SACA,gCACA,SACA,kBAEFC,SAAU,CACR,qCACA,8CACA,6CACA,gDACA,kCACA,iCAEFf,OAAQ,CACN+B,oBAAqB,yBACrBC,2BAA4B,MAC5B/B,mBAAoB,QAEtBF,aAAc,CACZ,uDACA,sDACA,4DACA,sDAEFoB,WACE,gEACFC,UACE,2FACFa,qBACE,2DAEJ,CACEjO,GAAI,qBACJC,KAAM,iDACN0M,SAAU,mBACVC,SAAU,OACVhL,OAAQ,YACRgK,YACE,qGACFiB,oBACE,2NACFC,UAAW,CACT,SACA,QACA,WACA,aACA,MACA,uBAEFC,SAAU,CACR,sCACA,iCACA,0CACA,8CACA,yBACA,8BACA,qCAEFf,OAAQ,CACNkC,mBAAoB,OACpBC,aACE,wDACFC,WAAY,kCAEdrC,aAAc,CACZ,sDACA,uDACA,0DACA,iDAEFoB,WACE,qEACFC,UACE,2EACFe,aAAc,kDACdE,YACE,0EAEJ,CACErO,GAAI,8BACJC,KAAM,qCACN0M,SAAU,kBACVC,SAAU,OACVhL,OAAQ,YACRgK,YACE,yFACFiB,oBACE,0KACFC,UAAW,CACT,SACA,SACA,OACA,4BACA,mBAEFC,SAAU,CACR,sCACA,qCACA,0BACA,0CACA,iCACA,qCAEFf,OAAQ,CACNsC,kBAAmB,OACnBC,IAAK,SACLC,WAAY,0BAEdzC,aAAc,CACZ,uCACA,oDACA,6CACA,uCAEFoB,WACE,iEACFC,UACE,8EACFqB,gBAAiB,uCAEnB,CACEzO,GAAI,eACJC,KAAM,sCACN0M,SAAU,oBACVC,SAAU,OACVhL,OAAQ,YACRqJ,QAAS,sBACTW,YACE,yEACFiB,oBACE,mMACFC,UAAW,CACT,UACA,aACA,QACA,UACA,aACA,+BAEFC,SAAU,CACR,iCACA,+BACA,qCACA,kCACA,yBACA,6BACA,yBACA,mBAEFf,OAAQ,CACN0C,MAAO,SACPC,oBAAqB,OACrBvC,uBAAwB,OAE1BL,aAAc,CACZ,oCACA,6CACA,4DACA,yCAEFoB,WACE,+DACFC,UACE,kFAEJ,CACEpN,GAAI,0BACJC,KAAM,oCACN0M,SAAU,wBACVC,SAAU,OACVhL,OAAQ,YACRgK,YACE,kFACFiB,oBACE,0KACFC,UAAW,CACT,QACA,UACA,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","sources":["pages/userspace/UserSpace.js"],"sourcesContent":["// Add these imports at the top\nimport { getFunctions, httpsCallable } from \"firebase/functions\";\n// UserSpace.js - Enhanced AI Experience Center with RAG & Multi-Agent Orchestration\nimport * as pdfjsLib from \"pdfjs-dist\";\nimport React, {\n  useState,\n  useEffect,\n  useCallback,\n  useRef,\n  useMemo,\n} from \"react\";\nimport { useAuth } from \"../../context/AuthContext\";\nimport { db } from \"../../firebase/config\";\nimport { doc, getDoc, setDoc, updateDoc } from \"firebase/firestore\";\nimport Header from \"../../components/header/Header\";\nimport \"./UserSpace.css\";\nimport LoginButton from \"../../components/auth/LoginButton\"; //  Ensure path is correct\n// Configure PDF.js worker AFTER all imports\npdfjsLib.GlobalWorkerOptions.workerSrc = `https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js`;\n\n/**\n *  USER SPACE - AI Experience Center\n * Features:\n * - Real RAG System with Vector Embeddings\n * - Multi-Agent Orchestration (6 Specialized Agents)\n * - Interactive AI Demos\n * - Knowledge Graph Visualization\n */\n\n// ===== VECTOR STORE IMPLEMENTATION =====\nclass VectorStore {\n  constructor() {\n    this.documents = [];\n    this.embeddings = [];\n  }\n\n  // Simple embedding using character-level hashing (in production, use real embeddings)\n  async generateEmbedding(text) {\n    const normalized = text.toLowerCase().replace(/[^a-z0-9\\s]/g, \"\");\n    const words = normalized.split(/\\s+/);\n    const embedding = new Array(128).fill(0);\n\n    words.forEach((word, idx) => {\n      for (let i = 0; i < word.length; i++) {\n        const charCode = word.charCodeAt(i);\n        const position = (charCode * (idx + 1) * (i + 1)) % 128;\n        embedding[position] += 1 / (i + 1);\n      }\n    });\n\n    // Normalize\n    const magnitude =\n      Math.sqrt(embedding.reduce((sum, val) => sum + val * val, 0)) || 1;\n    return embedding.map((val) => val / magnitude);\n  }\n\n  async addDocuments(documents) {\n    for (const doc of documents) {\n      const embedding = await this.generateEmbedding(doc.content);\n      this.documents.push(doc);\n      this.embeddings.push(embedding);\n    }\n    console.log(` Added ${documents.length} documents to vector store`);\n  }\n\n  cosineSimilarity(a, b) {\n    let dotProduct = 0;\n    let normA = 0;\n    let normB = 0;\n    for (let i = 0; i < a.length; i++) {\n      dotProduct += a[i] * b[i];\n      normA += a[i] * a[i];\n      normB += b[i] * b[i];\n    }\n    return dotProduct / (Math.sqrt(normA) * Math.sqrt(normB) || 1);\n  }\n\n  async similaritySearch(query, topK = 5) {\n    const queryEmbedding = await this.generateEmbedding(query);\n\n    const scored = this.documents.map((doc, idx) => ({\n      ...doc,\n      score: this.cosineSimilarity(queryEmbedding, this.embeddings[idx]),\n    }));\n\n    return scored.sort((a, b) => b.score - a.score).slice(0, topK);\n  }\n}\n\n// ===== RAG ENGINE IMPLEMENTATION =====\nclass RAGEngine {\n  constructor(vectorStore, apiKey) {\n    this.vectorStore = vectorStore;\n    this.apiKey = apiKey;\n  }\n\n  async rerank(query, documents) {\n    // Simple reranking based on keyword matching\n    const queryWords = query.toLowerCase().split(/\\s+/);\n\n    return documents\n      .map((doc) => {\n        const content = doc.content.toLowerCase();\n        let keywordScore = 0;\n        queryWords.forEach((word) => {\n          if (content.includes(word)) keywordScore += 1;\n        });\n        return {\n          ...doc,\n          rerankScore:\n            doc.score * 0.7 + (keywordScore / queryWords.length) * 0.3,\n        };\n      })\n      .sort((a, b) => b.rerankScore - a.rerankScore);\n  }\n\n  async generateWithContext(query, documents, callAPI) {\n    const context = documents.map((d) => d.content).join(\"\\n\\n\");\n\n    const prompt = `You are Laxman's AI Portfolio Assistant with deep knowledge about his work.\n\nRETRIEVED CONTEXT:\n${context}\n\nUSER QUESTION: ${query}\n\nINSTRUCTIONS:\n- Answer based on the retrieved context\n- Be specific about projects, technologies, and achievements\n- If the context doesn't contain relevant info, say so\n- Be conversational and helpful\n- Highlight relevant skills and experience\n\nRESPONSE:`;\n\n    const startTime = Date.now();\n    const response = await callAPI(prompt);\n    const latency = Date.now() - startTime;\n\n    return {\n      text: response,\n      tokens: Math.ceil(response.length / 4),\n      cost: 0.0001,\n      confidence: documents[0]?.score || 0,\n      latency,\n    };\n  }\n}\n\n// ===== AGENT DEFINITIONS =====\nconst AGENT_DEFINITIONS = {\n  portfolio: {\n    id: \"portfolio\",\n    name: \"Portfolio Expert\",\n    icon: \"\",\n    color: \"#4CAF50\",\n    systemPrompt: `You are a Portfolio Expert Agent. Your role is to:\n- Provide detailed information about Laxman's projects\n- Highlight technical achievements and impact metrics\n- Suggest relevant projects for specific queries`,\n    expertise: [\"projects\", \"achievements\", \"technical-details\"],\n  },\n  researcher: {\n    id: \"researcher\",\n    name: \"Research Analyst\",\n    icon: \"\",\n    color: \"#2196F3\",\n    systemPrompt: `You are a Research Analyst Agent. Your role is to:\n- Analyze technical requirements and match with skills\n- Research industry trends and relate to portfolio\n- Provide data-driven insights`,\n    expertise: [\"analysis\", \"trends\", \"comparisons\"],\n  },\n  skills: {\n    id: \"skills\",\n    name: \"Skills Assessor\",\n    icon: \"\",\n    color: \"#FF9800\",\n    systemPrompt: `You are a Skills Assessment Agent. Your role is to:\n- Evaluate technical skill levels\n- Match skills to job requirements\n- Identify skill gaps and learning paths`,\n    expertise: [\"skills\", \"requirements\", \"learning\"],\n  },\n  communicator: {\n    id: \"communicator\",\n    name: \"Communication Specialist\",\n    icon: \"\",\n    color: \"#9C27B0\",\n    systemPrompt: `You are a Communication Specialist Agent. Your role is to:\n- Craft clear, engaging responses\n- Tailor communication style to audience\n- Summarize complex technical concepts`,\n    expertise: [\"communication\", \"summarization\", \"presentation\"],\n  },\n  strategist: {\n    id: \"strategist\",\n    name: \"Career Strategist\",\n    icon: \"\",\n    color: \"#E91E63\",\n    systemPrompt: `You are a Career Strategy Agent. Your role is to:\n- Provide career advancement advice\n- Identify opportunities based on skills\n- Suggest strategic positioning`,\n    expertise: [\"career\", \"strategy\", \"opportunities\"],\n  },\n  technical: {\n    id: \"technical\",\n    name: \"Technical Architect\",\n    icon: \"\",\n    color: \"#00BCD4\",\n    systemPrompt: `You are a Technical Architecture Agent. Your role is to:\n- Explain system designs and architectures\n- Discuss technical trade-offs\n- Provide implementation insights`,\n    expertise: [\"architecture\", \"design\", \"implementation\"],\n  },\n};\n\n// ===== AGENT ORCHESTRATOR =====\nclass AgentOrchestrator {\n  constructor(config) {\n    this.portfolioKnowledge = config.portfolioKnowledge;\n    this.vectorStore = config.vectorStore;\n    this.callAPI = config.callAPI;\n    this.agents = AGENT_DEFINITIONS;\n  }\n\n  async executeTask({ task, agents, onMessage, onAgentStateChange }) {\n    const results = [];\n    const selectedAgents = agents.map((id) => this.agents[id]).filter(Boolean);\n\n    // Phase 1: Task Understanding\n    onMessage({\n      type: \"orchestrator\",\n      content: ` Analyzing task: \"${task}\"\\n\\n Assigning to ${selectedAgents.length} specialized agents...`,\n      timestamp: Date.now(),\n    });\n\n    await this.delay(500);\n\n    // Phase 2: Agent Execution\n    for (const agent of selectedAgents) {\n      onAgentStateChange({\n        id: agent.id,\n        name: agent.name,\n        icon: agent.icon,\n        status: \"thinking\",\n        color: agent.color,\n      });\n\n      onMessage({\n        type: \"agent-start\",\n        agentId: agent.id,\n        agentName: agent.name,\n        icon: agent.icon,\n        content: `${agent.icon} ${agent.name} is analyzing...`,\n        timestamp: Date.now(),\n      });\n\n      await this.delay(800);\n\n      try {\n        // Get relevant context from vector store\n        const context = this.vectorStore\n          ? await this.vectorStore.similaritySearch(task, 3)\n          : [];\n\n        const contextStr = context.map((c) => c.content).join(\"\\n\");\n\n        const prompt = `${agent.systemPrompt}\n\nPORTFOLIO CONTEXT:\n${contextStr}\n\nTASK: ${task}\n\nProvide a focused, helpful response from your perspective as ${agent.name}. Be specific and actionable. Keep response concise (2-3 paragraphs max).`;\n\n        const response = await this.callAPI(prompt, 512);\n\n        results.push({\n          agentId: agent.id,\n          agentName: agent.name,\n          response,\n        });\n\n        onAgentStateChange({\n          id: agent.id,\n          name: agent.name,\n          icon: agent.icon,\n          status: \"complete\",\n          color: agent.color,\n        });\n\n        onMessage({\n          type: \"agent-response\",\n          agentId: agent.id,\n          agentName: agent.name,\n          icon: agent.icon,\n          color: agent.color,\n          content: response,\n          timestamp: Date.now(),\n        });\n      } catch (error) {\n        onAgentStateChange({\n          id: agent.id,\n          name: agent.name,\n          icon: agent.icon,\n          status: \"error\",\n          color: agent.color,\n        });\n\n        onMessage({\n          type: \"agent-error\",\n          agentId: agent.id,\n          content: `${agent.icon} ${agent.name} encountered an error`,\n          timestamp: Date.now(),\n        });\n      }\n\n      await this.delay(300);\n    }\n\n    // Phase 3: Synthesis\n    onMessage({\n      type: \"orchestrator\",\n      content: \" Synthesizing agent responses...\",\n      timestamp: Date.now(),\n    });\n\n    await this.delay(500);\n\n    const synthesisPrompt = `You are an AI orchestrator synthesizing responses from multiple agents.\n\nTASK: ${task}\n\nAGENT RESPONSES:\n${results.map((r) => `${r.agentName}: ${r.response}`).join(\"\\n\\n---\\n\\n\")}\n\nCreate a cohesive summary that:\n1. Combines key insights from all agents\n2. Provides clear, actionable recommendations\n3. Highlights the most important points\n\nKeep it concise and well-structured.`;\n\n    const summary = await this.callAPI(synthesisPrompt, 512);\n\n    return { summary, agentResults: results };\n  }\n\n  delay(ms) {\n    return new Promise((resolve) => setTimeout(resolve, ms));\n  }\n}\n\n// ===== MAIN COMPONENT =====\nconst UserSpace = ({ theme, setTheme }) => {\n  const { user } = useAuth();\n\n  // Core State\n  const [userData, setUserData] = useState(null);\n  const [activeTab, setActiveTab] = useState(\"brain\");\n  const [isLoading, setIsLoading] = useState(true);\n  const [firestoreError, setFirestoreError] = useState(null);\n\n  // RAG System State\n  const [ragEngine, setRAGEngine] = useState(null);\n  const [vectorStore, setVectorStore] = useState(null);\n  const [ragInitialized, setRagInitialized] = useState(false);\n  const [showRetrievalSteps, setShowRetrievalSteps] = useState(true);\n  const [retrievedDocs, setRetrievedDocs] = useState([]);\n\n  // AI Brain State (RAG-powered)\n  const [brainInput, setBrainInput] = useState(\"\");\n  const [brainMessages, setBrainMessages] = useState([]);\n  const [brainLoading, setBrainLoading] = useState(false);\n\n  // Skill Match State\n  const [jobDescription, setJobDescription] = useState(\"\");\n  const [skillAnalysis, setSkillAnalysis] = useState(null);\n  const [skillLoading, setSkillLoading] = useState(false);\n\n  // Interview State\n  const [interviewRole, setInterviewRole] = useState(\"\");\n  const [interviewMessages, setInterviewMessages] = useState([]);\n  const [interviewInput, setInterviewInput] = useState(\"\");\n  const [interviewLoading, setInterviewLoading] = useState(false);\n  const [interviewStarted, setInterviewStarted] = useState(false);\n\n  // AI Lab State\n  const [labExperiment, setLabExperiment] = useState(\"vision\");\n  const [labInput, setLabInput] = useState(\"\");\n  const [labOutput, setLabOutput] = useState(null);\n  const [labLoading, setLabLoading] = useState(false);\n\n  // Multi-Agent Orchestration State\n  const [orchestrator, setOrchestrator] = useState(null);\n  const [agentTask, setAgentTask] = useState(\"\");\n  const [agentConversation, setAgentConversation] = useState([]);\n  const [activeAgents, setActiveAgents] = useState([]);\n  const [agentRunning, setAgentRunning] = useState(false);\n  const [selectedAgents, setSelectedAgents] = useState([\n    \"portfolio\",\n    \"researcher\",\n    \"skills\",\n  ]);\n\n  // Project Generator State\n  const [projectPrefs, setProjectPrefs] = useState({\n    domain: \"\",\n    difficulty: \"intermediate\",\n    tech: \"\",\n  });\n  const [generatedProjects, setGeneratedProjects] = useState([]);\n  const [projectLoading, setProjectLoading] = useState(false);\n\n  // Knowledge Graph State\n  const [knowledgeGraph, setKnowledgeGraph] = useState(null);\n  // const [selectedNode, setSelectedNode] = useState(null);\n  const [hoveredNode, setHoveredNode] = useState(null);\n  const [selectedNode, setSelectedNode] = useState(null);\n  const [graphTransform, setGraphTransform] = useState({\n    scale: 1,\n    offsetX: 0,\n    offsetY: 0,\n  });\n  const [isDragging, setIsDragging] = useState(false);\n  const [dragStart, setDragStart] = useState({ x: 0, y: 0 });\n  // const animationRef = useRef(null);\n  const nodePositionsRef = useRef([]);\n  // AI Metrics State\n  const [metrics, setMetrics] = useState({\n    totalTokens: 0,\n    totalCost: 0,\n    avgLatency: 0,\n    successRate: 100,\n    requestCount: 0,\n  });\n\n  // Saved Items & Notes\n  const [savedItems, setSavedItems] = useState([]);\n  const [notes, setNotes] = useState(\"\");\n\n  // Refs\n  const chatEndRef = useRef(null);\n  const interviewEndRef = useRef(null);\n  const agentChatEndRef = useRef(null);\n  const graphCanvasRef = useRef(null);\n  const animationRef = useRef(null); // To store the animation loop\n  const [hoveredNodeId, setHoveredNodeId] = useState(null); // Track mouse hover\n  // ===== STRUCTURED PORTFOLIO KNOWLEDGE BASE =====\n  // ===== COMPREHENSIVE PORTFOLIO KNOWLEDGE BASE =====\n  const portfolioKnowledge = useMemo(\n    () => ({\n      profile: {\n        name: \"K Laxman\",\n        title: \"Software Development Engineer & AI Specialist\",\n        currentRole: \"Software Development Engineer at CAMS\",\n        company: \"Computer Age Management Services (CAMS)\",\n        location: \"Chennai, Tamil Nadu, India\",\n        yearsOfExperience: 3,\n        education:\n          \"IIT Delhi - Dual Degree (B.Tech + M.Tech) in Computer Science & Engineering\",\n        graduationYear: \"2024\",\n        expertise: [\n          \"Enterprise AI/ML Solutions\",\n          \"Financial Technology\",\n          \"Full Stack Development\",\n          \"Computer Vision\",\n          \"Natural Language Processing\",\n          \"Cloud Architecture (GCP)\",\n          \"Document Intelligence\",\n        ],\n        passion:\n          \"Building enterprise-grade AI systems that solve real-world problems at scale\",\n        studentsMentored: \"300+\",\n        profileSummary:\n          \"IIT Delhi Alumni specializing in AI/ML and FinTech. Currently developing enterprise GenAI platforms at CAMS processing 80,000+ documents monthly. Proven track record in building scalable AI solutions with real business impact.\",\n      },\n\n      workExperience: [\n        {\n          id: \"cams-sde\",\n          company: \"Computer Age Management Services (CAMS)\",\n          role: \"Software Development Engineer\",\n          duration: \"June 2024 - Present\",\n          location: \"Chennai, Tamil Nadu\",\n          type: \"Full-time\",\n          description:\n            \"Leading development of enterprise GenAI platforms for financial document processing and automation\",\n          responsibilities: [\n            \"Developed CamsLens Enterprise GenAI platform processing 80,000+ documents monthly with 95% accuracy\",\n            \"Implemented real-time RSS feed ingestion system reducing manual monitoring efforts by 80%\",\n            \"Designed and deployed AI-powered query APIs achieving 60% response time improvement\",\n            \"Built proprietary Ranking Chunks Algorithm for Vertex AI datastore optimization\",\n            \"Developed SEBI Debarred PAN Extraction System reducing manual processing time by 90%\",\n            \"Architected event-driven workflows using GCP Pub/Sub for scalable document processing\",\n          ],\n          technologies: [\n            \"Vertex AI Gemini-flash 2.0\",\n            \"Google Cloud Platform (GCP)\",\n            \"Agent Builder\",\n            \"Cloud Run\",\n            \"BigQuery\",\n            \"Cloud Storage\",\n            \"Firestore\",\n            \"Pub/Sub\",\n            \"Python\",\n            \"FastAPI\",\n            \"Docker\",\n          ],\n          achievements: [\n            \"95% accuracy in document processing at enterprise scale\",\n            \"80,000+ documents processed monthly\",\n            \"80% reduction in manual monitoring efforts\",\n            \"60% improvement in API response times\",\n            \"90% reduction in manual PAN extraction processing time\",\n          ],\n          impact: {\n            documentsProcessed: \"80,000+ monthly\",\n            accuracy: \"95%\",\n            automationGain: \"80%\",\n            performanceImprovement: \"60%\",\n          },\n        },\n        {\n          id: \"eamvey-intern\",\n          company: \"Eamvey Technologies\",\n          role: \"Full Stack Development Intern\",\n          duration: \"2022\",\n          type: \"Internship\",\n          description:\n            \"Developed Enhanced Learning Management System for 1,000+ users\",\n          responsibilities: [\n            \"Built full-stack LMS supporting 1,000+ concurrent users\",\n            \"Integrated secure payment gateway handling 500+ monthly transactions\",\n            \"Optimized application performance achieving 40% improvement\",\n            \"Implemented role-based access control and user management\",\n          ],\n          technologies: [\n            \"MongoDB\",\n            \"Express.js\",\n            \"React\",\n            \"Node.js\",\n            \"MERN Stack\",\n          ],\n          achievements: [\n            \"1,000+ active users\",\n            \"500+ monthly transactions\",\n            \"40% performance improvement\",\n          ],\n        },\n        {\n          id: \"iit-delhi-ta\",\n          company: \"Indian Institute of Technology Delhi\",\n          role: \"Teaching Assistant\",\n          duration: \"Fall 2019 - Spring 2021\",\n          location: \"New Delhi, India\",\n          type: \"Part-time Academic Role\",\n          description:\n            \"Mentored 300+ undergraduate students in Computer Science fundamentals\",\n          responsibilities: [\n            \"Conducted tutorial sessions for Data Structures and Algorithms\",\n            \"Mentored 300+ students in Introduction to Programming courses\",\n            \"Evaluated assignments and provided detailed feedback\",\n            \"Assisted in course material development and lab sessions\",\n          ],\n          technologies: [\n            \"C\",\n            \"C++\",\n            \"Python\",\n            \"Java\",\n            \"Data Structures\",\n            \"Algorithms\",\n          ],\n          achievements: [\"Mentored 300+ students successfully\"],\n        },\n      ],\n\n      education: {\n        institution: \"Indian Institute of Technology Delhi (IIT Delhi)\",\n        degree: \"Dual Degree (B.Tech + M.Tech)\",\n        major: \"Computer Science & Engineering\",\n        duration: \"July 2018 - May 2024\",\n        location: \"New Delhi, India\",\n        type: \"Premier Technical Institute\",\n        specializations: [\n          \"Artificial Intelligence & Machine Learning\",\n          \"Computer Vision\",\n          \"Natural Language Processing\",\n          \"Advanced Algorithms\",\n          \"Distributed Systems\",\n        ],\n        relevantCourses: [\n          \"Data Structures and Algorithms\",\n          \"Introduction to Programming\",\n          \"Machine Learning\",\n          \"Computer Vision\",\n          \"Natural Language Processing\",\n          \"Cloud Computing\",\n          \"Database Management Systems\",\n          \"Software Engineering\",\n        ],\n        achievements: [\n          \"Teaching Assistant for 300+ students\",\n          \"Specialized in AI/ML during Master's program\",\n          \"Multiple research projects in Computer Vision and NLP\",\n        ],\n      },\n\n      projects: [\n        {\n          id: \"camslens-enterprise-genai\",\n          name: \"CamsLens Enterprise GenAI Platform\",\n          category: \"Enterprise AI\",\n          timeline: \"2024 - Present\",\n          status: \"Production\",\n          company: \"CAMS\",\n          description:\n            \"Enterprise-grade GenAI platform for intelligent financial document processing, analysis, and retrieval. Handles massive scale with CMEK-compliant security and real-time capabilities.\",\n          detailedDescription:\n            \"Built a comprehensive AI platform that processes and analyzes financial documents at enterprise scale. Implements advanced RAG (Retrieval Augmented Generation) with custom ranking algorithms, real-time RSS feed monitoring, and intelligent query APIs. The platform ensures regulatory compliance with CMEK encryption while maintaining high accuracy and performance.\",\n          techStack: [\n            \"Vertex AI Gemini-flash 2.0\",\n            \"Google Agent Builder\",\n            \"Google Cloud Run\",\n            \"BigQuery\",\n            \"Cloud Storage\",\n            \"Python\",\n            \"FastAPI\",\n            \"Docker\",\n          ],\n          features: [\n            \"Document ingestion and processing pipeline handling 80,000+ documents monthly\",\n            \"Real-time RSS feed monitoring and ingestion system\",\n            \"AI-powered query APIs with semantic search\",\n            \"Custom Ranking Chunks Algorithm for optimal retrieval\",\n            \"CMEK-compliant storage and encryption\",\n            \"Advanced RAG implementation with context-aware responses\",\n            \"Automated document classification and tagging\",\n            \"Real-time analytics dashboard with BigQuery integration\",\n          ],\n          impact: {\n            documentsProcessed: \"80,000+ monthly\",\n            accuracy: \"95%\",\n            manualWorkReduction: \"80%\",\n            responseTimeImprovement: \"60%\",\n            usersSupported: \"Enterprise-wide\",\n          },\n          achievements: [\n            \"Achieved 95% accuracy in document processing and classification\",\n            \"Processes 80,000+ documents monthly with sub-second query responses\",\n            \"Reduced manual monitoring efforts by 80% through automation\",\n            \"Improved API response times by 60% through optimization\",\n            \"Implemented production-grade RAG system with custom ranking\",\n          ],\n          challenges:\n            \"Balancing accuracy with performance at enterprise scale while maintaining regulatory compliance and data security\",\n          learnings:\n            \"Deep expertise in GenAI, RAG systems, GCP services, enterprise security, and scalable architecture patterns\",\n          businessValue:\n            \"Significant cost savings through automation, improved decision-making with AI insights, and enhanced compliance monitoring\",\n        },\n        {\n          id: \"sebi-pan-extraction\",\n          name: \"SEBI Debarred PAN Extraction System\",\n          category: \"AI Automation\",\n          timeline: \"2024\",\n          status: \"Production\",\n          company: \"CAMS\",\n          description:\n            \"Automated backend system extracting debarred PAN details from SEBI regulatory orders using AI and cloud-native architecture\",\n          detailedDescription:\n            \"Developed an intelligent automation system that monitors SEBI regulatory orders, extracts debarred PAN card details using AI-powered document understanding, and stores them in a scalable cloud infrastructure with event-driven processing.\",\n          techStack: [\n            \"Python\",\n            \"Google Cloud Storage\",\n            \"Firestore\",\n            \"Pub/Sub\",\n            \"Vertex AI\",\n            \"Docker\",\n            \"BeautifulSoup\",\n          ],\n          features: [\n            \"Automated scraping of SEBI regulatory orders\",\n            \"AI-powered PAN number extraction from PDFs\",\n            \"Event-driven workflow using Pub/Sub\",\n            \"Scalable storage with Firestore and Cloud Storage\",\n            \"Real-time processing and notifications\",\n            \"Data validation and deduplication\",\n          ],\n          impact: {\n            timeReduction: \"90%\",\n            accuracy: \"High accuracy in PAN extraction\",\n            automation: \"Fully automated pipeline\",\n          },\n          achievements: [\n            \"Reduced manual processing time by ~90%\",\n            \"Implemented cloud-native event-driven architecture\",\n            \"Automated end-to-end regulatory compliance workflow\",\n          ],\n          challenges:\n            \"Handling varying PDF formats and extracting structured data from unstructured regulatory documents\",\n          learnings:\n            \"Event-driven architecture, GCP services integration, intelligent document processing\",\n          businessValue:\n            \"Massive time savings in compliance monitoring and regulatory tracking\",\n        },\n        {\n          id: \"financial-email-automation\",\n          name: \"AI-Powered Financial Email Automation System\",\n          category: \"NLP & Automation\",\n          timeline: \"2025\",\n          status: \"Production\",\n          company: \"CAMS\",\n          description:\n            \"FastAPI microservice using Large Language Models for intelligent email classification and data extraction\",\n          detailedDescription:\n            \"Built a high-performance microservice that uses LLMs with zero-shot learning to automatically classify financial emails and extract critical information like PAN numbers, ARN codes, and dates without requiring training data.\",\n          techStack: [\n            \"Python\",\n            \"FastAPI\",\n            \"vLLM\",\n            \"Docker\",\n            \"Large Language Models\",\n            \"Prompt Engineering\",\n          ],\n          features: [\n            \"Zero-shot learning for email classification\",\n            \"Automatic PAN number extraction with validation\",\n            \"ARN (AMFI Registration Number) extraction\",\n            \"Date extraction and normalization\",\n            \"Batch processing capabilities\",\n            \"Real-time API endpoints\",\n            \"Confidence scoring for extractions\",\n          ],\n          impact: {\n            emailsProcessed: \"1,000+ daily\",\n            accuracy: \"95%\",\n            manualProcessingReduction: \"80%\",\n            processingSpeed: \"Real-time\",\n          },\n          achievements: [\n            \"Achieved 95% accuracy in zero-shot classification\",\n            \"Processes 1,000+ emails daily automatically\",\n            \"Reduced manual email processing by 80%\",\n            \"Implemented production-grade LLM microservice\",\n          ],\n          challenges:\n            \"Achieving high accuracy without labeled training data using zero-shot learning\",\n          learnings:\n            \"LLM prompt engineering, zero-shot learning, microservices architecture, vLLM optimization\",\n          businessValue:\n            \"Significant operational efficiency gains and faster customer response times\",\n        },\n        {\n          id: \"stock-exchange-platform\",\n          name: \"Stock Exchange Trading Platform\",\n          category: \"Full-Stack FinTech\",\n          timeline: \"2024\",\n          status: \"Completed\",\n          description:\n            \"Full-stack real-time trading simulation platform with enterprise-grade security and performance\",\n          detailedDescription:\n            \"Developed a comprehensive stock trading platform supporting concurrent users with real-time order matching, portfolio management, JWT authentication, and role-based access control.\",\n          techStack: [\n            \"Java\",\n            \"Spring Boot\",\n            \"Spring Security\",\n            \"H2 Database\",\n            \"JWT\",\n            \"REST APIs\",\n            \"Maven\",\n          ],\n          features: [\n            \"Real-time stock trading simulation\",\n            \"Order matching engine with sub-second latency\",\n            \"Portfolio management and tracking\",\n            \"JWT-based authentication\",\n            \"Role-based access control (Admin/User)\",\n            \"Real-time price updates\",\n            \"Transaction history and analytics\",\n            \"Admin dashboard for monitoring\",\n          ],\n          impact: {\n            concurrentUsers: \"100+\",\n            responseTime: \"Sub-second\",\n            uptime: \"High availability\",\n          },\n          achievements: [\n            \"Supports 100+ concurrent users with stable performance\",\n            \"Sub-second response times for critical trading operations\",\n            \"Implemented enterprise-grade security with JWT and RBAC\",\n            \"Built scalable order matching engine\",\n          ],\n          challenges:\n            \"Maintaining sub-second latency under high concurrent load\",\n          learnings:\n            \"Spring Boot ecosystem, JWT security, real-time systems, database optimization\",\n          technicalHighlights:\n            \"Optimized database queries, connection pooling, caching strategies for high performance\",\n        },\n        {\n          id: \"borderless-table-recognition\",\n          name: \"Borderless Table Recognition & Accessibility\",\n          category: \"Computer Vision\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"Advanced PDF table detection system achieving 30% accuracy improvement over baseline models\",\n          detailedDescription:\n            \"Developed an intelligent table detection and extraction system for PDFs, especially borderless tables, using Layout Parser and MTL-TabNet with SVM classification for improved accessibility.\",\n          techStack: [\n            \"Python\",\n            \"Layout Parser\",\n            \"MTL-TabNet\",\n            \"OpenCV\",\n            \"SVM (Support Vector Machines)\",\n            \"Docker\",\n            \"RAVI Framework\",\n          ],\n          features: [\n            \"Borderless table detection in PDFs\",\n            \"Table cell classification with 90% accuracy\",\n            \"Layout analysis and structure preservation\",\n            \"Integration with RAVI accessibility framework\",\n            \"Docker containerized deployment\",\n            \"Batch processing capabilities\",\n          ],\n          impact: {\n            accuracyImprovement: \"30% over CascadeTabNet\",\n            cellClassificationAccuracy: \"90%\",\n            documentsProcessed: \"500+\",\n          },\n          achievements: [\n            \"30% accuracy improvement over CascadeTabNet baseline\",\n            \"90% accuracy in table cell classification using SVM\",\n            \"Successfully containerized for RAVI framework integration\",\n            \"Improved accessibility for visually impaired users\",\n          ],\n          challenges:\n            \"Detecting tables without clear borders in complex PDF layouts\",\n          learnings:\n            \"Computer vision techniques, SVM classification, layout analysis, Docker containerization\",\n          researchContribution:\n            \"Advanced state-of-the-art in borderless table detection\",\n        },\n        {\n          id: \"ravi-accessibility\",\n          name: \"RAVI - Reading Assistant for Visually Impaired\",\n          category: \"Accessibility AI\",\n          timeline: \"2022\",\n          status: \"Completed\",\n          description:\n            \"Comprehensive STEM document accessibility platform converting PDFs and EPUBs to accessible formats\",\n          detailedDescription:\n            \"Built a complete toolchain and web application for converting STEM documents into accessible formats with crowdsourced ALT TEXT generation, enabling visually impaired students to access technical education materials.\",\n          techStack: [\n            \"Python\",\n            \"Flask\",\n            \"HTML/CSS\",\n            \"JavaScript\",\n            \"OCR\",\n            \"Document Processing\",\n          ],\n          features: [\n            \"PDF to accessible format conversion\",\n            \"EPUB processing and conversion\",\n            \"Flask web application for crowdsourcing\",\n            \"ALT TEXT generation for images and diagrams\",\n            \"STEM equation handling\",\n            \"Multi-format output support\",\n            \"Collaborative annotation platform\",\n          ],\n          impact: {\n            documentsConverted: \"500+\",\n            socialImpact:\n              \"Improved accessibility for visually impaired students\",\n            volunteers: \"Active crowdsourcing community\",\n          },\n          achievements: [\n            \"Converted 500+ STEM documents to accessible formats\",\n            \"Built crowdsourcing platform for ALT TEXT generation\",\n            \"Enabled education access for visually impaired students\",\n            \"Created reusable document processing pipeline\",\n          ],\n          challenges:\n            \"Handling complex STEM equations and diagrams in accessible formats\",\n          learnings:\n            \"Accessibility standards, OCR, document processing, Flask web development\",\n          socialImpact: \"Significant contribution to inclusive education\",\n          recognition:\n            \"Helped visually impaired students access technical education materials\",\n        },\n        {\n          id: \"driver-drowsiness-detection\",\n          name: \"Driver Drowsiness Detection System\",\n          category: \"Computer Vision\",\n          timeline: \"2021\",\n          status: \"Completed\",\n          description:\n            \"Real-time computer vision system detecting driver fatigue with 90%+ accuracy at 30 FPS\",\n          detailedDescription:\n            \"Developed a real-time drowsiness detection system using facial landmark detection and eye aspect ratio calculation, optimized for embedded systems and edge deployment.\",\n          techStack: [\n            \"Python\",\n            \"OpenCV\",\n            \"Dlib\",\n            \"Facial Landmark Detection\",\n            \"Computer Vision\",\n          ],\n          features: [\n            \"Real-time facial landmark detection\",\n            \"Eye aspect ratio (EAR) calculation\",\n            \"Drowsiness alert system\",\n            \"30 FPS performance on standard hardware\",\n            \"Optimized for embedded systems\",\n            \"Adjustable sensitivity thresholds\",\n          ],\n          impact: {\n            detectionAccuracy: \"90%+\",\n            fps: \"30 FPS\",\n            deployment: \"Embedded systems ready\",\n          },\n          achievements: [\n            \"90%+ detection accuracy in real-time\",\n            \"Maintained 30 FPS on resource-constrained devices\",\n            \"Optimized for embedded and edge deployment\",\n            \"Reliable drowsiness alert mechanism\",\n          ],\n          challenges:\n            \"Achieving real-time performance on low-power embedded hardware\",\n          learnings:\n            \"Real-time computer vision, facial landmark detection, embedded optimization\",\n          potentialImpact: \"Road safety and accident prevention\",\n        },\n        {\n          id: \"enhanced-lms\",\n          name: \"Enhanced Learning Management System\",\n          category: \"Full-Stack EdTech\",\n          timeline: \"2022\",\n          status: \"Completed\",\n          company: \"Eamvey Technologies\",\n          description:\n            \"Full-stack LMS supporting 1,000+ users with integrated payment gateway\",\n          detailedDescription:\n            \"Developed during internship at Eamvey Technologies, this comprehensive learning management system handles course management, user enrollment, payment processing, and content delivery at scale.\",\n          techStack: [\n            \"MongoDB\",\n            \"Express.js\",\n            \"React\",\n            \"Node.js\",\n            \"MERN Stack\",\n            \"Payment Gateway Integration\",\n          ],\n          features: [\n            \"User enrollment and management\",\n            \"Course creation and delivery\",\n            \"Secure payment gateway integration\",\n            \"Progress tracking and analytics\",\n            \"Video content delivery\",\n            \"Quiz and assessment system\",\n            \"Certificate generation\",\n            \"Admin dashboard\",\n          ],\n          impact: {\n            users: \"1,000+\",\n            monthlyTransactions: \"500+\",\n            performanceImprovement: \"40%\",\n          },\n          achievements: [\n            \"Supported 1,000+ concurrent users\",\n            \"Handled 500+ monthly transactions securely\",\n            \"Achieved 40% performance improvement through optimization\",\n            \"Built scalable full-stack application\",\n          ],\n          challenges:\n            \"Scaling to handle 1,000+ users while maintaining performance\",\n          learnings:\n            \"MERN stack, payment gateway integration, scalability, performance optimization\",\n        },\n        {\n          id: \"nexgen-gaming-ecommerce\",\n          name: \"NexGen Gaming E-Commerce Platform\",\n          category: \"Full-Stack E-Commerce\",\n          timeline: \"2024\",\n          status: \"Completed\",\n          description:\n            \"Modern e-commerce platform for gaming consoles and accessories with seamless UX\",\n          detailedDescription:\n            \"Full-stack gaming e-commerce platform featuring product catalog, shopping cart, order management, delivery tracking, and secure payments with modern responsive design.\",\n          techStack: [\n            \"React\",\n            \"Node.js\",\n            \"MongoDB Atlas\",\n            \"Express.js\",\n            \"TailwindCSS\",\n            \"Firebase\",\n            \"Vercel\",\n          ],\n          features: [\n            \"Product catalog with filtering and search\",\n            \"Shopping cart and wishlist\",\n            \"Secure checkout process\",\n            \"Order management system\",\n            \"Delivery tracking\",\n            \"User authentication with Firebase\",\n            \"Responsive design with TailwindCSS\",\n            \"Admin panel for inventory management\",\n          ],\n          achievements: [\n            \"Smooth and intuitive user experience\",\n            \"Responsive design across all devices\",\n            \"Deployed on Vercel with CI/CD\",\n            \"Integrated Firebase authentication\",\n          ],\n          learnings:\n            \"E-commerce patterns, Firebase, TailwindCSS, Vercel deployment\",\n          businessValue: \"Complete end-to-end e-commerce solution\",\n        },\n        {\n          id: \"ipo-monitoring-notifier\",\n          name: \"IPO Monitoring & Notifier\",\n          category: \"Financial Automation\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"Real-time IPO Grey Market Premium monitoring with automated notifications\",\n          detailedDescription:\n            \"Automated system tracking IPO Grey Market Premiums in real-time, processing market data, and sending instant notifications for investment opportunities.\",\n          techStack: [\n            \"Python\",\n            \"OpenCV\",\n            \"OCR\",\n            \"PDF Processing\",\n            \"Excel Automation\",\n            \"Web Scraping\",\n          ],\n          features: [\n            \"Real-time IPO data scraping\",\n            \"Grey Market Premium tracking\",\n            \"Automated notifications system\",\n            \"Excel report generation\",\n            \"Historical data tracking\",\n            \"Trend analysis\",\n          ],\n          impact: {\n            automation: \"Fully automated tracking\",\n            realTime: \"Instant notifications\",\n          },\n          achievements: [\n            \"Automated end-to-end IPO monitoring\",\n            \"Real-time notifications for opportunities\",\n            \"Structured data extraction and reporting\",\n          ],\n          learnings: \"Web scraping, OCR, data extraction, automation\",\n        },\n        {\n          id: \"rss-feed-downloader\",\n          name: \"RSS Feed Document Downloader\",\n          category: \"Automation\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"Automated RSS feed monitoring with document downloading and PDF conversion\",\n          detailedDescription:\n            \"System that monitors RSS feeds, automatically downloads documents, converts them to structured PDFs, and generates Excel outputs for tracking.\",\n          techStack: [\n            \"Python\",\n            \"OpenCV\",\n            \"OCR\",\n            \"PDF Processing\",\n            \"Excel Automation\",\n          ],\n          features: [\n            \"RSS feed monitoring\",\n            \"Automated document downloading\",\n            \"PDF conversion\",\n            \"Excel report generation\",\n            \"Scheduling and automation\",\n          ],\n          achievements: [\n            \"Automated document collection from multiple RSS feeds\",\n            \"Structured output generation\",\n            \"Reliable scheduled execution\",\n          ],\n          learnings: \"RSS parsing, document automation, scheduled tasks\",\n        },\n        {\n          id: \"msg-to-pdf-converter\",\n          name: \"MSG-to-PDF Converter for Financial Emails\",\n          category: \"Document Processing\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"High-volume email converter processing 20,000+ .MSG files to structured PDFs\",\n          detailedDescription:\n            \"Streamlit application converting thousands of financial emails from .MSG format to organized PDFs, preserving formatting and attachments.\",\n          techStack: [\"Python\", \"WeasyPrint\", \"Streamlit\", \"Email Processing\"],\n          features: [\n            \"Batch .MSG to PDF conversion\",\n            \"Preserves email formatting\",\n            \"Handles attachments\",\n            \"Streamlit web interface\",\n            \"Progress tracking\",\n          ],\n          impact: {\n            filesProcessed: \"20,000+\",\n            workflowImprovement: \"Streamlined email archiving\",\n          },\n          achievements: [\n            \"Processed 20,000+ financial emails\",\n            \"Automated email archiving workflow\",\n            \"Built user-friendly Streamlit interface\",\n          ],\n          learnings: \"Email processing, PDF generation, Streamlit\",\n        },\n        {\n          id: \"pdf-footnotes-processor\",\n          name: \"PDF Footnotes Processor\",\n          category: \"Document Intelligence\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"Intelligent footnote and reference extraction from large financial PDFs\",\n          detailedDescription:\n            \"System that maps footnotes and references from PDFs (1,000+ pages) into structured Excel sheets for easy reference and analysis.\",\n          techStack: [\n            \"Python\",\n            \"OpenCV\",\n            \"OCR\",\n            \"PDF Processing\",\n            \"Excel Automation\",\n          ],\n          features: [\n            \"Footnote detection and extraction\",\n            \"Reference mapping\",\n            \"Excel structured output\",\n            \"Handles large documents (1,000+ pages)\",\n            \"Page number preservation\",\n          ],\n          impact: {\n            documentSize: \"1,000+ pages\",\n            accuracy: \"High extraction accuracy\",\n          },\n          achievements: [\n            \"Successfully processed large financial documents\",\n            \"Accurate footnote-to-reference mapping\",\n            \"Structured Excel output for analysis\",\n          ],\n          learnings: \"Document structure analysis, OCR, large file processing\",\n        },\n        {\n          id: \"field-extraction-ocr\",\n          name: \"Field Extraction OCR from Images\",\n          category: \"Computer Vision\",\n          timeline: \"2023\",\n          status: \"Completed\",\n          description:\n            \"Automated field extraction system for PAN, Folio numbers from images\",\n          detailedDescription:\n            \"OCR-based system using DocTR to automatically extract specific fields like PAN and Folio numbers from financial documents and images.\",\n          techStack: [\"Python\", \"OpenCV\", \"DocTR\", \"Streamlit\", \"OCR\"],\n          features: [\n            \"Automatic field detection\",\n            \"PAN number extraction with validation\",\n            \"Folio number extraction\",\n            \"Streamlit web interface\",\n            \"Batch processing support\",\n          ],\n          achievements: [\n            \"Accurate field extraction from images\",\n            \"User-friendly Streamlit interface\",\n            \"Automated data entry workflow\",\n          ],\n          learnings: \"DocTR, OCR, field detection algorithms\",\n        },\n        {\n          id: \"live-snapshot-restore-vm\",\n          name: \"Live Snapshot & Restore for VMs\",\n          category: \"Systems Programming\",\n          timeline: \"2022\",\n          status: \"Completed\",\n          description:\n            \"KVM-based snapshot and restore service for running virtual machines\",\n          detailedDescription:\n            \"System-level tool built in Rust for taking live snapshots of running VMs and restoring them without downtime.\",\n          techStack: [\n            \"Rust\",\n            \"HTML/CSS\",\n            \"VMware\",\n            \"KVM\",\n            \"Systems Programming\",\n          ],\n          features: [\n            \"Live VM snapshot without downtime\",\n            \"Snapshot restoration\",\n            \"Web interface for management\",\n            \"KVM integration\",\n          ],\n          achievements: [\n            \"Successfully implemented live snapshot mechanism\",\n            \"Built in Rust for performance and safety\",\n            \"Web interface for VM management\",\n          ],\n          learnings: \"Rust, systems programming, KVM, virtualization\",\n        },\n        {\n          id: \"airline-dbms\",\n          name: \"Airline DBMS Prototype\",\n          category: \"Database Systems\",\n          timeline: \"2022\",\n          status: \"Completed\",\n          description:\n            \"Airline booking system simulation with Flask and PostgreSQL\",\n          detailedDescription:\n            \"Full database-driven airline booking system prototype with flight search, booking, and management features.\",\n          techStack: [\"Flask\", \"PostgreSQL\", \"HTML/CSS\", \"Kaggle Datasets\"],\n          features: [\n            \"Flight search and filtering\",\n            \"Booking management\",\n            \"Passenger information system\",\n            \"Admin panel\",\n            \"Database-driven operations\",\n          ],\n          achievements: [\n            \"Complete DBMS implementation\",\n            \"Normalized database schema\",\n            \"Functional booking system\",\n          ],\n          learnings: \"PostgreSQL, database design, Flask, SQL queries\",\n        },\n        {\n          id: \"large-file-download\",\n          name: \"Large File Download - Socket Programming\",\n          category: \"Networking\",\n          timeline: \"2021\",\n          status: \"Completed\",\n          description:\n            \"BitTorrent-style file transfer using TCP/IP socket programming\",\n          detailedDescription:\n            \"Implemented peer-to-peer file transfer system similar to BitTorrent using Python socket programming with TCP/IP protocol.\",\n          techStack: [\n            \"Python\",\n            \"Socket Programming\",\n            \"TCP/IP\",\n            \"Wireshark\",\n            \"Networking\",\n          ],\n          features: [\n            \"Peer-to-peer file transfer\",\n            \"Chunked data transfer\",\n            \"TCP/IP implementation\",\n            \"Network monitoring with Wireshark\",\n            \"Error handling and recovery\",\n          ],\n          achievements: [\n            \"Implemented BitTorrent-style transfer\",\n            \"Efficient TCP/IP data handling\",\n            \"Network analysis with Wireshark\",\n          ],\n          learnings: \"Socket programming, TCP/IP, network protocols, Wireshark\",\n        },\n        {\n          id: \"pacman-multiagent\",\n          name: \"Multi-Agent Search Modeling in Pacman\",\n          category: \"AI/ML\",\n          timeline: \"2021\",\n          status: \"Completed\",\n          description:\n            \"AI decision-making implementation for Pacman game agents\",\n          detailedDescription:\n            \"Implemented various search algorithms and decision-making strategies for multi-agent Pacman game with AI opponents.\",\n          techStack: [\"Python\", \"Search Algorithms\", \"ReactJS\", \"AI/ML\"],\n          features: [\n            \"Minimax algorithm implementation\",\n            \"Alpha-beta pruning\",\n            \"Multi-agent decision making\",\n            \"Game state evaluation\",\n            \"AI opponent behavior\",\n          ],\n          achievements: [\n            \"Implemented multiple AI search algorithms\",\n            \"Functional multi-agent game system\",\n            \"ReactJS frontend visualization\",\n          ],\n          learnings: \"Search algorithms, game AI, minimax, alpha-beta pruning\",\n        },\n        {\n          id: \"lift-controller\",\n          name: \"Simulation of Lift Controller System\",\n          category: \"Embedded Systems\",\n          timeline: \"2021\",\n          status: \"Completed\",\n          description:\n            \"VHDL-based three-floor lift operation logic and simulation\",\n          detailedDescription:\n            \"Hardware description language implementation of lift control logic for three floors with state machine design.\",\n          techStack: [\"VHDL\", \"Vivado\", \"API\", \"Integrated Circuits\"],\n          features: [\n            \"Three-floor lift logic\",\n            \"State machine design\",\n            \"Hardware simulation\",\n            \"API integration\",\n          ],\n          achievements: [\n            \"Complete lift controller logic\",\n            \"Successful hardware simulation\",\n            \"State machine implementation\",\n          ],\n          learnings: \"VHDL, hardware design, state machines, Vivado\",\n        },\n        {\n          id: \"big-number-arithmetic\",\n          name: \"Big Number Arithmetic Operations\",\n          category: \"Algorithms\",\n          timeline: \"2021\",\n          status: \"Completed\",\n          description:\n            \"Arithmetic operations for extremely large numbers beyond native types\",\n          detailedDescription:\n            \"Implementation of arithmetic operations for numbers exceeding standard integer sizes using custom algorithms.\",\n          techStack: [\"C\", \"Node.js\", \"Algorithms\"],\n          features: [\n            \"Large number addition\",\n            \"Large number multiplication\",\n            \"Custom data structures\",\n            \"Efficient algorithms\",\n          ],\n          achievements: [\n            \"Handled extremely large numbers\",\n            \"Efficient algorithm implementation\",\n          ],\n          learnings: \"Algorithm design, C programming, number theory\",\n        },\n      ],\n\n      virtualInternships: [\n        {\n          id: \"goldmansachs-vi\",\n          company: \"Goldman Sachs\",\n          program: \"Virtual Internship\",\n          year: \"2022\",\n          focus: \"Finance & Technology\",\n          technologies: [\"Java\", \"GraphQL\", \"React\", \"Apollo Client\"],\n          projects: [\n            \"Financial application development\",\n            \"GraphQL API integration\",\n          ],\n        },\n        {\n          id: \"walmart-vi\",\n          company: \"Walmart\",\n          program: \"Advanced Software Engineering Virtual Experience\",\n          year: \"2022\",\n          technologies: [\"Flutter\", \"Dart\", \"React\", \"Node.js\", \"PostgreSQL\"],\n          projects: [\"Mobile app development\", \"Full-stack features\"],\n        },\n        {\n          id: \"jpmorgan-vi\",\n          company: \"JPMorgan Chase\",\n          program: \"Virtual Internship\",\n          year: \"2022\",\n          technologies: [\"React\", \"Node.js\", \"MongoDB\"],\n          projects: [\"Metamask integration\", \"Twitter API integration\"],\n        },\n        {\n          id: \"hp-vi\",\n          company: \"HP\",\n          program: \"Virtual Internship\",\n          year: \"2022\",\n          technologies: [\n            \"Next.js\",\n            \"Node.js\",\n            \"Supabase\",\n            \"Razorpay\",\n            \"Vercel\",\n          ],\n          projects: [\n            \"Next.js application development\",\n            \"Payment gateway integration\",\n          ],\n        },\n      ],\n\n      skills: {\n        languages: {\n          expert: [\"Python\", \"JavaScript\", \"Java\"],\n          proficient: [\"TypeScript\", \"C\", \"C++\", \"Rust\", \"VHDL\"],\n          learning: [\"Go\", \"Dart\"],\n        },\n\n        aiml: {\n          frameworks: [\n            \"Vertex AI\",\n            \"TensorFlow\",\n            \"PyTorch\",\n            \"Scikit-learn\",\n            \"Hugging Face Transformers\",\n          ],\n          specializations: [\n            \"Generative AI (GenAI)\",\n            \"Retrieval Augmented Generation (RAG)\",\n            \"Large Language Models (LLMs)\",\n            \"Computer Vision\",\n            \"Natural Language Processing (NLP)\",\n            \"Document Intelligence\",\n            \"Few-shot Learning\",\n            \"Zero-shot Learning\",\n          ],\n          tools: [\n            \"vLLM\",\n            \"OpenCV\",\n            \"Dlib\",\n            \"Layout Parser\",\n            \"MTL-TabNet\",\n            \"DocTR\",\n            \"spaCy\",\n            \"NLTK\",\n          ],\n          techniques: [\n            \"Prompt Engineering\",\n            \"Fine-tuning\",\n            \"Transfer Learning\",\n            \"Model Optimization\",\n            \"OCR\",\n            \"Image Processing\",\n            \"Facial Recognition\",\n          ],\n        },\n\n        fullStack: {\n          frontend: [\n            \"React.js\",\n            \"Next.js\",\n            \"HTML5\",\n            \"CSS3\",\n            \"JavaScript (ES6+)\",\n            \"TailwindCSS\",\n            \"Bootstrap\",\n          ],\n          backend: [\n            \"Node.js\",\n            \"Express.js\",\n            \"FastAPI\",\n            \"Flask\",\n            \"Java Spring Boot\",\n            \"Spring Security\",\n            \"REST APIs\",\n            \"GraphQL\",\n          ],\n          databases: [\n            \"MongoDB\",\n            \"PostgreSQL\",\n            \"MySQL\",\n            \"Google BigQuery\",\n            \"Firestore\",\n            \"H2 Database\",\n            \"Redis\",\n          ],\n        },\n\n        cloudDevOps: {\n          platforms: [\n            \"Google Cloud Platform (GCP)\",\n            \"AWS\",\n            \"Azure\",\n            \"Firebase\",\n            \"Vercel\",\n          ],\n          gcpServices: [\n            \"Vertex AI\",\n            \"Agent Builder\",\n            \"Cloud Run\",\n            \"Cloud Storage\",\n            \"BigQuery\",\n            \"Firestore\",\n            \"Pub/Sub\",\n            \"GCP SDK\",\n          ],\n          tools: [\n            \"Docker\",\n            \"Kubernetes\",\n            \"Git\",\n            \"GitHub Actions\",\n            \"Jenkins\",\n            \"Maven\",\n            \"npm\",\n            \"Postman\",\n          ],\n        },\n\n        specializedSkills: [\n          \"Enterprise AI Platform Development\",\n          \"Document Processing & Intelligence\",\n          \"Real-time Systems\",\n          \"Microservices Architecture\",\n          \"Event-Driven Architecture\",\n          \"Financial Technology (FinTech)\",\n          \"Payment Gateway Integration\",\n          \"Web Scraping & Automation\",\n          \"OCR & Document Extraction\",\n          \"Socket Programming\",\n          \"Database Design & Optimization\",\n        ],\n      },\n\n      achievements: [\n        \"Developed enterprise GenAI platform processing 80,000+ documents monthly with 95% accuracy\",\n        \"Reduced manual processing time by 90% through AI automation at CAMS\",\n        \"Achieved 30% improvement over state-of-the-art in borderless table detection\",\n        \"Mentored 300+ undergraduate students as Teaching Assistant at IIT Delhi\",\n        \"Built production systems handling 1,000+ daily operations\",\n        \"Completed dual degree (B.Tech + M.Tech) from IIT Delhi in Computer Science\",\n        \"Contributed to accessibility by converting 500+ STEM documents for visually impaired\",\n        \"Developed 25+ diverse projects spanning AI, Full-Stack, Systems, and Automation\",\n        \"Achieved 95% accuracy in zero-shot email classification using LLMs\",\n        \"Completed virtual internships with Goldman Sachs, Walmart, JPMorgan, and HP\",\n      ],\n\n      researchInterests: [\n        \"Generative AI and Large Language Models\",\n        \"Retrieval Augmented Generation (RAG) systems\",\n        \"Enterprise AI platform architecture\",\n        \"Document Intelligence and processing at scale\",\n        \"Zero-shot and few-shot learning\",\n        \"Computer Vision for accessibility\",\n        \"Financial Technology and AI automation\",\n        \"Real-time AI systems\",\n        \"Model optimization and deployment\",\n        \"Event-driven AI architectures\",\n      ],\n\n      certifications: [\n        \"Google Cloud Platform fundamentals\",\n        \"AWS Cloud basics\",\n        \"Virtual Internship - Goldman Sachs\",\n        \"Virtual Internship - Walmart\",\n        \"Virtual Internship - JPMorgan Chase\",\n        \"Virtual Internship - HP\",\n      ],\n\n      contact: {\n        email: \"Laxmankethavath5@gmail.com\",\n        phone: \"+91-9000063740\",\n        linkedin: \"https://linkedin.com/in/k-laxman\",\n        github: \"https://github.com/Laxman824\",\n        portfolio: \"https://k-laxman-portfolio.com\",\n        location: \"Chennai, Tamil Nadu, India\",\n        availability: \"Currently employed at CAMS, open to opportunities\",\n      },\n\n      careerObjective:\n        \"Passionate about building enterprise-grade AI systems that solve real-world problems at scale. Seeking opportunities to leverage expertise in GenAI, RAG systems, and cloud architecture to drive innovation in AI-powered products and platforms.\",\n\n      strengths: [\n        \"Strong foundation in AI/ML from IIT Delhi\",\n        \"Proven ability to deliver production-grade AI systems\",\n        \"Full-stack development expertise\",\n        \"Cloud-native architecture experience\",\n        \"Teaching and mentoring capabilities\",\n        \"Problem-solving and optimization skills\",\n        \"Fast learner with diverse technical exposure\",\n      ],\n    }),\n    []\n  );\n\n  // ===== HELPER: CLEAN & PARSE AI JSON =====\n  const cleanAndParseJSON = (responseString) => {\n    try {\n      // 1. Remove Markdown code blocks (e.g., ```json ... ```)\n      let cleaned = responseString.replace(/```json/g, \"\").replace(/```/g, \"\");\n\n      // 2. Locate the outermost JSON object\n      const firstOpen = cleaned.indexOf(\"{\");\n      const lastClose = cleaned.lastIndexOf(\"}\");\n\n      if (firstOpen !== -1 && lastClose !== -1) {\n        cleaned = cleaned.substring(firstOpen, lastClose + 1);\n      }\n\n      // 3. Remove trailing commas (common AI error: [\"item\",] -> [\"item\"])\n      // Regex explanation: Look for a comma followed immediately by whitespace and a closing brace/bracket\n      cleaned = cleaned.replace(/,(\\s*[}\\]])/g, \"$1\");\n\n      return JSON.parse(cleaned);\n    } catch (error) {\n      console.error(\"JSON Parsing failed. Raw string:\", responseString);\n      throw new Error(\"Failed to parse AI response into JSON\");\n    }\n  };\n\n  // ===== PARSE JOB DESCRIPTION =====\n  const parseJobDescription = async (jdText) => {\n    if (!jdText.trim()) return null;\n\n    const prompt = `You are an expert job description analyzer. Parse this JD and extract structured information.\n\nJOB DESCRIPTION:\n${jdText}\n\nReturn ONLY valid JSON. Do not include markdown formatting or comments.\nEnsure there are NO trailing commas.\nFormat:\n{\n  \"companyName\": \"Company name or 'Unknown'\",\n  \"roleTitle\": \"Exact job title\",\n  \"seniorityLevel\": \"Entry/Mid/Senior/Lead/Principal/Staff\",\n  \"roleType\": \"Full-time/Part-time/Contract\",\n  \"location\": \"Location or Remote\",\n  \"teamDomain\": \"e.g., Backend, AI/ML, Full-stack, DevOps\",\n  \n  \"mustHaveSkills\": [\n    {\"skill\": \"Python\", \"yearsRequired\": \"3+\", \"priority\": \"critical\"}\n  ],\n  \"niceToHaveSkills\": [\n    {\"skill\": \"Kubernetes\", \"priority\": \"medium\"}\n  ],\n  \n  \"keyResponsibilities\": [\n    \"Build and deploy ML models\"\n  ],\n  \n  \"techStack\": {\n    \"languages\": [\"Python\"],\n    \"frameworks\": [\"FastAPI\"],\n    \"databases\": [\"PostgreSQL\"],\n    \"cloud\": [\"AWS\"],\n    \"tools\": [\"Docker\"]\n  },\n  \n  \"keywords\": [\"machine learning\"],\n  \"cultureSignals\": [\"fast-paced\"],\n  \n  \"estimatedSalaryRange\": {\n    \"min\": 0,\n    \"max\": 0,\n    \"currency\": \"USD\",\n    \"confidence\": \"low\"\n  },\n  \n  \"redFlags\": [],\n  \"greenFlags\": []\n}`;\n\n    try {\n      const response = await callGeminiAPI(prompt, 8192);\n      // Use the helper function instead of raw JSON.parse\n      return cleanAndParseJSON(response);\n    } catch (error) {\n      console.error(\"JD parsing error:\", error);\n      // Return a dummy object so the UI doesn't crash completely\n      return {\n        companyName: \"Unknown Company\",\n        roleTitle: \"Software Engineer\",\n        roleType: \"Full-time\",\n        mustHaveSkills: [],\n        techStack: {},\n      };\n    }\n  };\n\n  // ===== ANALYZE SKILL MATCH =====\n  const analyzeMatch = async (parsedJD) => {\n    if (!parsedJD) return null;\n\n    const prompt = `You are a career advisor analyzing skill match between a candidate and a job.\n\nCANDIDATE PROFILE:\n${JSON.stringify(LAXMAN_PROFILE, null, 2)}\n\nJOB REQUIREMENTS:\n${JSON.stringify(parsedJD, null, 2)}\n\nAnalyze the match and return ONLY valid JSON:\n{\n  \"overallMatchScore\": 85,\n  \"matchLevel\": \"Strong Match\",\n  \"summary\": \"2-3 sentence summary of the match\",\n  \n  \"skillMatches\": [\n    {\n      \"jdSkill\": \"Python\",\n      \"candidateEvidence\": \"Used in FastAPI, Flask, ML projects\",\n      \"matchStrength\": \"strong\",\n      \"relevantProjects\": [\"CamsLens\", \"Email Automation\"]\n    }\n  ],\n  \n  \"skillGaps\": [\n    {\n      \"jdSkill\": \"Kubernetes\",\n      \"importance\": \"medium\",\n      \"candidateLevel\": \"basic\",\n      \"recommendation\": \"Highlight Docker experience, mention K8s learning\"\n    }\n  ],\n  \n  \"strongPoints\": [\n    {\n      \"area\": \"Gen AI & LLMs\",\n      \"why\": \"Direct experience with Vertex AI, Gemini at CAMS\",\n      \"emphasizeInResume\": true\n    }\n  ],\n  \n  \"projectRelevance\": [\n    {\n      \"project\": \"CamsLens\",\n      \"relevanceScore\": 95,\n      \"matchingAspects\": [\"Gen AI\", \"Enterprise scale\", \"GCP\"],\n      \"shouldHighlight\": true,\n      \"suggestedPosition\": 1\n    }\n  ],\n  \n  \"experienceMatch\": {\n    \"yearsRequired\": \"3-5\",\n    \"yearsCandidate\": \"1+ industry, 6 years total (incl. education)\",\n    \"assessment\": \"Meets through combined experience\"\n  },\n  \n  \"uniqueAdvantages\": [\n    \"IIT Delhi dual degree adds credibility\",\n    \"Production Gen AI experience (rare)\"\n  ],\n  \n  \"areasToImprove\": [\n    \"Could emphasize specific metrics more\"\n  ],\n  \n  \"fitScore\": {\n    \"technical\": 88,\n    \"experience\": 75,\n    \"domain\": 90,\n    \"culture\": 80\n  }\n}`;\n\n    try {\n      const response = await callGeminiAPI(prompt, 8192);\n      // const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n      // if (jsonMatch) {\n      //   return JSON.parse(jsonMatch[0]);\n      // }\n      return cleanAndParseJSON(response);\n    } catch (error) {\n      console.error(\"Match analysis error:\", error);\n    }\n    return null;\n  };\n\n  // ===== TAILOR RESUME =====\n  const tailorResume = async (parsedJD, matchAnalysis, intensity) => {\n    if (!parsedJD || !matchAnalysis) return originalLatex;\n\n    const intensityGuide = {\n      conservative: `\n      - Only reorder sections/bullets to prioritize relevant content\n      - Add 2-3 JD keywords naturally where they fit\n      - Do NOT rewrite bullet points substantially\n      - Keep all existing content\n    `,\n      moderate: `\n      - Reorder projects and experience bullets by relevance\n      - Enhance 3-5 bullet points with JD keywords\n      - Slightly rephrase to match JD language\n      - Can add brief mentions of matching skills\n    `,\n      aggressive: `\n      - Significantly reorder all sections by JD relevance\n      - Rewrite bullet points to directly address JD requirements\n      - Add all relevant keywords throughout\n      - Restructure to emphasize matching experience\n      - Can combine or split bullet points for better impact\n    `,\n    };\n\n    const prompt = `You are an expert resume tailoring specialist. Modify this LaTeX resume to better match the job description.\n\nORIGINAL LATEX RESUME:\n${originalLatex}\n\nJOB DESCRIPTION PARSED:\n${JSON.stringify(parsedJD, null, 2)}\n\nSKILL MATCH ANALYSIS:\n${JSON.stringify(matchAnalysis, null, 2)}\n\nTAILORING INTENSITY: ${intensity.toUpperCase()}\n${intensityGuide[intensity]}\n\nRULES:\n1. Return ONLY the complete modified LaTeX code - no explanations\n2. Keep the exact same LaTeX structure and commands\n3. Do NOT break any LaTeX syntax\n4. Preserve all links, formatting commands, and special characters\n5. For ${intensity} intensity: ${intensityGuide[intensity]}\n6. Reorder projects to put most relevant first (based on projectRelevance scores)\n7. Inject keywords from: ${parsedJD.keywords?.join(\", \")}\n8. Add a tailored summary/objective if appropriate for the role\n9. Ensure all \\\\ and special LaTeX chars are properly escaped\n\nMODIFIED LATEX:`;\n\n    try {\n      const response = await callGeminiAPI(prompt, 8192);\n\n      // Clean up the response - remove markdown code blocks if present\n      let latex = response;\n      if (latex.includes(\"```latex\")) {\n        latex = latex.replace(/```latex\\n?/g, \"\").replace(/```\\n?/g, \"\");\n      } else if (latex.includes(\"```\")) {\n        latex = latex.replace(/```\\n?/g, \"\");\n      }\n\n      return latex.trim();\n    } catch (error) {\n      console.error(\"Resume tailoring error:\", error);\n      return originalLatex;\n    }\n  };\n\n  // ===== GENERATE INTERVIEW QUESTIONS =====\n  const generateInterviewPrep = async (parsedJD, matchAnalysis) => {\n    if (!parsedJD) return [];\n\n    const prompt = `You are a senior technical interviewer. Generate interview questions for this candidate and role.\n\nROLE: ${parsedJD.roleTitle} at ${parsedJD.companyName}\nDOMAIN: ${parsedJD.teamDomain}\nTECH STACK: ${JSON.stringify(parsedJD.techStack)}\n\nCANDIDATE PROFILE:\n${JSON.stringify(LAXMAN_PROFILE, null, 2)}\n\nSKILL GAPS TO PROBE:\n${JSON.stringify(matchAnalysis?.skillGaps || [], null, 2)}\n\nGenerate questions in JSON format:\n{\n  \"technicalQuestions\": [\n    {\n      \"question\": \"Explain how you implemented...\",\n      \"category\": \"System Design\",\n      \"difficulty\": \"medium\",\n      \"whyAsked\": \"Tests distributed systems knowledge\",\n      \"suggestedAnswer\": \"Brief answer approach\",\n      \"followUp\": \"How would you scale this?\"\n    }\n  ],\n  \"behavioralQuestions\": [\n    {\n      \"question\": \"Tell me about a time...\",\n      \"category\": \"Leadership\",\n      \"starFormat\": {\n        \"situation\": \"Hint for situation\",\n        \"task\": \"What to focus on\",\n        \"action\": \"Key actions to mention\",\n        \"result\": \"Metrics to highlight\"\n      }\n    }\n  ],\n  \"projectDeepDive\": [\n    {\n      \"project\": \"CamsLens\",\n      \"questions\": [\n        \"Walk me through the architecture...\",\n        \"How did you handle...\"\n      ],\n      \"gotchas\": [\"Be ready to explain vector search choices\"]\n    }\n  ],\n  \"questionsToAsk\": [\n    {\n      \"question\": \"How does the team approach...\",\n      \"why\": \"Shows interest in engineering culture\"\n    }\n  ]\n}`;\n\n    try {\n      const response = await callGeminiAPI(prompt, 3000);\n      const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n      if (jsonMatch) {\n        return JSON.parse(jsonMatch[0]);\n      }\n    } catch (error) {\n      console.error(\"Interview prep error:\", error);\n    }\n    return null;\n  };\n\n  // ===== MAIN ANALYSIS ORCHESTRATOR =====\n  const runFullAnalysis = async () => {\n    if (!jdInput.trim()) return;\n\n    setIsAnalyzing(true);\n    setAnalysisResult(null);\n    setJdParsed(null);\n    setInterviewQuestions([]);\n    setTailoredLatex(\"\");\n\n    try {\n      // Step 1: Parse JD\n      console.log(\" Parsing Job Description...\");\n      const parsed = await parseJobDescription(jdInput);\n      setJdParsed(parsed);\n\n      if (!parsed) {\n        throw new Error(\"Failed to parse JD\");\n      }\n\n      // Step 2: Analyze Match\n      console.log(\" Analyzing Skill Match...\");\n      const match = await analyzeMatch(parsed);\n      setAnalysisResult(match);\n\n      // Step 3: Generate Interview Prep (parallel with resume tailoring)\n      console.log(\" Generating Interview Prep...\");\n      const interviewPrepPromise = generateInterviewPrep(parsed, match);\n\n      // Step 4: Tailor Resume\n      console.log(\" Tailoring Resume...\");\n      setIsTailoring(true);\n      const tailored = await tailorResume(parsed, match, tailorIntensity);\n      setTailoredLatex(tailored);\n      setIsTailoring(false);\n\n      // Wait for interview prep\n      const interviewPrep = await interviewPrepPromise;\n      setInterviewQuestions(interviewPrep);\n\n      // Save version\n      const newVersion = {\n        id: Date.now(),\n        company: parsed.companyName,\n        role: parsed.roleTitle,\n        matchScore: match?.overallMatchScore || 0,\n        latex: tailored,\n        timestamp: new Date().toISOString(),\n      };\n      setResumeVersions((prev) => [newVersion, ...prev].slice(0, 10));\n\n      console.log(\" Analysis Complete!\");\n    } catch (error) {\n      console.error(\"Analysis error:\", error);\n    } finally {\n      setIsAnalyzing(false);\n    }\n  };\n\n  // ===== PDF COMPILATION SERVICES =====\n  const compileLaTeXToPDF = async (latexCode) => {\n    if (!latexCode?.trim()) return null;\n\n    setPdfLoading(true);\n    setPdfError(null);\n    setCompileProgress(\"Initializing...\");\n\n    // Try multiple services in order\n    const services = [\n      { name: \"LaTeX.Online\", fn: compileWithLatexOnline },\n      { name: \"TeXLive.net\", fn: compileWithTexLive },\n      { name: \"LaTeX-on-HTTP\", fn: compileWithLatexHTTP },\n    ];\n\n    for (const service of services) {\n      try {\n        setCompileProgress(`Trying ${service.name}...`);\n        console.log(` Attempting compilation with ${service.name}...`);\n\n        const pdfBlob = await service.fn(latexCode);\n\n        if (pdfBlob && pdfBlob.size > 0) {\n          setPdfBlob(pdfBlob);\n          setLastCompiled(new Date());\n          setCompileProgress(` Compiled with ${service.name}`);\n          console.log(` Successfully compiled with ${service.name}`);\n\n          // Render the PDF\n          await renderPDF(pdfBlob);\n\n          setPdfLoading(false);\n          return pdfBlob;\n        }\n      } catch (error) {\n        console.warn(` ${service.name} failed:`, error.message);\n        continue;\n      }\n    }\n\n    // All services failed\n    setPdfError(\n      \"All compilation services failed. Please try again or use Overleaf.\"\n    );\n    setPdfLoading(false);\n    return null;\n  };\n  // ===== SERVICE 1: YtoTech API (ACTUALLY WORKS - replaces LaTeX.Online) =====\n  const compileWithLatexOnline = async (latexCode) => {\n    const response = await fetch(\"https://latex.ytotech.com/builds/sync\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify({\n        compiler: \"pdflatex\",\n        resources: [\n          {\n            main: true,\n            content: latexCode,\n            file: \"main.tex\",\n          },\n        ],\n      }),\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    const blob = await response.blob();\n\n    // Verify it's a valid PDF\n    if (blob.size > 1000) {\n      return blob;\n    }\n\n    throw new Error(\"Invalid PDF response\");\n  };\n\n  // ===== SERVICE 2: LaTeX.Online with POST (fixes URI too large) =====\n  const compileWithTexLive = async (latexCode) => {\n    // Use POST instead of GET to avoid 414 error\n    const formData = new FormData();\n    const texBlob = new Blob([latexCode], { type: \"text/plain\" });\n    formData.append(\"filecontents[]\", texBlob, \"main.tex\");\n    formData.append(\"filename[]\", \"main.tex\");\n\n    const response = await fetch(\"https://latexonline.cc/compile\", {\n      method: \"POST\",\n      body: formData,\n    });\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.blob();\n  };\n\n  // ===== SERVICE 3: Arachnoid LaTeX Compiler (CORS-friendly) =====\n  const compileWithLatexHTTP = async (latexCode) => {\n    const response = await fetch(\n      \"https://arachnoid.com/latex/cgi-bin/latex_compiler.rb\",\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\",\n        },\n        body: new URLSearchParams({\n          data: latexCode,\n          output_format: \"pdf\",\n        }),\n      }\n    );\n\n    if (!response.ok) {\n      throw new Error(`HTTP ${response.status}`);\n    }\n\n    return await response.blob();\n  };\n\n  // ===== RENDER PDF USING PDF.js =====\n  const renderPDF = async (blob) => {\n    try {\n      const arrayBuffer = await blob.arrayBuffer();\n\n      // Load PDF document\n      const loadingTask = pdfjsLib.getDocument({ data: arrayBuffer });\n      const pdf = await loadingTask.promise;\n\n      pdfDocRef.current = pdf;\n      setPdfTotalPages(pdf.numPages);\n      setPdfCurrentPage(1);\n\n      // Render all pages\n      const pages = [];\n      for (let i = 1; i <= pdf.numPages; i++) {\n        const page = await pdf.getPage(i);\n        pages.push(page);\n      }\n      setPdfPages(pages);\n\n      // Render first page\n      await renderPage(1);\n    } catch (error) {\n      console.error(\"PDF rendering error:\", error);\n      setPdfError(\"Failed to render PDF: \" + error.message);\n    }\n  };\n\n  const [pdfZoom, setPdfZoom] = useState(1.0);\n  const [tailoredLatex, setTailoredLatex] = useState(\"\");\n  // ===== STATE FOR PDF PREVIEW =====\n  const [pdfBlob, setPdfBlob] = useState(null);\n  const [pdfPages, setPdfPages] = useState([]);\n  const [pdfCurrentPage, setPdfCurrentPage] = useState(1);\n  const [pdfTotalPages, setPdfTotalPages] = useState(0);\n  const [pdfLoading, setPdfLoading] = useState(false);\n  const [pdfError, setPdfError] = useState(null);\n  const [pdfCompileMethod, setPdfCompileMethod] = useState(\"auto\");\n  const [autoCompile, setAutoCompile] = useState(false);\n  const [lastCompiled, setLastCompiled] = useState(null);\n  const [compileProgress, setCompileProgress] = useState(\"\");\n  const [pdfFullscreen, setPdfFullscreen] = useState(false);\n\n  const pdfCanvasRef = useRef(null);\n  const pdfContainerRef = useRef(null);\n  const compileTimeoutRef = useRef(null);\n  const pdfDocRef = useRef(null);\n  // ===== RENDER SINGLE PAGE =====\n  const renderPage = async (pageNum) => {\n    if (!pdfDocRef.current || !pdfCanvasRef.current) return;\n\n    try {\n      const page = await pdfDocRef.current.getPage(pageNum);\n      const canvas = pdfCanvasRef.current;\n      const context = canvas.getContext(\"2d\");\n\n      // Calculate scale based on container width\n      const containerWidth = pdfContainerRef.current?.clientWidth || 600;\n      const viewport = page.getViewport({ scale: 1 });\n      const scale = (containerWidth / viewport.width) * pdfZoom * 0.95;\n      const scaledViewport = page.getViewport({ scale });\n\n      // Set canvas dimensions\n      canvas.height = scaledViewport.height;\n      canvas.width = scaledViewport.width;\n\n      // Render page\n      await page.render({\n        canvasContext: context,\n        viewport: scaledViewport,\n      }).promise;\n\n      setPdfCurrentPage(pageNum);\n    } catch (error) {\n      console.error(\"Page render error:\", error);\n    }\n  };\n\n  // ===== RE-RENDER ON ZOOM CHANGE =====\n  useEffect(() => {\n    if (pdfDocRef.current && pdfCurrentPage) {\n      renderPage(pdfCurrentPage);\n    }\n  }, [pdfZoom]);\n\n  // ===== AUTO-RESET GRAPH VIEW (FIXED FOR INITIAL LOAD) =====\n  useEffect(() => {\n    // Check if we are on the brain tab and data is loaded\n    if (activeTab === \"brain\" && knowledgeGraph) {\n      // We add a small delay (100ms) to allow the DOM/Canvas to fully render\n      // and calculate its width/height before we reset the view.\n      const timer = setTimeout(() => {\n        setGraphTransform({ scale: 1, offsetX: 0, offsetY: 0 });\n        setSelectedNode(null);\n      }, 50);\n\n      // Cleanup timeout if component unmounts\n      return () => clearTimeout(timer);\n    }\n  }, [activeTab, knowledgeGraph]);\n  // ===== AUTO-COMPILE WITH DEBOUNCE =====\n  useEffect(() => {\n    if (!autoCompile) return;\n\n    if (compileTimeoutRef.current) {\n      clearTimeout(compileTimeoutRef.current);\n    }\n\n    compileTimeoutRef.current = setTimeout(() => {\n      const latex = tailoredLatex || originalLatex;\n      if (latex) {\n        compileLaTeXToPDF(latex);\n      }\n    }, 3000); // 3 second debounce\n\n    return () => {\n      if (compileTimeoutRef.current) {\n        clearTimeout(compileTimeoutRef.current);\n      }\n    };\n  }, [tailoredLatex, autoCompile]);\n\n  // ===== NAVIGATION FUNCTIONS =====\n  const goToPrevPage = () => {\n    if (pdfCurrentPage > 1) {\n      renderPage(pdfCurrentPage - 1);\n    }\n  };\n\n  const goToNextPage = () => {\n    if (pdfCurrentPage < pdfTotalPages) {\n      renderPage(pdfCurrentPage + 1);\n    }\n  };\n\n  const zoomIn = () => {\n    setPdfZoom((prev) => Math.min(prev + 0.25, 3));\n  };\n\n  const zoomOut = () => {\n    setPdfZoom((prev) => Math.max(prev - 0.25, 0.5));\n  };\n\n  const resetZoom = () => {\n    setPdfZoom(1.0);\n  };\n\n  // ===== DOWNLOAD PDF =====\n  const downloadPDF = () => {\n    if (!pdfBlob) return;\n\n    const url = URL.createObjectURL(pdfBlob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `resume_${\n      jdParsed?.companyName?.replace(/\\s+/g, \"_\") || \"tailored\"\n    }_${Date.now()}.pdf`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    URL.revokeObjectURL(url);\n  };\n\n  // ===== OPEN IN NEW TAB =====\n  const openPDFInNewTab = () => {\n    if (!pdfBlob) return;\n\n    const url = URL.createObjectURL(pdfBlob);\n    window.open(url, \"_blank\");\n  };\n\n  // ===== OPEN IN OVERLEAF =====\n  const openInOverleaf = () => {\n    const latex = tailoredLatex || originalLatex;\n\n    // Create a form and submit to Overleaf\n    const form = document.createElement(\"form\");\n    form.method = \"POST\";\n    form.action = \"https://www.overleaf.com/docs\";\n    form.target = \"_blank\";\n\n    const input = document.createElement(\"input\");\n    input.type = \"hidden\";\n    input.name = \"snip\";\n    input.value = latex;\n\n    form.appendChild(input);\n    document.body.appendChild(form);\n    form.submit();\n    document.body.removeChild(form);\n  };\n\n  // ===== PRINT PDF =====\n  const printPDF = () => {\n    if (!pdfBlob) return;\n\n    const url = URL.createObjectURL(pdfBlob);\n    const printWindow = window.open(url, \"_blank\");\n    printWindow.addEventListener(\"load\", () => {\n      printWindow.print();\n    });\n  };\n\n  // ===== DOWNLOAD LATEX =====\n  const downloadLatex = () => {\n    const blob = new Blob([tailoredLatex || originalLatex], {\n      type: \"text/plain\",\n    });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement(\"a\");\n    a.href = url;\n    a.download = `resume_${\n      jdParsed?.companyName || \"tailored\"\n    }_${Date.now()}.tex`;\n    a.click();\n    URL.revokeObjectURL(url);\n  };\n\n  // ===== COPY LATEX TO CLIPBOARD =====\n  const copyLatexToClipboard = async () => {\n    try {\n      await navigator.clipboard.writeText(tailoredLatex || originalLatex);\n      // Show toast notification (implement as needed)\n    } catch (err) {\n      console.error(\"Copy failed:\", err);\n    }\n  };\n\n  // ===== LAXMAN'S BASE RESUME LATEX =====\n  const LAXMAN_RESUME_LATEX = `\n  \\\\\\\\documentclass[10pt,a4paper]{article}\n  \n  % Required packages\n  \\\\\\\\usepackage[margin=0.5in]{geometry}\n  \\\\\\\\usepackage{hyperref}\n  \\\\\\\\usepackage{helvet}\n  \\\\\\\\usepackage{fontawesome5}\n  \\\\\\\\usepackage[english]{babel}\n  \\\\\\\\usepackage[utf8]{inputenc}\n  \\\\\\\\usepackage{amsmath, amssymb}\n  \\\\\\\\usepackage{titlesec}\n  \\\\\\\\usepackage{xcolor}\n  \\\\\\\\usepackage{enumitem}\n  \\\\\\\\usepackage{multicol}\n  \\\\\\\\usepackage{url}\n  \n  % Define colors\n  \\\\\\\\definecolor{linkcolor}{HTML}{1a73e8}\n  \\\\\\\\definecolor{headercolor}{HTML}{333333}\n  \n  % Hyperlink setup\n  \\\\\\\\hypersetup{\n      colorlinks=true,\n      linkcolor=linkcolor,\n      filecolor=linkcolor,\n      urlcolor=linkcolor,\n      pdftitle={K Laxman - Resume},\n      pdfauthor={K Laxman},\n      pdfsubject={Software Development Engineer Resume}\n  }\n  \n  % Section formatting\n  \\\\\\\\titleformat{\\\\\\\\section}\n      {\\\\\\\\large\\\\\\\\bfseries\\\\\\\\color{headercolor}\\\\\\\\uppercase}\n      {}\n      {0em}\n      {}\n      [\\\\\\\\titlerule]\n  \n  \\\\\\\\titlespacing{\\\\\\\\section}\n      {0pt}\n      {10pt}\n      {5pt}\n  \n  % Custom commands\n  \\\\\\\\newcommand{\\\\\\\\resumeSubheading}[4]{\n    \\\\\\\\item\n      \\\\\\\\begin{tabular*}{\\\\\\\\textwidth}[t]{l@{\\\\\\\\extracolsep{\\\\\\\\fill}}r}\n        \\\\\\\\textbf{#1} & \\\\\\\\small{#2} \\\\\\\\\\\\\\\\\n        \\\\\\\\small\\\\\\\\itshape{#3} & \\\\\\\\small\\\\\\\\itshape{#4} \\\\\\\\\\\\\\\\\n      \\\\\\\\end{tabular*}\n      \\\\\\\\vspace{2pt}\n  }\n  \n  \\\\\\\\newcommand{\\\\\\\\resumeItem}[1]{\\\\\\\\item[$\\\\\\\\bullet$] \\\\\\\\footnotesize{#1}}\n  \n  \\\\\\\\setlist[itemize]{\n      leftmargin=*,\n      itemsep=2pt,\n      parsep=1pt,\n      topsep=3pt,\n      partopsep=0pt\n  }\n  \n  \\\\\\\\pagestyle{empty}\n  \n  \\\\\\\\begin{document}\n  \n  % Header\n  \\\\\\\\begin{center}\n      {\\\\\\\\LARGE\\\\\\\\bfseries K LAXMAN} \\\\\\\\\\\\\\\\[5pt]\n      {\\\\\\\\large Software Development Engineer | AI Engineer}\n  \\\\\\\\end{center}\n  \\\\\\\\vspace{3pt}\n  \n  % Contact Information\n  \\\\\\\\begin{center}\n      \\\\\\\\small\n      \\\\\\\\href{tel:+919000063740}{\\\\\\\\faPhone\\\\\\\\ +91-9000063740} $\\\\\\\\cdot$\n      \\\\\\\\href{mailto:Laxmankethavath5@gmail.com}{\\\\\\\\faEnvelope\\\\\\\\ Laxmankethavath5@gmail.com} $\\\\\\\\cdot$\n      \\\\\\\\href{https://www.linkedin.com/in/laxman-k-44913a156/}{\\\\\\\\faLinkedin\\\\\\\\ LinkedIn} $\\\\\\\\cdot$\n      \\\\\\\\href{https://github.com/laxman824}{\\\\\\\\faGithub\\\\\\\\ GitHub} $\\\\\\\\cdot$\n      \\\\\\\\href{https://laxman824.github.io/home}{\\\\\\\\faGlobe\\\\\\\\ Portfolio}\n  \\\\\\\\end{center}\n  \n  \\\\\\\\vspace{5pt}\n  \\\\\\\\hrule\n  \\\\\\\\vspace{8pt}\n  \n  \\\\\\\\section{Education}\n  \\\\\\\\begin{itemize}\n      \\\\\\\\resumeSubheading\n          {Indian Institute of Technology Delhi}{Jul 2018 -- May 2024}\n          {B.Tech and M.Tech in Computer Science \\\\\\\\& Engineering}{New Delhi, India}\n  \\\\\\\\end{itemize}\n  \n  \\\\\\\\section{Work Experience}\n  \\\\\\\\begin{itemize}\n  \n      \\\\\\\\resumeSubheading\n          {COMPUTER AGE MANAGEMENT SERVICES (CAMS)}{Jun 2024 -- Present}\n          {Senior AI Engineer}{Chennai, India}\n      \\\\\\\\resumeItem{Developed \\\\\\\\textbf{\\\\\\\\href{https://camslens.camsai.com/}{CamsLens}}, an Enterprise generative AI platform for financial insights, using Vertex AI (Gemini-flash 2.5), Agent Builder, Vector Search, Cloud Run, and BigQuery.}\n      \\\\\\\\resumeItem{Achieved 95\\\\\\\\% accuracy and a 7-second response time while processing 80,000+ documents monthly.}\n      \\\\\\\\resumeItem{Implemented real-time RSS feed ingestion to deliver financial news and SEBI regulatory updates, reducing manual monitoring and document ingestion for AI query search by 80\\\\\\\\%.}\n      \\\\\\\\resumeItem{Designed AI-powered query and summarization APIs with domain-specific prompts, improving response time by 60\\\\\\\\% and ensuring CMEK-compliant storage.}\n      \\\\\\\\resumeItem{Designed and implemented a Ranking Chunks Algorithm for CamsLens, enhancing response relevance by ranking Vertex AI datastore chunks, significantly improving user query quality.}\n  \n      \\\\\\\\resumeSubheading\n          {Intelligent Document Processing (IDP) Pipeline}{\\\\\\\\href{https://laxman824.github.io/projects}{\\\\\\\\faGithub}}\n          {Python, LangGraph, GCP, Vertex AI, Gemini 2.5, Pydantic}{2025}\n      \\\\\\\\resumeItem{Enterprise level Multi-Agent Orchestration Framework using \\\\\\\\textbf{LangGraph} and Gemini 2.5 Flash to automate data extraction from complex Mutualfund forms.}\n      \\\\\\\\resumeItem{Designed a \\\\\\\\textbf{\"Router-Extractor-Auditor\"} architecture: a Semantic Router dynamically selects schemas, while a Vision Extractor utilizes multimodal LLMs to extract structured fields (Folios, PANs, Signatures).}\n      \\\\\\\\resumeItem{Built a \\\\\\\\textbf{Self-Reflective Auditor} agent that enforces business logic (e.g., signature validation) and triggers feedback loops for model self-correction if validation fails.}\n      \\\\\\\\resumeItem{Implemented Confidence-Based Gating to enable Straight-Through Processing (STP) for high-confidence data.}\n  \n      \\\\\\\\resumeSubheading\n          {Autonomous Multi-Agent Banking System}{\\\\\\\\href{https://laxman824.github.io/projects}{\\\\\\\\faGithub}}\n          {Python, CrewAI, GCP, Vertex AI (Gemini 2.5), LangChain}{2025}\n      \\\\\\\\resumeItem{Engineered a Multi-Agent System using \\\\\\\\textbf{CrewAI}, orchestrating 7 specialized agents (Receptionist, Validator, Payment Specialist) to autonomously route and execute financial transactions.}\n      \\\\\\\\resumeItem{Implemented inter-agent communication protocols allowing autonomous routing of user queries to specific specialized agents based on intent, ensuring secure and accurate banking operations.}\n  \n      \\\\\\\\resumeSubheading\n          {AI-Powered Financial Email Automation System}{\\\\\\\\href{https://github.com/Laxman824}{\\\\\\\\faGithub}}\n          {Python, FastAPI, vLLM, Docker, LLMs}{2025}\n      \\\\\\\\resumeItem{Developed a FastAPI-based email classification microservice using LLMs to categorize financial requests and extract entities (PAN, ARN, Dates) with 95\\\\\\\\% accuracy.}\n      \\\\\\\\resumeItem{Implemented zero-shot learning with engineered prompts and few-shot examples, enabling high-accuracy classification without training datasets.}\n      \\\\\\\\resumeItem{Deployed the solution in Docker with full logging and monitoring, reducing manual email processing time by 80\\\\\\\\%.}\n  \n      \\\\\\\\resumeSubheading\n          {SEBI Debarred AI PAN Extraction \\\\\\\\& Compliance System}{\\\\\\\\href{https://github.com/Laxman824}{\\\\\\\\faGithub}}\n          {Python, Vertex AI, GCP, Pub/Sub, Docker}{2025}\n      \\\\\\\\resumeItem{Architected a dual-pipeline backend integrating real-time web scraping with AI-driven PDF parsing (Gemini) to monitor SEBI regulatory orders and extract debarred PAN details.}\n      \\\\\\\\resumeItem{Cut manual compliance verification effort by nearly 90\\\\\\\\% and implemented validation workflows for structured storage in Firestore.}\n      \\\\\\\\resumeItem{Deployed event-driven Dockerized services on GCP using Pub/Sub, Cloud Run, and Cloud Storage.}\n  \n      \\\\\\\\resumeSubheading\n          {Eamvey Technologies}{May 2022 -- Aug 2022}\n          {Web Development Intern}{Remote}\n      \\\\\\\\resumeItem{Enhanced Learning Management System (LMS) frontend and backend for 1,000+ users using the MERN stack (MongoDB, Express.js, React, Node.js).}\n      \\\\\\\\resumeItem{Integrated a secure payment gateway, successfully handling 500+ monthly transactions.}\n      \\\\\\\\resumeItem{Improved application performance by 40\\\\\\\\% through code optimization, bundle splitting, and lazy loading techniques.}\n  \n  \\\\\\\\end{itemize}\n  \n  \\\\\\\\section{Academic Projects}\n  \n  \\\\\\\\begin{itemize}[leftmargin=0pt]\n  \n      \\\\\\\\resumeSubheading\n          {Borderless Table Recognition and Accessibility in PDF Files}{\\\\\\\\href{https://github.com/Laxman824/MTP2-work}{\\\\\\\\faGithub\\\\\\\\ Code}}\n          {Python, Layout Parser, MTL-TabNet, OpenCV, SVM}{2023 | IIT Delhi}\n      \\\\\\\\resumeItem{Engineered a system for detecting borderless tables in PDF documents using Layout Parser and fine-tuned \\\\\\\\textbf{MTL-TabNet}, achieving \\\\\\\\textbf{30\\\\\\\\% accuracy improvement} over CascadeTabNet for the RAVI project.}\n      \\\\\\\\resumeItem{Trained an \\\\\\\\textbf{SVM classifier} for table cell classification based on geometric and color features, reaching \\\\\\\\textbf{90\\\\\\\\% accuracy}.}\n      \\\\\\\\resumeItem{Integrated as a Docker container into the RAVI framework (under \\\\\\\\textbf{Prof. M. BalaKrishnan}, IIT Delhi) to enhance PDF accessibility for visually impaired users.}\n  \n      \\\\\\\\resumeSubheading\n          {Reading Assistant for Visually Impaired (RAVI)}{\\\\\\\\href{https://github.com/Laxman824/RAVI-2022-2023-}{\\\\\\\\faGithub\\\\\\\\ Code}}\n          {Python, Flask, HTML/CSS, JavaScript}{2022 | IIT Delhi}\n      \\\\\\\\resumeItem{Built an automated toolchain converting STEM documents (PDFs, EPUBs) into accessible formats using RAVI processing modules.}\n      \\\\\\\\resumeItem{Developed a \\\\\\\\textbf{Flask-based web application} enabling crowdsourced ALT TEXT generation for document images.}\n      \\\\\\\\resumeItem{Improved the accessibility of 500+ STEM documents for visually impaired students and researchers.}\n  \n  \\\\\\\\end{itemize}\n  \n  \\\\\\\\section{Technical Skills}\n  \\\\\\\\begin{multicols}{2}\n  \\\\\\\\begin{itemize}\n      \\\\\\\\item \\\\\\\\footnotesize \\\\\\\\textbf{Languages:} Java (Spring Boot), Python (FastAPI, Flask, Pandas, NumPy), JavaScript (Node.js, React)\n      \\\\\\\\item \\\\\\\\footnotesize \\\\\\\\textbf{AI/ML:} LangGraph, LangChain, CrewAI, Vertex AI, Gemini, OpenAI, PyTorch, TensorFlow, Dialogflow CX\n      \\\\\\\\item \\\\\\\\footnotesize \\\\\\\\textbf{Databases:} MySQL, AlloyDB, Firestore, PostgreSQL, MongoDB, BigQuery, Vector DB\n      \\\\\\\\item \\\\\\\\footnotesize \\\\\\\\textbf{Cloud \\\\\\\\& DevOps:} GCP (Cloud Run, Vertex AI), Docker, Kubernetes, CI/CD, Git\n  \\\\\\\\end{itemize}\n  \\\\\\\\end{multicols}\n  \n  \\\\\\\\section{Leadership \\\\\\\\& Activities}\n  \\\\\\\\begin{itemize}\n      \\\\\\\\resumeSubheading\n          {Teaching Assistant}{Fall 2019 -- Spring 2021}\n          {IIT Delhi}{New Delhi, India}\n      \\\\\\\\resumeItem{Mentored over 300 undergraduate students in foundational Computer Science courses (Data Structures, Intro to Programming).}\n  \\\\\\\\end{itemize}\n  \n  \\\\\\\\end{document}\n  `;\n\n  // ===== STATE FOR COMPETITIVE INTELLIGENCE HUB =====\n  const [jdInput, setJdInput] = useState(\"\");\n  const [jdParsed, setJdParsed] = useState(null);\n  const [originalLatex, setOriginalLatex] = useState(LAXMAN_RESUME_LATEX);\n  const [tailorIntensity, setTailorIntensity] = useState(\"moderate\"); // conservative, moderate, aggressive\n  const [analysisResult, setAnalysisResult] = useState(null);\n  const [companyIntel, setCompanyIntel] = useState(null);\n  const [interviewQuestions, setInterviewQuestions] = useState([]);\n  const [salaryInsights, setSalaryInsights] = useState(null);\n  const [isAnalyzing, setIsAnalyzing] = useState(false);\n  const [isTailoring, setIsTailoring] = useState(false);\n  const [activeIntelTab, setActiveIntelTab] = useState(\"match\"); // match, interview, company, salary\n  const [showDiff, setShowDiff] = useState(false);\n  const [resumeVersions, setResumeVersions] = useState([]);\n  const [pdfPreviewUrl, setPdfPreviewUrl] = useState(null);\n  const [editorTheme, setEditorTheme] = useState(\"vs-dark\");\n  const latexEditorRef = useRef(null);\n\n  // ===== LAXMAN'S STRUCTURED PROFILE (for matching) =====\n  const LAXMAN_PROFILE = {\n    name: \"K Laxman\",\n    title: \"Senior AI Engineer\",\n    education: {\n      institution: \"IIT Delhi\",\n      degree: \"B.Tech and M.Tech in Computer Science & Engineering\",\n      period: \"2018-2024\",\n    },\n    currentRole: {\n      company: \"CAMS\",\n      title: \"Senior AI Engineer\",\n      duration: \"Jun 2024 - Present\",\n      highlights: [\n        \"CamsLens - Enterprise Gen AI platform\",\n        \"80,000+ documents monthly\",\n        \"Vertex AI, Gemini, BigQuery\",\n        \"95% accuracy, 7sec response\",\n      ],\n    },\n    skills: {\n      languages: [\n        \"Java\",\n        \"Python\",\n        \"JavaScript\",\n        \"Spring Boot\",\n        \"FastAPI\",\n        \"React\",\n        \"Node.js\",\n      ],\n      databases: [\n        \"MySQL\",\n        \"PostgreSQL\",\n        \"MongoDB\",\n        \"Firestore\",\n        \"BigQuery\",\n        \"AlloyDB\",\n      ],\n      aiml: [\n        \"PyTorch\",\n        \"TensorFlow\",\n        \"Vertex AI\",\n        \"LLMs\",\n        \"Gemini\",\n        \"OpenCV\",\n        \"spaCy\",\n        \"Dialogflow\",\n      ],\n      cloud: [\n        \"GCP\",\n        \"Docker\",\n        \"Kubernetes\",\n        \"Cloud Run\",\n        \"Pub/Sub\",\n        \"AWS\",\n        \"Azure\",\n      ],\n      web: [\"REST APIs\", \"GraphQL\", \"WebSockets\", \"HTML/CSS\", \"TailwindCSS\"],\n      tools: [\"Git\", \"CI/CD\", \"Jenkins\", \"GitHub Actions\", \"Postman\"],\n    },\n    projects: [\n      {\n        name: \"CamsLens\",\n        tech: [\"Vertex AI\", \"Gemini\", \"BigQuery\", \"Cloud Run\"],\n        domain: \"FinTech AI\",\n      },\n      {\n        name: \"Email Automation System\",\n        tech: [\"FastAPI\", \"LLMs\", \"Docker\", \"vLLM\"],\n        domain: \"NLP\",\n      },\n      {\n        name: \"SEBI Compliance System\",\n        tech: [\"Vertex AI\", \"GCP\", \"Pub/Sub\", \"Next.js\"],\n        domain: \"RegTech\",\n      },\n      {\n        name: \"Stock Exchange Platform\",\n        tech: [\"Spring Boot\", \"Spring Security\", \"JWT\"],\n        domain: \"FinTech\",\n      },\n      {\n        name: \"Table Recognition (MTP)\",\n        tech: [\"Layout Parser\", \"MTL-TabNet\", \"OpenCV\"],\n        domain: \"Computer Vision\",\n      },\n      { name: \"RAVI\", tech: [\"Flask\", \"Python\"], domain: \"Accessibility\" },\n      {\n        name: \"Driver Drowsiness\",\n        tech: [\"OpenCV\", \"Dlib\"],\n        domain: \"Computer Vision\",\n      },\n    ],\n    strengths: [\n      \"Enterprise AI/Gen AI platforms\",\n      \"Full-stack development\",\n      \"Document processing & NLP\",\n      \"GCP & Cloud architecture\",\n      \"Real-time systems\",\n    ],\n  };\n\n  // ===== GEMINI API CALL HELPER (SECURE VERSION) =====\n  const callGeminiAPI = useCallback(async (prompt, maxTokens = 1024) => {\n    const startTime = Date.now();\n\n    try {\n      // Initialize Firebase Functions\n      const functions = getFunctions();\n      const callGeminiFunction = httpsCallable(functions, \"callGemini\");\n\n      // Call the Cloud Function\n      const result = await callGeminiFunction({\n        prompt: prompt,\n        maxTokens: maxTokens,\n      });\n\n      // Parse the response (structure matches what Gemini returns)\n      const data = result.data;\n      const text = data.candidates?.[0]?.content?.parts?.[0]?.text || \"\";\n\n      // Update metrics\n      const latency = Date.now() - startTime;\n      const tokens = Math.ceil(text.length / 4);\n\n      setMetrics((prev) => ({\n        totalTokens: prev.totalTokens + tokens,\n        totalCost: prev.totalCost + tokens * 0.00001,\n        avgLatency:\n          (prev.avgLatency * prev.requestCount + latency) /\n          (prev.requestCount + 1),\n        successRate: prev.successRate,\n        requestCount: prev.requestCount + 1,\n      }));\n\n      return text;\n    } catch (error) {\n      console.error(\"AI Generation failed:\", error);\n      // Update metrics for failure\n      setMetrics((prev) => ({\n        ...prev,\n        successRate:\n          (prev.successRate * prev.requestCount) / (prev.requestCount + 1),\n        requestCount: prev.requestCount + 1,\n      }));\n      throw error;\n    }\n  }, []);\n  // ===== CHUNK KNOWLEDGE BASE FOR RAG =====\n  const chunkKnowledgeBase = useCallback((knowledge) => {\n    const chunks = [];\n\n    try {\n      // Profile chunks\n      if (knowledge.profile) {\n        const expertiseStr = Array.isArray(knowledge.profile.expertise)\n          ? knowledge.profile.expertise.join(\", \")\n          : String(knowledge.profile.expertise || \"\");\n\n        chunks.push({\n          id: \"profile-main\",\n          content: `${knowledge.profile.name || \"Developer\"} is a ${\n            knowledge.profile.title || \"Engineer\"\n          } with ${\n            knowledge.profile.yearsOfExperience || 0\n          } years of experience. Expertise: ${expertiseStr}. ${\n            knowledge.profile.passion || \"\"\n          }`,\n          metadata: { type: \"profile\", category: \"overview\" },\n        });\n      }\n\n      // Project chunks\n      if (Array.isArray(knowledge.projects)) {\n        knowledge.projects.forEach((project) => {\n          if (!project) return;\n\n          const techStack = Array.isArray(project.techStack)\n            ? project.techStack.join(\", \")\n            : \"\";\n          const features = Array.isArray(project.features)\n            ? project.features.join(\"; \")\n            : \"\";\n          const impact = project.impact\n            ? Object.entries(project.impact)\n                .map(([k, v]) => `${k}: ${v}`)\n                .join(\", \")\n            : \"\";\n\n          chunks.push({\n            id: `project-${project.id}`,\n            content: `Project: ${project.name}. Category: ${\n              project.category || \"general\"\n            }. Description: ${\n              project.description || \"\"\n            }. Technologies: ${techStack}. Key features: ${features}. Impact: ${impact}`,\n            metadata: {\n              type: \"project\",\n              category: project.category || \"general\",\n              projectId: project.id,\n            },\n          });\n\n          // Achievements chunk\n          if (\n            Array.isArray(project.achievements) &&\n            project.achievements.length > 0\n          ) {\n            chunks.push({\n              id: `project-${project.id}-achievements`,\n              content: `Achievements in ${\n                project.name\n              }: ${project.achievements.join(\"; \")}`,\n              metadata: { type: \"achievement\", projectId: project.id },\n            });\n          }\n        });\n      }\n\n      // Skills chunks\n      if (knowledge.skills?.aiml) {\n        Object.entries(knowledge.skills.aiml).forEach(([key, value]) => {\n          if (!value) return;\n          const valueStr = Array.isArray(value)\n            ? value.join(\", \")\n            : String(value);\n          chunks.push({\n            id: `skill-aiml-${key}`,\n            content: `AI/ML ${key}: ${valueStr}`,\n            metadata: { type: \"skill\", category: \"aiml\", subcategory: key },\n          });\n        });\n      }\n\n      // Other skill categories\n      [\"frontend\", \"backend\", \"databases\", \"cloud\", \"tools\"].forEach(\n        (category) => {\n          if (Array.isArray(knowledge.skills?.[category])) {\n            chunks.push({\n              id: `skill-${category}`,\n              content: `${\n                category.charAt(0).toUpperCase() + category.slice(1)\n              } skills: ${knowledge.skills[category].join(\", \")}`,\n              metadata: { type: \"skill\", category },\n            });\n          }\n        }\n      );\n\n      // Languages\n      if (knowledge.skills?.languages) {\n        Object.entries(knowledge.skills.languages).forEach(([level, langs]) => {\n          if (Array.isArray(langs) && langs.length > 0) {\n            chunks.push({\n              id: `skill-languages-${level}`,\n              content: `Programming languages (${level}): ${langs.join(\", \")}`,\n              metadata: { type: \"skill\", category: \"languages\", level },\n            });\n          }\n        });\n      }\n\n      // Achievements\n      if (Array.isArray(knowledge.achievements)) {\n        chunks.push({\n          id: \"achievements-main\",\n          content: `Key achievements: ${knowledge.achievements.join(\"; \")}`,\n          metadata: { type: \"achievement\", category: \"general\" },\n        });\n      }\n\n      // Research Interests\n      if (Array.isArray(knowledge.researchInterests)) {\n        chunks.push({\n          id: \"research-interests\",\n          content: `Research interests: ${knowledge.researchInterests.join(\n            \"; \"\n          )}`,\n          metadata: { type: \"research\", category: \"interests\" },\n        });\n      }\n    } catch (error) {\n      console.error(\"Error chunking knowledge base:\", error);\n    }\n\n    return chunks;\n  }, []);\n\n  // ===== BUILD KNOWLEDGE GRAPH =====\n  const buildKnowledgeGraph = useCallback((knowledge) => {\n    const nodes = [];\n    const edges = [];\n\n    try {\n      // Center node\n      nodes.push({\n        id: \"center\",\n        label: knowledge.profile?.name || \"Portfolio\",\n        type: \"profile\",\n        x: 0,\n        y: 0,\n        color: \"#4CAF50\",\n      });\n\n      // Project nodes\n      if (Array.isArray(knowledge.projects)) {\n        knowledge.projects.forEach((project, i) => {\n          if (!project) return;\n\n          const angle = (i / knowledge.projects.length) * 2 * Math.PI;\n          const radius = 150;\n\n          const colors = {\n            \"Computer Vision\": \"#2196F3\",\n            NLP: \"#9C27B0\",\n            \"ML + Full-Stack\": \"#FF9800\",\n            \"Full-Stack\": \"#00BCD4\",\n            \"Accessibility AI\": \"#E91E63\",\n          };\n\n          nodes.push({\n            id: project.id,\n            label: project.name || `Project ${i + 1}`,\n            type: \"project\",\n            category: project.category || \"general\",\n            x: Math.cos(angle) * radius,\n            y: Math.sin(angle) * radius,\n            color: colors[project.category] || \"#757575\",\n          });\n\n          edges.push({ from: \"center\", to: project.id, type: \"has-project\" });\n\n          // Tech nodes\n          if (Array.isArray(project.techStack)) {\n            project.techStack.slice(0, 3).forEach((tech, j) => {\n              const techId = `${project.id}-tech-${j}`;\n              const techAngle = angle + (j - 1) * 0.25;\n              const techRadius = radius + 80;\n\n              // Check if tech node already exists\n              const existingNode = nodes.find(\n                (n) => n.label === tech && n.type === \"technology\"\n              );\n\n              if (!existingNode) {\n                nodes.push({\n                  id: techId,\n                  label: tech,\n                  type: \"technology\",\n                  x: Math.cos(techAngle) * techRadius,\n                  y: Math.sin(techAngle) * techRadius,\n                  color: \"#607D8B\",\n                });\n              }\n\n              edges.push({\n                from: project.id,\n                to: existingNode?.id || techId,\n                type: \"uses-tech\",\n              });\n            });\n          }\n        });\n      }\n\n      // Skill category nodes\n      const skillCategories = [\"aiml\", \"frontend\", \"backend\", \"cloud\"];\n      skillCategories.forEach((cat, i) => {\n        const angle = Math.PI + (i / skillCategories.length) * Math.PI;\n        const radius = 180;\n\n        nodes.push({\n          id: `skill-cat-${cat}`,\n          label: cat.toUpperCase(),\n          type: \"skill-category\",\n          x: Math.cos(angle) * radius,\n          y: Math.sin(angle) * radius,\n          color: \"#FFC107\",\n        });\n\n        edges.push({\n          from: \"center\",\n          to: `skill-cat-${cat}`,\n          type: \"has-skills\",\n        });\n      });\n    } catch (error) {\n      console.error(\"Error building knowledge graph:\", error);\n    }\n\n    return { nodes, edges };\n  }, []);\n\n  // ===== INITIALIZE RAG SYSTEM =====\n  useEffect(() => {\n    const initializeRAG = async () => {\n      try {\n        console.log(\" Initializing RAG system...\");\n\n        // Initialize vector store\n        const vectorDb = new VectorStore();\n        console.log(\" Vector store created\");\n\n        // Chunk and embed knowledge base\n        const chunks = chunkKnowledgeBase(portfolioKnowledge);\n        console.log(` Created ${chunks.length} knowledge chunks`);\n\n        await vectorDb.addDocuments(chunks);\n        console.log(\" Documents embedded and added to vector store\");\n\n        // Initialize RAG engine\n        const rag = new RAGEngine(vectorDb);\n        console.log(\" RAG engine initialized\");\n\n        setVectorStore(vectorDb);\n        setRAGEngine(rag);\n        setRagInitialized(true);\n\n        // Build knowledge graph\n        const graph = buildKnowledgeGraph(portfolioKnowledge);\n        console.log(\n          ` Knowledge graph built: ${graph.nodes.length} nodes, ${graph.edges.length} edges`\n        );\n        setKnowledgeGraph(graph);\n\n        console.log(\" RAG system fully initialized!\");\n      } catch (error) {\n        console.error(\" RAG initialization error:\", error);\n        setRagInitialized(false);\n      }\n    };\n\n    initializeRAG();\n  }, [portfolioKnowledge, chunkKnowledgeBase, buildKnowledgeGraph]);\n\n  // ===== INITIALIZE AGENT ORCHESTRATOR =====\n  useEffect(() => {\n    if (vectorStore && ragInitialized) {\n      const agentOrch = new AgentOrchestrator({\n        portfolioKnowledge,\n        vectorStore,\n        callAPI: callGeminiAPI,\n      });\n      setOrchestrator(agentOrch);\n      console.log(\" Agent Orchestrator initialized\");\n    }\n  }, [vectorStore, ragInitialized, portfolioKnowledge, callGeminiAPI]);\n\n  // ===== FETCH USER DATA =====\n  useEffect(() => {\n    if (!user) {\n      setIsLoading(false);\n      return;\n    }\n\n    const fetchUserData = async () => {\n      try {\n        const userRef = doc(db, \"users\", user.uid);\n        const userSnap = await getDoc(userRef);\n\n        if (userSnap.exists()) {\n          const data = userSnap.data();\n          setUserData(data);\n          setSavedItems(data.savedItems || []);\n          setNotes(data.notes || \"\");\n          setBrainMessages(data.brainHistory || []);\n        } else {\n          const newUserData = {\n            uid: user.uid,\n            email: user.email,\n            displayName: user.displayName,\n            photoURL: user.photoURL,\n            createdAt: new Date().toISOString(),\n            savedItems: [],\n            notes: \"\",\n            brainHistory: [],\n          };\n          await setDoc(userRef, newUserData);\n          setUserData(newUserData);\n        }\n      } catch (error) {\n        console.error(\"Error:\", error);\n        setFirestoreError(error.message);\n        const local = localStorage.getItem(`userspace_${user.uid}`);\n        if (local) {\n          const parsed = JSON.parse(local);\n          setSavedItems(parsed.savedItems || []);\n          setNotes(parsed.notes || \"\");\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchUserData();\n  }, [user]);\n\n  // ===== RAG-POWERED AI BRAIN QUERY =====\n  const handleBrainQuery = async () => {\n    if (!brainInput.trim()) return;\n\n    const userMessage = {\n      role: \"user\",\n      content: brainInput,\n      timestamp: Date.now(),\n    };\n    setBrainMessages((prev) => [...prev, userMessage]);\n    setBrainInput(\"\");\n    setBrainLoading(true);\n    setRetrievedDocs([]);\n\n    try {\n      let response;\n\n      if (ragInitialized && vectorStore && ragEngine) {\n        // RAG-powered response\n        console.log(\" Using RAG for query...\");\n\n        // Step 1: Retrieve relevant documents\n        const docs = await vectorStore.similaritySearch(brainInput, 5);\n        console.log(` Retrieved ${docs.length} documents`);\n\n        // Step 2: Rerank documents\n        const rerankedDocs = await ragEngine.rerank(brainInput, docs);\n        setRetrievedDocs(rerankedDocs.slice(0, 3));\n\n        // Step 3: Generate response with context\n        const result = await ragEngine.generateWithContext(\n          brainInput,\n          rerankedDocs,\n          callGeminiAPI\n        );\n        response = result.text;\n\n        console.log(` RAG response generated (${result.latency}ms)`);\n      } else {\n        // Fallback to direct API call\n        console.log(\" RAG not ready, using fallback...\");\n\n        const portfolioStr = JSON.stringify(portfolioKnowledge, null, 2);\n        const prompt = `You are Laxman's AI Portfolio Assistant.\n\nKNOWLEDGE BASE:\n${portfolioStr}\n\nUSER QUESTION: ${brainInput}\n\nProvide a helpful, specific response about Laxman's work, skills, or experience.`;\n\n        response = await callGeminiAPI(prompt);\n      }\n\n      const assistantMessage = {\n        role: \"assistant\",\n        content: response,\n        timestamp: Date.now(),\n        retrievedDocs: retrievedDocs.length > 0 ? retrievedDocs : null,\n      };\n      setBrainMessages((prev) => [...prev, assistantMessage]);\n\n      // Save to storage\n      saveToStorage({\n        brainHistory: [...brainMessages, userMessage, assistantMessage],\n      });\n    } catch (error) {\n      console.error(\"Brain query error:\", error);\n      setBrainMessages((prev) => [\n        ...prev,\n        {\n          role: \"assistant\",\n          content: \" Sorry, I encountered an error. Please try again.\",\n          timestamp: Date.now(),\n        },\n      ]);\n    } finally {\n      setBrainLoading(false);\n    }\n  };\n\n  // ===== MULTI-AGENT ORCHESTRATION =====\n  const runMultiAgentTask = async () => {\n    if (!agentTask.trim() || !orchestrator || agentRunning) return;\n\n    setAgentRunning(true);\n    setAgentConversation([]);\n    setActiveAgents([]);\n\n    try {\n      const result = await orchestrator.executeTask({\n        task: agentTask,\n        agents: selectedAgents,\n        onMessage: (message) => {\n          setAgentConversation((prev) => [...prev, message]);\n        },\n        onAgentStateChange: (agentState) => {\n          setActiveAgents((prev) => {\n            const index = prev.findIndex((a) => a.id === agentState.id);\n            if (index >= 0) {\n              const newAgents = [...prev];\n              newAgents[index] = agentState;\n              return newAgents;\n            }\n            return [...prev, agentState];\n          });\n        },\n      });\n\n      // Final summary\n      setAgentConversation((prev) => [\n        ...prev,\n        {\n          type: \"orchestrator\",\n          content: ` **Task Completed!**\\n\\n${result.summary}`,\n          timestamp: Date.now(),\n          isFinal: true,\n        },\n      ]);\n    } catch (error) {\n      console.error(\"Agent orchestration error:\", error);\n      setAgentConversation((prev) => [\n        ...prev,\n        {\n          type: \"error\",\n          content: \" Task execution failed. Please try again.\",\n          timestamp: Date.now(),\n        },\n      ]);\n    } finally {\n      setAgentRunning(false);\n    }\n  };\n\n  // ===== SKILL MATCH ANALYZER =====\n  const analyzeSkillMatch = async () => {\n    if (!jobDescription.trim()) return;\n\n    setSkillLoading(true);\n    setSkillAnalysis(null);\n\n    try {\n      const portfolioStr = JSON.stringify(portfolioKnowledge, null, 2);\n\n      const prompt = `You are an AI career advisor. Analyze how well this candidate's skills match the job description.\n\nCANDIDATE PROFILE:\n${portfolioStr}\n\nJOB DESCRIPTION:\n${jobDescription}\n\nProvide a detailed analysis in this JSON format (return ONLY valid JSON):\n{\n  \"overallMatch\": 85,\n  \"matchLevel\": \"Strong Match\",\n  \"summary\": \"Brief 2-sentence summary\",\n  \"matchedSkills\": [\n    {\"skill\": \"Python\", \"relevance\": \"high\", \"evidence\": \"Used in 4 projects\"},\n    {\"skill\": \"React\", \"relevance\": \"high\", \"evidence\": \"Primary frontend framework\"}\n  ],\n  \"missingSkills\": [\n    {\"skill\": \"Kubernetes\", \"importance\": \"medium\", \"suggestion\": \"Can learn quickly\"}\n  ],\n  \"relevantProjects\": [\n    {\"name\": \"CamsLens AI\", \"relevance\": \"Directly applicable\", \"highlight\": \"Computer vision expertise\"}\n  ],\n  \"recommendations\": [\n    \"Highlight your CamsLens project in the interview\",\n    \"Emphasize your LLM experience\"\n  ],\n  \"interviewTips\": [\n    \"Prepare to discuss your ML pipeline experience\",\n    \"Have metrics ready for your projects\"\n  ]\n}`;\n\n      const response = await callGeminiAPI(prompt, 2048);\n\n      const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n      if (jsonMatch) {\n        const analysis = JSON.parse(jsonMatch[0]);\n        setSkillAnalysis(analysis);\n\n        const savedAnalysis = {\n          type: \"skill-match\",\n          jobDescription: jobDescription.substring(0, 200),\n          matchScore: analysis.overallMatch,\n          timestamp: Date.now(),\n        };\n        setSavedItems((prev) => [savedAnalysis, ...prev].slice(0, 20));\n      }\n    } catch (error) {\n      console.error(\"Skill analysis error:\", error);\n      setSkillAnalysis({ error: \"Failed to analyze. Please try again.\" });\n    } finally {\n      setSkillLoading(false);\n    }\n  };\n\n  // ===== STATE FOR THOUGHT VISUALIZER =====\n  const [thoughtQuery, setThoughtQuery] = useState(\"\");\n  const [thoughtSteps, setThoughtSteps] = useState([]);\n  const [currentThoughtStep, setCurrentThoughtStep] = useState(0);\n  const [thoughtLoading, setThoughtLoading] = useState(false);\n  const [thoughtComplete, setThoughtComplete] = useState(false);\n\n  // ===== VISUALIZE AI THINKING =====\n  const visualizeThinking = async () => {\n    if (!thoughtQuery.trim()) return;\n\n    setThoughtLoading(true);\n    setThoughtSteps([]);\n    setCurrentThoughtStep(0);\n    setThoughtComplete(false);\n\n    // Simulated thinking steps that appear progressively\n    const thinkingStages = [\n      { icon: \"\", title: \"Query Analysis\", status: \"processing\" },\n      { icon: \"\", title: \"Context Retrieval\", status: \"waiting\" },\n      { icon: \"\", title: \"Knowledge Linking\", status: \"waiting\" },\n      { icon: \"\", title: \"Inference Engine\", status: \"waiting\" },\n      { icon: \"\", title: \"Response Synthesis\", status: \"waiting\" },\n      { icon: \"\", title: \"Quality Check\", status: \"waiting\" },\n    ];\n\n    setThoughtSteps(thinkingStages);\n\n    try {\n      const portfolioStr = JSON.stringify(portfolioKnowledge, null, 2);\n\n      const prompt = `You are an AI assistant showing your reasoning process. For this query, show step-by-step thinking.\n\nQUERY: \"${thoughtQuery}\"\n\nKNOWLEDGE BASE: ${portfolioStr}\n\nRespond in this JSON format ONLY:\n{\n  \"steps\": [\n    {\n      \"stage\": \"Query Analysis\",\n      \"thought\": \"What the AI is thinking at this stage\",\n      \"details\": [\"Key point 1\", \"Key point 2\"],\n      \"confidence\": 0.95\n    },\n    {\n      \"stage\": \"Context Retrieval\",\n      \"thought\": \"Searching relevant information...\",\n      \"details\": [\"Found info about X\", \"Related to Y\"],\n      \"confidence\": 0.88\n    },\n    {\n      \"stage\": \"Knowledge Linking\",\n      \"thought\": \"Connecting related concepts...\",\n      \"details\": [\"Connection 1\", \"Connection 2\"],\n      \"confidence\": 0.92\n    },\n    {\n      \"stage\": \"Inference Engine\",\n      \"thought\": \"Drawing conclusions...\",\n      \"details\": [\"Inference 1\", \"Inference 2\"],\n      \"confidence\": 0.90\n    },\n    {\n      \"stage\": \"Response Synthesis\",\n      \"thought\": \"Formulating response...\",\n      \"details\": [\"Key message\", \"Supporting detail\"],\n      \"confidence\": 0.94\n    },\n    {\n      \"stage\": \"Quality Check\",\n      \"thought\": \"Verifying accuracy...\",\n      \"details\": [\"Fact checked\", \"Coherence verified\"],\n      \"confidence\": 0.96\n    }\n  ],\n  \"finalAnswer\": \"The complete response to the query\",\n  \"overallConfidence\": 0.92,\n  \"reasoningPath\": \"Brief summary of the reasoning path taken\"\n}`;\n\n      // Progressive step animation\n      for (let i = 0; i < thinkingStages.length - 1; i++) {\n        await new Promise((resolve) => setTimeout(resolve, 800));\n        setCurrentThoughtStep(i + 1);\n        setThoughtSteps((prev) =>\n          prev.map((step, idx) => ({\n            ...step,\n            status:\n              idx < i + 1\n                ? \"complete\"\n                : idx === i + 1\n                ? \"processing\"\n                : \"waiting\",\n          }))\n        );\n      }\n\n      const response = await callGeminiAPI(prompt, 2048);\n      const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n\n      if (jsonMatch) {\n        const data = JSON.parse(jsonMatch[0]);\n\n        // Update with actual AI thoughts\n        setThoughtSteps(\n          data.steps.map((step, idx) => ({\n            icon: thinkingStages[idx]?.icon || \"\",\n            title: step.stage,\n            thought: step.thought,\n            details: step.details,\n            confidence: step.confidence,\n            status: \"complete\",\n          }))\n        );\n\n        setThoughtComplete(true);\n        setThoughtSteps((prev) => [\n          ...prev,\n          {\n            icon: \"\",\n            title: \"Final Answer\",\n            thought: data.finalAnswer,\n            details: [\n              `Overall Confidence: ${(data.overallConfidence * 100).toFixed(\n                0\n              )}%`,\n            ],\n            confidence: data.overallConfidence,\n            status: \"final\",\n            reasoningPath: data.reasoningPath,\n          },\n        ]);\n      }\n    } catch (error) {\n      console.error(\"Thought visualization error:\", error);\n    } finally {\n      setThoughtLoading(false);\n    }\n  };\n\n  // ===== AI MOCK INTERVIEW =====\n  const startInterview = async () => {\n    if (!interviewRole.trim()) return;\n\n    setInterviewLoading(true);\n    setInterviewStarted(true);\n    setInterviewMessages([]);\n\n    try {\n      const portfolioStr = JSON.stringify(portfolioKnowledge, null, 2);\n\n      const prompt = `You are an expert technical interviewer conducting a job interview for the role: ${interviewRole}\n\nCANDIDATE INFO:\n${portfolioStr}\n\nStart the interview with:\n1. A brief, warm introduction\n2. Ask your first technical question relevant to the role and the candidate's background\n\nKeep responses concise. This is an interactive interview.\n\nBEGIN:`;\n\n      const response = await callGeminiAPI(prompt);\n      setInterviewMessages([\n        {\n          role: \"interviewer\",\n          content: response,\n          timestamp: Date.now(),\n        },\n      ]);\n    } catch (error) {\n      setInterviewMessages([\n        {\n          role: \"interviewer\",\n          content:\n            \"Sorry, there was an error starting the interview. Please try again.\",\n          timestamp: Date.now(),\n        },\n      ]);\n    } finally {\n      setInterviewLoading(false);\n    }\n  };\n\n  const sendInterviewResponse = async () => {\n    if (!interviewInput.trim() || interviewLoading) return;\n\n    const userMessage = {\n      role: \"candidate\",\n      content: interviewInput,\n      timestamp: Date.now(),\n    };\n    setInterviewMessages((prev) => [...prev, userMessage]);\n    setInterviewInput(\"\");\n    setInterviewLoading(true);\n\n    try {\n      const conversationHistory = [...interviewMessages, userMessage]\n        .map(\n          (m) =>\n            `${m.role === \"interviewer\" ? \"Interviewer\" : \"Candidate\"}: ${\n              m.content\n            }`\n        )\n        .join(\"\\n\\n\");\n\n      const portfolioStr = JSON.stringify(portfolioKnowledge, null, 2);\n\n      const prompt = `You are conducting a technical interview for: ${interviewRole}\n\nCANDIDATE BACKGROUND:\n${portfolioStr}\n\nINTERVIEW SO FAR:\n${conversationHistory}\n\nAs the interviewer:\n1. Briefly acknowledge their response (what was good/could be improved)\n2. Ask a relevant follow-up question OR move to a new topic\n3. After 5-6 exchanges, provide final feedback and end the interview\n\nKeep responses concise and professional.\n\nINTERVIEWER RESPONSE:`;\n\n      const response = await callGeminiAPI(prompt);\n      setInterviewMessages((prev) => [\n        ...prev,\n        {\n          role: \"interviewer\",\n          content: response,\n          timestamp: Date.now(),\n        },\n      ]);\n    } catch (error) {\n      console.error(\"Interview error:\", error);\n    } finally {\n      setInterviewLoading(false);\n    }\n  };\n\n  // ===== AI LAB EXPERIMENTS =====\n  const experiments = [\n    {\n      id: \"vision\",\n      name: \" Vision Analysis\",\n      desc: \"Analyze images with AI\",\n      placeholder: \"Describe an image or paste an image URL...\",\n    },\n    {\n      id: \"code-review\",\n      name: \" Code Review\",\n      desc: \"Get AI code review\",\n      placeholder: \"Paste code to review...\",\n    },\n    {\n      id: \"architecture\",\n      name: \" System Design\",\n      desc: \"Get architecture suggestions\",\n      placeholder: \"Describe your system requirements...\",\n    },\n    {\n      id: \"debug\",\n      name: \" Debug Assistant\",\n      desc: \"Debug code issues\",\n      placeholder: \"Paste error message and code...\",\n    },\n    {\n      id: \"optimize\",\n      name: \" Performance Optimizer\",\n      desc: \"Optimize your code\",\n      placeholder: \"Paste code to optimize...\",\n    },\n    {\n      id: \"explain\",\n      name: \" Concept Explainer\",\n      desc: \"Explain complex topics\",\n      placeholder: \"What concept would you like explained?\",\n    },\n  ];\n\n  const runExperiment = async () => {\n    if (!labInput.trim()) return;\n\n    setLabLoading(true);\n    setLabOutput(null);\n\n    const prompts = {\n      vision: `You are a computer vision AI. Analyze this image description or URL and provide:\n1. Object Detection: What objects/people are likely present\n2. Scene Understanding: The context and setting\n3. Potential Actions: What's happening\n4. Technical Analysis: Lighting, composition, quality\n\nInput: ${labInput}\n\nProvide a detailed, professional analysis as if you're running through a vision model pipeline.`,\n\n      \"code-review\": `You are a senior code reviewer. Review this code thoroughly:\n\n${labInput}\n\nProvide:\n1. **Overall Assessment** (Good/Needs Work/Major Issues)\n2. **Code Quality Score**: X/10\n3. **Strengths**: What's done well\n4. **Issues Found**: Bugs, anti-patterns, security concerns\n5. **Suggestions**: Specific improvements with code examples\n6. **Best Practices**: Industry standards to follow`,\n\n      architecture: `You are a senior system architect. Design a system for:\n\n${labInput}\n\nProvide:\n1. **High-Level Architecture**: Components and their interactions\n2. **Technology Stack**: Recommended technologies\n3. **Database Design**: Data models and storage\n4. **API Design**: Key endpoints\n5. **Scalability Considerations**: How to scale\n6. **Security Measures**: Security best practices\n7. **ASCII Diagram**: Simple architecture diagram`,\n\n      debug: `You are an expert debugger. Analyze this error/code:\n\n${labInput}\n\nProvide:\n1. **Root Cause**: What's causing the issue\n2. **Explanation**: Why this happens\n3. **Solution**: Step-by-step fix\n4. **Fixed Code**: Corrected version\n5. **Prevention**: How to avoid this in future`,\n\n      optimize: `You are a performance optimization expert. Optimize this code:\n\n${labInput}\n\nProvide:\n1. **Current Issues**: Performance problems identified\n2. **Time Complexity**: Current vs optimized\n3. **Space Complexity**: Current vs optimized\n4. **Optimized Code**: Improved version\n5. **Benchmarks**: Expected improvements\n6. **Explanation**: Why these changes help`,\n\n      explain: `You are a world-class teacher. Explain this concept:\n\n${labInput}\n\nProvide:\n1. **Simple Explanation**: ELI5 version\n2. **Technical Deep Dive**: Detailed explanation\n3. **Real-World Analogy**: Relatable comparison\n4. **Code Example**: If applicable\n5. **Common Misconceptions**: What people get wrong\n6. **Further Learning**: Resources to explore`,\n    };\n\n    try {\n      const response = await callGeminiAPI(prompts[labExperiment], 2048);\n      setLabOutput({\n        experiment: labExperiment,\n        input: labInput,\n        output: response,\n        timestamp: Date.now(),\n      });\n    } catch (error) {\n      setLabOutput({ error: \"Experiment failed. Please try again.\" });\n    } finally {\n      setLabLoading(false);\n    }\n  };\n\n  // ===== PROJECT GENERATOR =====\n  const generateProjects = async () => {\n    setProjectLoading(true);\n    setGeneratedProjects([]);\n\n    try {\n      const prompt = `Generate 4 unique, impressive project ideas for an AI/ML engineer portfolio.\n\nPREFERENCES:\n- Domain: ${projectPrefs.domain || \"Any\"}\n- Difficulty: ${projectPrefs.difficulty}\n- Technologies: ${projectPrefs.tech || \"Open to suggestions\"}\n\nFor each project, provide (in JSON format):\n{\n  \"projects\": [\n    {\n      \"name\": \"Project Name\",\n      \"tagline\": \"One-line description\",\n      \"description\": \"2-3 sentence detailed description\",\n      \"techStack\": [\"Tech1\", \"Tech2\", \"Tech3\"],\n      \"difficulty\": \"Intermediate\",\n      \"timeline\": \"2-3 weeks\",\n      \"uniqueness\": \"What makes it stand out\",\n      \"learnings\": [\"Skill 1\", \"Skill 2\"],\n      \"icon\": \"emoji\"\n    }\n  ]\n}\n\nMake projects creative, technically impressive, and portfolio-worthy.`;\n\n      const response = await callGeminiAPI(prompt, 2048);\n      const jsonMatch = response.match(/\\{[\\s\\S]*\\}/);\n      if (jsonMatch) {\n        const data = JSON.parse(jsonMatch[0]);\n        setGeneratedProjects(data.projects || []);\n      }\n    } catch (error) {\n      console.error(\"Project generation error:\", error);\n    } finally {\n      setProjectLoading(false);\n    }\n  };\n\n  // ===== SAVE TO STORAGE =====\n  const saveToStorage = useCallback(\n    async (data) => {\n      const merged = { savedItems, notes, ...data };\n      localStorage.setItem(`userspace_${user?.uid}`, JSON.stringify(merged));\n\n      if (user) {\n        try {\n          const userRef = doc(db, \"users\", user.uid);\n          await updateDoc(userRef, data);\n        } catch (error) {\n          console.warn(\"Firestore save failed:\", error.message);\n        }\n      }\n    },\n    [user, savedItems, notes]\n  );\n\n  // ===== TOGGLE AGENT SELECTION =====\n  const toggleAgentSelection = (agentId) => {\n    setSelectedAgents((prev) => {\n      if (prev.includes(agentId)) {\n        return prev.filter((id) => id !== agentId);\n      }\n      return [...prev, agentId];\n    });\n  };\n\n  // ===== AUTO-SCROLL EFFECTS =====\n  useEffect(() => {\n    chatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [brainMessages]);\n\n  useEffect(() => {\n    interviewEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [interviewMessages]);\n\n  useEffect(() => {\n    agentChatEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n  }, [agentConversation]);\n\n  // // ===== RENDER KNOWLEDGE GRAPH =====\n  // useEffect(() => {\n  //   if (!graphCanvasRef.current || !knowledgeGraph || activeTab !== 'brain') return;\n\n  //   const canvas = graphCanvasRef.current;\n  //   const ctx = canvas.getContext('2d');\n  //   const rect = canvas.getBoundingClientRect();\n\n  //   canvas.width = rect.width * 2;\n  //   canvas.height = rect.height * 2;\n  //   ctx.scale(2, 2);\n\n  //   const centerX = rect.width / 2;\n  //   const centerY = rect.height / 2;\n\n  //   ctx.clearRect(0, 0, rect.width, rect.height);\n\n  //   // Draw edges\n  //   ctx.strokeStyle = 'rgba(100, 100, 100, 0.3)';\n  //   ctx.lineWidth = 1;\n  //   knowledgeGraph.edges.forEach(edge => {\n  //     const fromNode = knowledgeGraph.nodes.find(n => n.id === edge.from);\n  //     const toNode = knowledgeGraph.nodes.find(n => n.id === edge.to);\n  //     if (fromNode && toNode) {\n  //       ctx.beginPath();\n  //       ctx.moveTo(centerX + fromNode.x * 0.8, centerY + fromNode.y * 0.8);\n  //       ctx.lineTo(centerX + toNode.x * 0.8, centerY + toNode.y * 0.8);\n  //       ctx.stroke();\n  //     }\n  //   });\n\n  //   // Draw nodes\n  //   knowledgeGraph.nodes.forEach(node => {\n  //     const x = centerX + node.x * 0.8;\n  //     const y = centerY + node.y * 0.8;\n  //     const radius = node.type === 'profile' ? 25 : node.type === 'project' ? 18 : 12;\n\n  //     ctx.beginPath();\n  //     ctx.arc(x, y, radius, 0, Math.PI * 2);\n  //     ctx.fillStyle = node.color || '#4CAF50';\n  //     ctx.fill();\n\n  //     ctx.fillStyle = '#fff';\n  //     ctx.font = node.type === 'profile' ? 'bold 10px Arial' : '8px Arial';\n  //     ctx.textAlign = 'center';\n  //     ctx.textBaseline = 'middle';\n\n  //     const label = node.label.length > 12 ? node.label.substring(0, 10) + '...' : node.label;\n  //     ctx.fillText(label, x, y);\n  //   });\n\n  // }, [knowledgeGraph, activeTab]);\n  // ===== RENDER KNOWLEDGE GRAPH =====\n  // ===== RENDER KNOWLEDGE GRAPH =====\n  useEffect(() => {\n    if (!graphCanvasRef.current || !knowledgeGraph || activeTab !== \"brain\")\n      return;\n\n    const canvas = graphCanvasRef.current;\n    const ctx = canvas.getContext(\"2d\");\n    const rect = canvas.getBoundingClientRect();\n\n    canvas.width = rect.width * 2;\n    canvas.height = rect.height * 2;\n    ctx.scale(2, 2);\n\n    const centerX = rect.width / 2 + graphTransform.offsetX;\n    const centerY = rect.height / 2 + graphTransform.offsetY;\n    const scale = graphTransform.scale;\n\n    const animate = () => {\n      ctx.clearRect(0, 0, rect.width, rect.height);\n\n      // Draw background gradient\n      const bgGradient = ctx.createRadialGradient(\n        rect.width / 2,\n        rect.height / 2,\n        0,\n        rect.width / 2,\n        rect.height / 2,\n        rect.width / 2\n      );\n      bgGradient.addColorStop(0, \"rgba(30, 30, 50, 0.3)\");\n      bgGradient.addColorStop(1, \"rgba(10, 10, 20, 0.1)\");\n      ctx.fillStyle = bgGradient;\n      ctx.fillRect(0, 0, rect.width, rect.height);\n\n      // Store node positions for hit detection\n      nodePositionsRef.current = [];\n\n      // Draw edges with glow effect\n      knowledgeGraph.edges.forEach((edge) => {\n        const fromNode = knowledgeGraph.nodes.find((n) => n.id === edge.from);\n        const toNode = knowledgeGraph.nodes.find((n) => n.id === edge.to);\n        if (fromNode && toNode) {\n          const fromX = centerX + fromNode.x * 0.8 * scale;\n          const fromY = centerY + fromNode.y * 0.8 * scale;\n          const toX = centerX + toNode.x * 0.8 * scale;\n          const toY = centerY + toNode.y * 0.8 * scale;\n\n          const isHighlighted =\n            hoveredNode === fromNode.id ||\n            hoveredNode === toNode.id ||\n            selectedNode === fromNode.id ||\n            selectedNode === toNode.id;\n\n          // Draw edge glow\n          if (isHighlighted) {\n            ctx.strokeStyle = \"rgba(100, 200, 255, 0.4)\";\n            ctx.lineWidth = 4 * scale;\n            ctx.beginPath();\n\n            // Curved edge\n            const midX = (fromX + toX) / 2;\n            const midY = (fromY + toY) / 2 - 20 * scale;\n            ctx.moveTo(fromX, fromY);\n            ctx.quadraticCurveTo(midX, midY, toX, toY);\n            ctx.stroke();\n          }\n\n          // Draw main edge\n          const gradient = ctx.createLinearGradient(fromX, fromY, toX, toY);\n          gradient.addColorStop(0, fromNode.color || \"#4CAF50\");\n          gradient.addColorStop(1, toNode.color || \"#2196F3\");\n\n          ctx.strokeStyle = isHighlighted\n            ? gradient\n            : \"rgba(100, 120, 150, 0.25)\";\n          ctx.lineWidth = isHighlighted ? 2.5 * scale : 1.5 * scale;\n          ctx.lineCap = \"round\";\n\n          ctx.beginPath();\n          const midX = (fromX + toX) / 2;\n          const midY = (fromY + toY) / 2 - 15 * scale;\n          ctx.moveTo(fromX, fromY);\n          ctx.quadraticCurveTo(midX, midY, toX, toY);\n          ctx.stroke();\n\n          // Draw arrow\n          const angle = Math.atan2(toY - midY, toX - midX);\n          const arrowSize = 6 * scale;\n          ctx.fillStyle = isHighlighted ? gradient : \"rgba(100, 120, 150, 0.4)\";\n          ctx.beginPath();\n          ctx.moveTo(toX, toY);\n          ctx.lineTo(\n            toX - arrowSize * Math.cos(angle - Math.PI / 6),\n            toY - arrowSize * Math.sin(angle - Math.PI / 6)\n          );\n          ctx.lineTo(\n            toX - arrowSize * Math.cos(angle + Math.PI / 6),\n            toY - arrowSize * Math.sin(angle + Math.PI / 6)\n          );\n          ctx.closePath();\n          ctx.fill();\n        }\n      });\n\n      // Draw nodes with effects\n      knowledgeGraph.nodes.forEach((node, index) => {\n        const x = centerX + node.x * 0.8 * scale;\n        const y = centerY + node.y * 0.8 * scale;\n        const baseRadius =\n          node.type === \"profile\" ? 28 : node.type === \"project\" ? 20 : 14;\n        const radius = baseRadius * scale;\n\n        const isHovered = hoveredNode === node.id;\n        const isSelected = selectedNode === node.id;\n        const pulseRadius = isHovered || isSelected ? radius * 1.15 : radius;\n\n        // Store position for hit detection\n        nodePositionsRef.current.push({\n          id: node.id,\n          x,\n          y,\n          radius: pulseRadius,\n          node,\n        });\n\n        // Draw outer glow\n        if (isHovered || isSelected) {\n          const glowGradient = ctx.createRadialGradient(\n            x,\n            y,\n            radius * 0.5,\n            x,\n            y,\n            radius * 2.5\n          );\n          glowGradient.addColorStop(0, (node.color || \"#4CAF50\") + \"60\");\n          glowGradient.addColorStop(0.5, (node.color || \"#4CAF50\") + \"20\");\n          glowGradient.addColorStop(1, \"transparent\");\n          ctx.fillStyle = glowGradient;\n          ctx.beginPath();\n          ctx.arc(x, y, radius * 2.5, 0, Math.PI * 2);\n          ctx.fill();\n        }\n\n        // Draw pulse ring for selected\n        if (isSelected) {\n          ctx.strokeStyle = (node.color || \"#4CAF50\") + \"80\";\n          ctx.lineWidth = 2 * scale;\n          ctx.setLineDash([5, 5]);\n          ctx.beginPath();\n          ctx.arc(x, y, radius * 1.8, 0, Math.PI * 2);\n          ctx.stroke();\n          ctx.setLineDash([]);\n        }\n\n        // Draw node shadow\n        ctx.shadowColor = node.color || \"#4CAF50\";\n        ctx.shadowBlur = isHovered || isSelected ? 20 : 8;\n        ctx.shadowOffsetX = 0;\n        ctx.shadowOffsetY = 2;\n\n        // Draw main node with gradient\n        const nodeGradient = ctx.createRadialGradient(\n          x - radius * 0.3,\n          y - radius * 0.3,\n          0,\n          x,\n          y,\n          radius\n        );\n        const baseColor = node.color || \"#4CAF50\";\n        nodeGradient.addColorStop(0, lightenColor(baseColor, 40));\n        nodeGradient.addColorStop(0.7, baseColor);\n        nodeGradient.addColorStop(1, darkenColor(baseColor, 20));\n\n        ctx.beginPath();\n        ctx.arc(x, y, pulseRadius, 0, Math.PI * 2);\n        ctx.fillStyle = nodeGradient;\n        ctx.fill();\n\n        // Draw border\n        ctx.shadowBlur = 0;\n        ctx.strokeStyle =\n          isHovered || isSelected ? \"#fff\" : \"rgba(255,255,255,0.3)\";\n        ctx.lineWidth = isHovered || isSelected ? 2.5 * scale : 1.5 * scale;\n        ctx.stroke();\n\n        // Draw icon based on type\n        ctx.fillStyle = \"#fff\";\n        const icon =\n          node.type === \"profile\"\n            ? \"\"\n            : node.type === \"project\"\n            ? \"\"\n            : \"\";\n        ctx.font = `${radius * 0.6}px Arial`;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n        ctx.fillText(icon, x, y - radius * 0.15);\n\n        // Draw label\n        ctx.fillStyle = \"#fff\";\n        ctx.font = `${isHovered || isSelected ? \"bold \" : \"\"}${Math.max(\n          8,\n          radius * 0.35\n        )}px 'Segoe UI', Arial`;\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"middle\";\n\n        const label =\n          node.label.length > 15\n            ? node.label.substring(0, 13) + \"...\"\n            : node.label;\n        ctx.fillText(label, x, y + radius * 0.45);\n\n        // Draw badge for connection count\n        const connections = knowledgeGraph.edges.filter(\n          (e) => e.from === node.id || e.to === node.id\n        ).length;\n        if (connections > 0) {\n          const badgeX = x + radius * 0.7;\n          const badgeY = y - radius * 0.7;\n          const badgeRadius = Math.max(8, radius * 0.35);\n\n          ctx.beginPath();\n          ctx.arc(badgeX, badgeY, badgeRadius, 0, Math.PI * 2);\n          ctx.fillStyle = \"#ff6b6b\";\n          ctx.fill();\n          ctx.strokeStyle = \"#fff\";\n          ctx.lineWidth = 1.5;\n          ctx.stroke();\n\n          ctx.fillStyle = \"#fff\";\n          ctx.font = `bold ${badgeRadius}px Arial`;\n          ctx.fillText(connections.toString(), badgeX, badgeY);\n        }\n      });\n\n      // Draw tooltip for hovered node\n      if (hoveredNode) {\n        const nodeData = nodePositionsRef.current.find(\n          (n) => n.id === hoveredNode\n        );\n        if (nodeData) {\n          const tooltipX = nodeData.x + nodeData.radius + 10;\n          const tooltipY = nodeData.y - 30;\n          const tooltipWidth = 150;\n          const tooltipHeight = 60;\n\n          // Tooltip background\n          ctx.fillStyle = \"rgba(20, 20, 35, 0.95)\";\n          ctx.strokeStyle = nodeData.node.color || \"#4CAF50\";\n          ctx.lineWidth = 2;\n          roundRect(ctx, tooltipX, tooltipY, tooltipWidth, tooltipHeight, 8);\n          ctx.fill();\n          ctx.stroke();\n\n          // Tooltip content\n          ctx.fillStyle = \"#fff\";\n          ctx.font = \"bold 11px Segoe UI\";\n          ctx.textAlign = \"left\";\n          ctx.textBaseline = \"top\";\n          ctx.fillText(nodeData.node.label, tooltipX + 10, tooltipY + 10);\n\n          ctx.fillStyle = \"rgba(255,255,255,0.7)\";\n          ctx.font = \"10px Segoe UI\";\n          ctx.fillText(\n            `Type: ${nodeData.node.type}`,\n            tooltipX + 10,\n            tooltipY + 28\n          );\n\n          const connections = knowledgeGraph.edges.filter(\n            (e) => e.from === nodeData.id || e.to === nodeData.id\n          ).length;\n          ctx.fillText(\n            `Connections: ${connections}`,\n            tooltipX + 10,\n            tooltipY + 42\n          );\n        }\n      }\n    };\n\n    // Helper functions\n    function lightenColor(color, percent) {\n      const num = parseInt(color.replace(\"#\", \"\"), 16);\n      const amt = Math.round(2.55 * percent);\n      const R = Math.min(255, (num >> 16) + amt);\n      const G = Math.min(255, ((num >> 8) & 0x00ff) + amt);\n      const B = Math.min(255, (num & 0x0000ff) + amt);\n      return `rgb(${R},${G},${B})`;\n    }\n\n    function darkenColor(color, percent) {\n      const num = parseInt(color.replace(\"#\", \"\"), 16);\n      const amt = Math.round(2.55 * percent);\n      const R = Math.max(0, (num >> 16) - amt);\n      const G = Math.max(0, ((num >> 8) & 0x00ff) - amt);\n      const B = Math.max(0, (num & 0x0000ff) - amt);\n      return `rgb(${R},${G},${B})`;\n    }\n\n    function roundRect(ctx, x, y, w, h, r) {\n      ctx.beginPath();\n      ctx.moveTo(x + r, y);\n      ctx.lineTo(x + w - r, y);\n      ctx.quadraticCurveTo(x + w, y, x + w, y + r);\n      ctx.lineTo(x + w, y + h - r);\n      ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);\n      ctx.lineTo(x + r, y + h);\n      ctx.quadraticCurveTo(x, y + h, x, y + h - r);\n      ctx.lineTo(x, y + r);\n      ctx.quadraticCurveTo(x, y, x + r, y);\n      ctx.closePath();\n    }\n\n    animate();\n  }, [knowledgeGraph, activeTab, hoveredNode, selectedNode, graphTransform]);\n\n  // ===== GRAPH MOUSE HANDLERS =====\n  const handleGraphMouseMove = (e) => {\n    if (!graphCanvasRef.current || !nodePositionsRef.current) return;\n\n    const canvas = graphCanvasRef.current;\n    const rect = canvas.getBoundingClientRect();\n    const x = e.clientX - rect.left;\n    const y = e.clientY - rect.top;\n\n    if (isDragging) {\n      setGraphTransform((prev) => ({\n        ...prev,\n        offsetX: prev.offsetX + (e.clientX - dragStart.x),\n        offsetY: prev.offsetY + (e.clientY - dragStart.y),\n      }));\n      setDragStart({ x: e.clientX, y: e.clientY });\n      return;\n    }\n\n    let foundNode = null;\n    for (const nodePos of nodePositionsRef.current) {\n      const distance = Math.sqrt((x - nodePos.x) ** 2 + (y - nodePos.y) ** 2);\n      if (distance <= nodePos.radius) {\n        foundNode = nodePos.id;\n        break;\n      }\n    }\n\n    setHoveredNode(foundNode);\n    canvas.style.cursor = foundNode\n      ? \"pointer\"\n      : isDragging\n      ? \"grabbing\"\n      : \"grab\";\n  };\n\n  const handleGraphClick = (e) => {\n    if (hoveredNode) {\n      setSelectedNode((prev) => (prev === hoveredNode ? null : hoveredNode));\n    }\n  };\n\n  const handleGraphMouseDown = (e) => {\n    if (!hoveredNode) {\n      setIsDragging(true);\n      setDragStart({ x: e.clientX, y: e.clientY });\n    }\n  };\n\n  const handleGraphMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  const handleGraphWheel = (e) => {\n    e.preventDefault();\n    const delta = e.deltaY > 0 ? 0.9 : 1.1;\n    setGraphTransform((prev) => ({\n      ...prev,\n      scale: Math.min(3, Math.max(0.3, prev.scale * delta)),\n    }));\n  };\n\n  const resetGraphView = () => {\n    setGraphTransform({ scale: 1, offsetX: 0, offsetY: 0 });\n    setSelectedNode(null);\n  }; // ===== GREETING =====\n  const getGreeting = () => {\n    const hour = new Date().getHours();\n    if (hour < 12) return \"Good morning\";\n    if (hour < 17) return \"Good afternoon\";\n    return \"Good evening\";\n  };\n  // ===== NOT LOGGED IN =====\n  // ... other imports\n\n  // Inside your component...\n\n  // ===== NOT LOGGED IN =====\n  // import LoginButton from \"../../components/auth/LoginButton\";\n  // ... imports\n\n  // Inside your component function...\n\n  // ===== NOT LOGGED IN (Professional View) =====\n  if (!user) {\n    return (\n      <div className=\"userspace-wrapper\">\n        <Header theme={theme} setTheme={setTheme} />\n\n        <div className=\"userspace-backdrop\" style={{ background: theme.body }}>\n          {/* Technical Grid Background */}\n          <div className=\"tech-grid-overlay\"></div>\n\n          <div className=\"access-card\">\n            {/* Header Section */}\n            <div className=\"card-header\">\n              <div className=\"lock-icon-container\">\n                <div className=\"lock-ring\"></div>\n                <span className=\"lock-emoji\"></span>\n              </div>\n              <h2 className=\"access-title\">Authentication Required</h2>\n              <p className=\"access-subtitle\">\n                Please sign in to access your personalized\n                <span className=\"highlight-text\"> AI Workspace</span>.\n              </p>\n            </div>\n\n            {/* Features List - Professional List Style */}\n            <div className=\"features-container\">\n              <div className=\"feature-row\">\n                <div className=\"feature-icon\"></div>\n                <div className=\"feature-text\">\n                  <span className=\"f-title\">RAG Neural Engine</span>\n                  <span className=\"f-desc\">\n                    Context-aware knowledge base interaction\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"feature-row\">\n                <div className=\"feature-icon\"></div>\n                <div className=\"feature-text\">\n                  <span className=\"f-title\">Multi-Agent Systems</span>\n                  <span className=\"f-desc\">\n                    Autonomous task orchestration & analysis\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"feature-row\">\n                <div className=\"feature-icon\"></div>\n                <div className=\"feature-text\">\n                  <span className=\"f-title\">Skill Analytics</span>\n                  <span className=\"f-desc\">\n                    Real-time professional growth tracking\n                  </span>\n                </div>\n              </div>\n            </div>\n\n            {/* Footer / Action */}\n            <div className=\"card-footer\">\n              <div className=\"login-wrapper\">\n                <LoginButton theme={theme} />\n              </div>\n              <p className=\"security-note\">\n                <span className=\"secure-dot\"></span> Secure SSL Connection\n              </p>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n  // ===== LOADING =====\n  if (isLoading) {\n    return (\n      <div>\n        <Header theme={theme} setTheme={setTheme} />\n        <div\n          className=\"userspace-container\"\n          data-theme={\n            theme?.text !== \"#ffffff\" && theme?.text !== \"#fff\"\n              ? \"light\"\n              : \"dark\"\n          }\n        >\n          <div className=\"userspace-loading\">\n            <div className=\"loading-spinner\"></div>\n            <p style={{ color: theme?.text }}>\n              Initializing AI Experience Center...\n            </p>\n            <p className=\"loading-substatus\">\n              Setting up RAG system & Agents...\n            </p>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  // ===== TAB DEFINITIONS =====\n  const tabs = [\n    {\n      id: \"brain\",\n      label: \"AI Brain\",\n      icon: \"\",\n      desc: \"RAG-powered assistant\",\n    },\n    {\n      id: \"agents\",\n      label: \"Multi-Agent\",\n      icon: \"\",\n      desc: \"6 specialized agents\",\n    },\n    {\n      id: \"Intelligent\",\n      label: \"Resume-Agent\",\n      icon: \"\",\n      desc: \"Resume wrapper Agent\",\n    },\n    {\n      id: \"skills\",\n      label: \"Skill Match\",\n      icon: \"\",\n      desc: \"Match skills to jobs\",\n    },\n    {\n      id: \"interview\",\n      label: \"Mock Interview\",\n      icon: \"\",\n      desc: \"Practice with AI\",\n    },\n    { id: \"lab\", label: \"AI Lab\", icon: \"\", desc: \"Experiments\" },\n    {\n      id: \"projects\",\n      label: \"Idea Generator\",\n      icon: \"\",\n      desc: \"Project ideas\",\n    },\n  ];\n  //  REPLACE YOUR EXISTING isLightMode FUNCTION WITH THIS\n  const isLightMode = () => {\n    if (!theme) return false;\n\n    // Method 1: Check the explicit name property (Best/Safest)\n    if (theme.name === \"light\") return true;\n    if (theme.name === \"dark\") return false;\n\n    // Method 2: Check if theme itself is a string\n    if (typeof theme === \"string\") return theme === \"light\";\n\n    // Method 3: Fallback - Check specific light background colors\n    // (Added #fff5ee based on your logs)\n    const bg = theme.body?.toLowerCase() || \"\";\n    const lightBackgrounds = [\n      \"#ffffff\",\n      \"#fff\",\n      \"#f5f5f5\",\n      \"#fafafa\",\n      \"#f0f0f0\",\n      \"#fff5ee\",\n      \"#f7faff\",\n    ];\n\n    return lightBackgrounds.includes(bg);\n  };\n\n  const themeMode = isLightMode() ? \"light\" : \"dark\";\n  console.log(\"Current Theme Prop:\", theme);\n  console.log(\"Calculated Mode:\", themeMode);\n  // ===== MAIN RENDER =====\n  return (\n    <div>\n      <Header theme={theme} setTheme={setTheme} />\n\n      <div className=\"userspace-container\" data-theme={themeMode}>\n        {firestoreError && (\n          <div className=\"firestore-error-banner\">\n            <span></span>\n            <span>Cloud sync unavailable. Data saved locally.</span>\n          </div>\n        )}\n\n        {/* Hero Section */}\n        <div className=\"userspace-hero enhanced\">\n          <div className=\"hero-particles\">\n            {[...Array(20)].map((_, i) => (\n              <div\n                key={i}\n                className=\"particle\"\n                style={{\n                  left: `${Math.random() * 100}%`,\n                  animationDelay: `${Math.random() * 5}s`,\n                  animationDuration: `${3 + Math.random() * 4}s`,\n                }}\n              />\n            ))}\n          </div>\n          <div className=\"hero-content\">\n            <div className=\"user-info-hero\">\n              <h1>\n                {getGreeting()}, {user.displayName?.split(\" \")[0]}!\n                <span className=\"wave\"></span>\n              </h1>\n              <p>\n                Welcome to the{\" \"}\n                <span className=\"highlight\">AI Experience Center</span>\n              </p>\n\n              {/* RAG Status Indicator */}\n              <div className=\"rag-status\">\n                <span\n                  className={`status-dot ${\n                    ragInitialized ? \"online\" : \"offline\"\n                  }`}\n                ></span>\n                <span className=\"status-text\">\n                  {ragInitialized ? \"RAG System Active\" : \"RAG Initializing...\"}\n                </span>\n                {ragInitialized && (\n                  <span className=\"status-stats\">\n                    {metrics.requestCount} queries |{\" \"}\n                    {metrics.totalTokens.toLocaleString()} tokens\n                  </span>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Tab Navigation */}\n        <div className=\"userspace-tabs enhanced\">\n          {tabs.map((tab) => (\n            <button\n              key={tab.id}\n              className={`tab-btn ${activeTab === tab.id ? \"active\" : \"\"}`}\n              onClick={() => setActiveTab(tab.id)}\n            >\n              <span className=\"tab-icon\">{tab.icon}</span>\n              <div className=\"tab-text\">\n                <span className=\"tab-label\">{tab.label}</span>\n                <span className=\"tab-desc\">{tab.desc}</span>\n              </div>\n            </button>\n          ))}\n        </div>\n\n        {/* Tab Content */}\n        <div className=\"userspace-content\">\n          {/* ===== AI BRAIN TAB (RAG-Powered) ===== */}\n          {activeTab === \"brain\" && (\n            <div className=\"tab-content brain\">\n              <div className=\"section-header\">\n                <h2>\n                   AI Portfolio Brain{\" \"}\n                  <span className=\"badge\">RAG-Powered</span>\n                </h2>\n                <p>\n                  Ask anything about Laxman's projects, skills, or experience\n                </p>\n              </div>\n\n              <div className=\"brain-layout\">\n                {/* Knowledge Graph Visualization */}\n\n                <div className=\"knowledge-graph-section\">\n                  <div className=\"section-mini-header\">\n                    <h3>Knowledge Graph</h3>\n                    <div className=\"graph-controls\">\n                      <span className=\"node-count\">\n                        <span className=\"count-badge\">\n                          {knowledgeGraph?.nodes.length || 0}\n                        </span>{\" \"}\n                        nodes\n                        <span className=\"separator\"></span>\n                        <span className=\"count-badge\">\n                          {knowledgeGraph?.edges.length || 0}\n                        </span>{\" \"}\n                        edges\n                      </span>\n                      <div className=\"graph-actions\">\n                        <button\n                          className=\"graph-control-btn\"\n                          onClick={() =>\n                            setGraphTransform((prev) => ({\n                              ...prev,\n                              scale: Math.min(3, prev.scale * 1.2),\n                            }))\n                          }\n                          title=\"Zoom In\"\n                        >\n                          <span>+</span>\n                        </button>\n                        <button\n                          className=\"graph-control-btn\"\n                          onClick={() =>\n                            setGraphTransform((prev) => ({\n                              ...prev,\n                              scale: Math.max(0.3, prev.scale * 0.8),\n                            }))\n                          }\n                          title=\"Zoom Out\"\n                        >\n                          <span></span>\n                        </button>\n                        <button\n                          className=\"graph-control-btn reset\"\n                          onClick={resetGraphView}\n                          title=\"Reset View\"\n                        >\n                          <span></span>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div className=\"graph-canvas-wrapper\">\n                    <canvas\n                      ref={graphCanvasRef}\n                      className=\"knowledge-graph-canvas\"\n                      onMouseMove={handleGraphMouseMove}\n                      onClick={handleGraphClick}\n                      onMouseDown={handleGraphMouseDown}\n                      onMouseUp={handleGraphMouseUp}\n                      onMouseLeave={() => {\n                        setHoveredNode(null);\n                        setIsDragging(false);\n                      }}\n                      onWheel={handleGraphWheel}\n                    />\n\n                    {selectedNode && (\n                      <div className=\"selected-node-panel\">\n                        <div className=\"panel-header\">\n                          <span className=\"panel-icon\">\n                            {knowledgeGraph?.nodes.find(\n                              (n) => n.id === selectedNode\n                            )?.type === \"profile\"\n                              ? \"\"\n                              : knowledgeGraph?.nodes.find(\n                                  (n) => n.id === selectedNode\n                                )?.type === \"project\"\n                              ? \"\"\n                              : \"\"}\n                          </span>\n                          <span className=\"panel-title\">\n                            {\n                              knowledgeGraph?.nodes.find(\n                                (n) => n.id === selectedNode\n                              )?.label\n                            }\n                          </span>\n                          <button\n                            className=\"panel-close\"\n                            onClick={() => setSelectedNode(null)}\n                          >\n                            \n                          </button>\n                        </div>\n                        <div className=\"panel-content\">\n                          <div className=\"panel-stat\">\n                            <span className=\"stat-label\">Type</span>\n                            <span className=\"stat-value\">\n                              {\n                                knowledgeGraph?.nodes.find(\n                                  (n) => n.id === selectedNode\n                                )?.type\n                              }\n                            </span>\n                          </div>\n                          <div className=\"panel-stat\">\n                            <span className=\"stat-label\">Connections</span>\n                            <span className=\"stat-value\">\n                              {\n                                knowledgeGraph?.edges.filter(\n                                  (e) =>\n                                    e.from === selectedNode ||\n                                    e.to === selectedNode\n                                ).length\n                              }\n                            </span>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n\n                    <div className=\"graph-legend\">\n                      <div className=\"legend-item\">\n                        <span className=\"legend-dot profile\"></span> Profile\n                      </div>\n                      <div className=\"legend-item\">\n                        <span className=\"legend-dot project\"></span> Project\n                      </div>\n                      <div className=\"legend-item\">\n                        <span className=\"legend-dot skill\"></span> Skill\n                      </div>\n                    </div>\n\n                    <div className=\"graph-hint\">\n                      {isDragging\n                        ? \" Dragging...\"\n                        : hoveredNode\n                        ? \" Click to select\"\n                        : \" Drag to pan  Scroll to zoom\"}\n                    </div>\n                  </div>\n                </div>\n                <div className=\"brain-container\">\n                  <div className=\"brain-suggestions\">\n                    <p>Try asking:</p>\n                    <div className=\"suggestions-grid\">\n                      {[\n                        \"What AI projects has Laxman worked on?\",\n                        \"Tell me about the CamsLens project\",\n                        \"What's Laxman's experience with LLMs?\",\n                        \"What makes Laxman stand out as a developer?\",\n                      ].map((suggestion, i) => (\n                        <button\n                          key={i}\n                          className=\"suggestion-chip\"\n                          onClick={() => setBrainInput(suggestion)}\n                        >\n                          {suggestion}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  {/* Retrieval Steps Toggle */}\n                  <div className=\"retrieval-toggle\">\n                    <label>\n                      <input\n                        type=\"checkbox\"\n                        checked={showRetrievalSteps}\n                        onChange={() =>\n                          setShowRetrievalSteps(!showRetrievalSteps)\n                        }\n                      />\n                      <span>Show Retrieval Steps</span>\n                    </label>\n                  </div>\n\n                  <div className=\"brain-chat\">\n                    <div className=\"chat-messages\">\n                      {brainMessages.length === 0 && (\n                        <div className=\"chat-welcome\">\n                          <span className=\"welcome-icon\"></span>\n                          <h3>Hi! I'm Laxman's RAG-Powered AI Assistant</h3>\n                          <p>\n                            I use vector embeddings to retrieve relevant\n                            information from his portfolio. Ask me anything!\n                          </p>\n                          <div className=\"rag-features\">\n                            <span> Semantic Search</span>\n                            <span> Document Retrieval</span>\n                            <span> Context-Aware</span>\n                          </div>\n                        </div>\n                      )}\n\n                      {brainMessages.map((msg, i) => (\n                        <div key={i} className={`chat-message ${msg.role}`}>\n                          <div className=\"message-avatar\">\n                            {msg.role === \"user\" ? \"\" : \"\"}\n                          </div>\n                          <div className=\"message-content\">\n                            {msg.content}\n\n                            {/* Show retrieved docs for assistant messages */}\n                            {msg.role === \"assistant\" &&\n                              showRetrievalSteps &&\n                              retrievedDocs.length > 0 &&\n                              i === brainMessages.length - 1 && (\n                                <div className=\"retrieved-docs\">\n                                  <h4> Retrieved Context:</h4>\n                                  {retrievedDocs.map((doc, j) => (\n                                    <div key={j} className=\"retrieved-doc\">\n                                      <span className=\"doc-score\">\n                                        {(doc.score * 100).toFixed(1)}% match\n                                      </span>\n                                      <span className=\"doc-type\">\n                                        {doc.metadata?.type}\n                                      </span>\n                                      <p className=\"doc-content\">\n                                        {doc.content.substring(0, 150)}...\n                                      </p>\n                                    </div>\n                                  ))}\n                                </div>\n                              )}\n                          </div>\n                        </div>\n                      ))}\n\n                      {brainLoading && (\n                        <div className=\"chat-message assistant\">\n                          <div className=\"message-avatar\"></div>\n                          <div className=\"message-content loading\">\n                            <div className=\"rag-loading\">\n                              <span className=\"loading-step active\">\n                                 Searching vectors...\n                              </span>\n                              <span className=\"loading-step\">\n                                 Retrieving docs...\n                              </span>\n                              <span className=\"loading-step\">\n                                 Generating response...\n                              </span>\n                            </div>\n                          </div>\n                        </div>\n                      )}\n                      <div ref={chatEndRef} />\n                    </div>\n\n                    <div className=\"chat-input-container\">\n                      <input\n                        type=\"text\"\n                        value={brainInput}\n                        onChange={(e) => setBrainInput(e.target.value)}\n                        onKeyPress={(e) =>\n                          e.key === \"Enter\" && handleBrainQuery()\n                        }\n                        placeholder=\"Ask about projects, skills, experience...\"\n                        disabled={brainLoading}\n                      />\n                      <button\n                        onClick={handleBrainQuery}\n                        disabled={brainLoading || !brainInput.trim()}\n                        className=\"send-btn\"\n                      >\n                        {brainLoading ? \"...\" : \"\"}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* ===== MULTI-AGENT ORCHESTRATION TAB ===== */}\n          {activeTab === \"agents\" && (\n            <div className=\"tab-content agents\">\n              <div className=\"section-header\">\n                <h2>\n                   Multi-Agent Orchestration{\" \"}\n                  <span className=\"badge\">6 Agents</span>\n                </h2>\n                <p>\n                  Watch specialized AI agents collaborate to solve complex tasks\n                </p>\n              </div>\n\n              <div className=\"agents-container\">\n                {/* Agent Selection */}\n                <div className=\"agent-selector\">\n                  <h3>Select Agents:</h3>\n                  <div className=\"agent-grid\">\n                    {Object.values(AGENT_DEFINITIONS).map((agent) => (\n                      <button\n                        key={agent.id}\n                        className={`agent-select-btn ${\n                          selectedAgents.includes(agent.id) ? \"selected\" : \"\"\n                        }`}\n                        onClick={() => toggleAgentSelection(agent.id)}\n                        style={{\n                          borderColor: selectedAgents.includes(agent.id)\n                            ? agent.color\n                            : \"transparent\",\n                          background: selectedAgents.includes(agent.id)\n                            ? `${agent.color}15`\n                            : \"transparent\",\n                        }}\n                      >\n                        <span className=\"agent-icon\">{agent.icon}</span>\n                        <span className=\"agent-name\">{agent.name}</span>\n                        <span className=\"agent-expertise\">\n                          {agent.expertise.slice(0, 2).join(\", \")}\n                        </span>\n                      </button>\n                    ))}\n                  </div>\n                </div>\n\n                {/* Active Agents Status */}\n                {activeAgents.length > 0 && (\n                  <div className=\"active-agents-bar\">\n                    {activeAgents.map((agent) => (\n                      <div\n                        key={agent.id}\n                        className={`agent-status-chip ${agent.status}`}\n                        style={{ borderColor: agent.color }}\n                      >\n                        <span className=\"agent-chip-icon\">{agent.icon}</span>\n                        <span className=\"agent-chip-name\">{agent.name}</span>\n                        <span className={`agent-chip-status ${agent.status}`}>\n                          {agent.status === \"thinking\" && \"\"}\n                          {agent.status === \"complete\" && \"\"}\n                          {agent.status === \"error\" && \"\"}\n                        </span>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {/* Task Input */}\n                <div className=\"agent-task-input\">\n                  <h3>Give the agents a task:</h3>\n                  <textarea\n                    value={agentTask}\n                    onChange={(e) => setAgentTask(e.target.value)}\n                    placeholder=\"Example tasks:\n Analyze my portfolio and suggest improvements\n How should I prepare for a senior ML engineer interview?\n Create a strategy for transitioning to AI research\n Compare my skills against FAANG requirements\"\n                    rows={4}\n                  />\n                  <button\n                    onClick={runMultiAgentTask}\n                    disabled={\n                      agentRunning ||\n                      !agentTask.trim() ||\n                      selectedAgents.length === 0\n                    }\n                    className=\"run-agents-btn\"\n                  >\n                    {agentRunning ? (\n                      <>\n                        <span className=\"btn-spinner\"></span>\n                        Agents Working...\n                      </>\n                    ) : (\n                      <>\n                         Run {selectedAgents.length} Agent\n                        {selectedAgents.length > 1 ? \"s\" : \"\"}\n                      </>\n                    )}\n                  </button>\n                </div>\n\n                {/* Agent Conversation */}\n                {agentConversation.length > 0 && (\n                  <div className=\"agent-conversation\">\n                    {agentConversation.map((msg, i) => (\n                      <div\n                        key={i}\n                        className={`agent-message ${msg.type}`}\n                        style={msg.color ? { borderLeftColor: msg.color } : {}}\n                      >\n                        {msg.type === \"orchestrator\" && (\n                          <div className=\"message-header orchestrator\">\n                            <span className=\"msg-icon\"></span>\n                            <span className=\"msg-sender\">Orchestrator</span>\n                          </div>\n                        )}\n                        {msg.type === \"agent-start\" && (\n                          <div className=\"message-header agent-start\">\n                            <span className=\"msg-icon\">{msg.icon}</span>\n                            <span className=\"msg-sender\">{msg.agentName}</span>\n                            <span className=\"msg-status\">analyzing...</span>\n                          </div>\n                        )}\n                        {msg.type === \"agent-response\" && (\n                          <div\n                            className=\"message-header agent-response\"\n                            style={{ color: msg.color }}\n                          >\n                            <span className=\"msg-icon\">{msg.icon}</span>\n                            <span className=\"msg-sender\">{msg.agentName}</span>\n                          </div>\n                        )}\n                        {msg.type === \"error\" && (\n                          <div className=\"message-header error\">\n                            <span className=\"msg-icon\"></span>\n                            <span className=\"msg-sender\">Error</span>\n                          </div>\n                        )}\n                        <div\n                          className={`message-body ${\n                            msg.isFinal ? \"final\" : \"\"\n                          }`}\n                        >\n                          {msg.content}\n                        </div>\n                      </div>\n                    ))}\n                    <div ref={agentChatEndRef} />\n                  </div>\n                )}\n\n                {/* Placeholder when no conversation */}\n                {!agentRunning && agentConversation.length === 0 && (\n                  <div className=\"agents-placeholder\">\n                    <div className=\"agents-animation\">\n                      {Object.values(AGENT_DEFINITIONS)\n                        .slice(0, 3)\n                        .map((agent, i) => (\n                          <span\n                            key={agent.id}\n                            className=\"floating-agent\"\n                            style={{ animationDelay: `${i * 0.2}s` }}\n                          >\n                            {agent.icon}\n                          </span>\n                        ))}\n                    </div>\n                    <h3>Multi-Agent System Ready</h3>\n                    <p>\n                      Select agents and enter a task to see AI collaboration in\n                      action\n                    </p>\n                    <div className=\"agent-capabilities\">\n                      <span> Portfolio Analysis</span>\n                      <span> Research</span>\n                      <span> Skills Assessment</span>\n                      <span> Strategy</span>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* ===== SKILL MATCH TAB ===== */}\n          {activeTab === \"skills\" && (\n            <div className=\"tab-content skills\">\n              <div className=\"section-header\">\n                <h2> Skill Match Analyzer</h2>\n                <p>Paste a job description to see how Laxman's skills match</p>\n              </div>\n\n              <div className=\"skills-container\">\n                <div className=\"skills-input-section\">\n                  <textarea\n                    value={jobDescription}\n                    onChange={(e) => setJobDescription(e.target.value)}\n                    placeholder=\"Paste the job description here...\n\nExample:\nWe're looking for a Senior AI Engineer with experience in:\n- Python, TensorFlow, PyTorch\n- LLMs and NLP\n- React/Node.js\n- Cloud platforms (AWS/GCP)\"\n                    rows={12}\n                  />\n                  <button\n                    onClick={analyzeSkillMatch}\n                    disabled={skillLoading || !jobDescription.trim()}\n                    className=\"analyze-btn\"\n                  >\n                    {skillLoading ? (\n                      <>\n                        <span className=\"btn-spinner\"></span>\n                        Analyzing...\n                      </>\n                    ) : (\n                      <> Analyze Match</>\n                    )}\n                  </button>\n                </div>\n\n                {skillAnalysis && !skillAnalysis.error && (\n                  <div className=\"skills-analysis\">\n                    <div className=\"match-score-card\">\n                      <div\n                        className=\"score-circle\"\n                        style={{\n                          \"--score\": skillAnalysis.overallMatch,\n                        }}\n                      >\n                        <span className=\"score-value\">\n                          {skillAnalysis.overallMatch}%\n                        </span>\n                      </div>\n                      <div className=\"score-info\">\n                        <h3>{skillAnalysis.matchLevel}</h3>\n                        <p>{skillAnalysis.summary}</p>\n                      </div>\n                    </div>\n\n                    <div className=\"analysis-grid\">\n                      <div className=\"analysis-card matched\">\n                        <h4> Matched Skills</h4>\n                        <div className=\"skill-tags\">\n                          {skillAnalysis.matchedSkills?.map((skill, i) => (\n                            <div\n                              key={i}\n                              className={`skill-tag ${skill.relevance}`}\n                            >\n                              <span className=\"skill-name\">{skill.skill}</span>\n                              <span className=\"skill-evidence\">\n                                {skill.evidence}\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"analysis-card missing\">\n                        <h4> Growth Areas</h4>\n                        <div className=\"skill-tags\">\n                          {skillAnalysis.missingSkills?.map((skill, i) => (\n                            <div\n                              key={i}\n                              className={`skill-tag ${skill.importance}`}\n                            >\n                              <span className=\"skill-name\">{skill.skill}</span>\n                              <span className=\"skill-evidence\">\n                                {skill.suggestion}\n                              </span>\n                            </div>\n                          ))}\n                        </div>\n                      </div>\n\n                      <div className=\"analysis-card projects\">\n                        <h4> Relevant Projects</h4>\n                        {skillAnalysis.relevantProjects?.map((project, i) => (\n                          <div key={i} className=\"relevant-project\">\n                            <strong>{project.name}</strong>\n                            <p>{project.relevance}</p>\n                            <span className=\"highlight-text\">\n                              {project.highlight}\n                            </span>\n                          </div>\n                        ))}\n                      </div>\n\n                      <div className=\"analysis-card tips\">\n                        <h4> Interview Tips</h4>\n                        <ul>\n                          {skillAnalysis.interviewTips?.map((tip, i) => (\n                            <li key={i}>{tip}</li>\n                          ))}\n                        </ul>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {skillAnalysis?.error && (\n                  <div className=\"error-message\">{skillAnalysis.error}</div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {/* ===== MOCK INTERVIEW TAB ===== */}\n          {activeTab === \"interview\" && (\n            <div className=\"tab-content interview\">\n              <div className=\"section-header\">\n                <h2> AI Mock Interview</h2>\n                <p>Practice technical interviews with an AI interviewer</p>\n              </div>\n\n              {!interviewStarted ? (\n                <div className=\"interview-setup\">\n                  <div className=\"interview-roles\">\n                    <h3>Select a role to practice for:</h3>\n                    <div className=\"role-grid\">\n                      {[\n                        { id: \"sde\", label: \"Software Engineer\", icon: \"\" },\n                        { id: \"ml\", label: \"ML Engineer\", icon: \"\" },\n                        {\n                          id: \"fullstack\",\n                          label: \"Full-Stack Developer\",\n                          icon: \"\",\n                        },\n                        { id: \"ai\", label: \"AI Engineer\", icon: \"\" },\n                        { id: \"data\", label: \"Data Scientist\", icon: \"\" },\n                        { id: \"custom\", label: \"Custom Role\", icon: \"\" },\n                      ].map((role) => (\n                        <button\n                          key={role.id}\n                          className={`role-card ${\n                            interviewRole === role.label ? \"selected\" : \"\"\n                          }`}\n                          onClick={() =>\n                            setInterviewRole(\n                              role.id === \"custom\" ? \"\" : role.label\n                            )\n                          }\n                        >\n                          <span className=\"role-icon\">{role.icon}</span>\n                          <span className=\"role-label\">{role.label}</span>\n                        </button>\n                      ))}\n                    </div>\n\n                    <div className=\"custom-role\">\n                      <input\n                        type=\"text\"\n                        value={interviewRole}\n                        onChange={(e) => setInterviewRole(e.target.value)}\n                        placeholder=\"Or type a custom role (e.g., 'Senior React Developer at Google')\"\n                      />\n                    </div>\n\n                    <button\n                      onClick={startInterview}\n                      disabled={!interviewRole.trim() || interviewLoading}\n                      className=\"start-interview-btn\"\n                    >\n                      {interviewLoading ? \"Starting...\" : \" Start Interview\"}\n                    </button>\n                  </div>\n                </div>\n              ) : (\n                <div className=\"interview-session\">\n                  <div className=\"interview-header\">\n                    <span className=\"interview-role-badge\">\n                       Interviewing for: {interviewRole}\n                    </span>\n                    <button\n                      className=\"end-interview-btn\"\n                      onClick={() => {\n                        setInterviewStarted(false);\n                        setInterviewMessages([]);\n                        setInterviewRole(\"\");\n                      }}\n                    >\n                      End Interview\n                    </button>\n                  </div>\n\n                  <div className=\"interview-chat\">\n                    {interviewMessages.map((msg, i) => (\n                      <div key={i} className={`interview-message ${msg.role}`}>\n                        <div className=\"message-avatar\">\n                          {msg.role === \"interviewer\" ? \"\" : \"\"}\n                        </div>\n                        <div className=\"message-bubble\">\n                          <span className=\"message-role\">\n                            {msg.role === \"interviewer\" ? \"Interviewer\" : \"You\"}\n                          </span>\n                          <p>{msg.content}</p>\n                        </div>\n                      </div>\n                    ))}\n                    {interviewLoading && (\n                      <div className=\"interview-message interviewer\">\n                        <div className=\"message-avatar\"></div>\n                        <div className=\"message-bubble loading\">\n                          <span className=\"typing-dot\"></span>\n                          <span className=\"typing-dot\"></span>\n                          <span className=\"typing-dot\"></span>\n                        </div>\n                      </div>\n                    )}\n                    <div ref={interviewEndRef} />\n                  </div>\n\n                  <div className=\"interview-input-container\">\n                    <textarea\n                      value={interviewInput}\n                      onChange={(e) => setInterviewInput(e.target.value)}\n                      onKeyPress={(e) => {\n                        if (e.key === \"Enter\" && !e.shiftKey) {\n                          e.preventDefault();\n                          sendInterviewResponse();\n                        }\n                      }}\n                      placeholder=\"Type your response... (Press Enter to send)\"\n                      disabled={interviewLoading}\n                      rows={3}\n                    />\n                    <button\n                      onClick={sendInterviewResponse}\n                      disabled={interviewLoading || !interviewInput.trim()}\n                      className=\"send-response-btn\"\n                    >\n                      Send \n                    </button>\n                  </div>\n                </div>\n              )}\n            </div>\n          )}\n\n          {/* ===== AI LAB TAB ===== */}\n          {activeTab === \"lab\" && (\n            <div className=\"tab-content lab\">\n              <div className=\"section-header\">\n                <h2> AI Experiments Lab</h2>\n                <p>Interactive demonstrations of AI capabilities</p>\n              </div>\n\n              <div className=\"lab-experiments\">\n                <div className=\"experiment-selector\">\n                  {experiments.map((exp) => (\n                    <button\n                      key={exp.id}\n                      className={`experiment-card ${\n                        labExperiment === exp.id ? \"selected\" : \"\"\n                      }`}\n                      onClick={() => {\n                        setLabExperiment(exp.id);\n                        setLabOutput(null);\n                      }}\n                    >\n                      <span className=\"exp-icon\">{exp.name.split(\" \")[0]}</span>\n                      <div className=\"exp-info\">\n                        <span className=\"exp-name\">\n                          {exp.name.replace(/^[^\\s]+\\s/, \"\")}\n                        </span>\n                        <span className=\"exp-desc\">{exp.desc}</span>\n                      </div>\n                    </button>\n                  ))}\n                </div>\n\n                <div className=\"experiment-workspace\">\n                  <div className=\"exp-input\">\n                    <label> Input</label>\n                    <textarea\n                      value={labInput}\n                      onChange={(e) => setLabInput(e.target.value)}\n                      placeholder={\n                        experiments.find((e) => e.id === labExperiment)\n                          ?.placeholder\n                      }\n                      rows={8}\n                    />\n                    <button\n                      onClick={runExperiment}\n                      disabled={labLoading || !labInput.trim()}\n                      className=\"run-experiment-btn\"\n                    >\n                      {labLoading ? (\n                        <>\n                          <span className=\"btn-spinner\"></span>\n                          Running Experiment...\n                        </>\n                      ) : (\n                        <> Run Experiment</>\n                      )}\n                    </button>\n                  </div>\n\n                  <div className=\"exp-output\">\n                    <label> Output</label>\n                    <div className=\"output-container\">\n                      {labLoading ? (\n                        <div className=\"experiment-loading\">\n                          <div className=\"dna-loader\">\n                            <div className=\"dna-strand\"></div>\n                            <div className=\"dna-strand\"></div>\n                          </div>\n                          <p>AI is analyzing...</p>\n                        </div>\n                      ) : labOutput?.output ? (\n                        <div className=\"experiment-result\">\n                          <pre>{labOutput.output}</pre>\n                        </div>\n                      ) : labOutput?.error ? (\n                        <div className=\"experiment-error\">\n                          {labOutput.error}\n                        </div>\n                      ) : (\n                        <div className=\"experiment-placeholder\">\n                          <span></span>\n                          <p>Run an experiment to see results</p>\n                        </div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* ===== PROJECT GENERATOR TAB ===== */}\n          {activeTab === \"projects\" && (\n            <div className=\"tab-content projects-gen\">\n              <div className=\"section-header\">\n                <h2> AI Project Idea Generator</h2>\n                <p>Get personalized project ideas to build your portfolio</p>\n              </div>\n\n              <div className=\"project-gen-container\">\n                <div className=\"gen-preferences\">\n                  <div className=\"pref-group\">\n                    <label> Domain Interest</label>\n                    <select\n                      value={projectPrefs.domain}\n                      onChange={(e) =>\n                        setProjectPrefs({\n                          ...projectPrefs,\n                          domain: e.target.value,\n                        })\n                      }\n                    >\n                      <option value=\"\">Any Domain</option>\n                      <option value=\"AI/ML\">AI/ML</option>\n                      <option value=\"Web Development\">Web Development</option>\n                      <option value=\"Mobile Apps\">Mobile Apps</option>\n                      <option value=\"Data Science\">Data Science</option>\n                      <option value=\"Computer Vision\">Computer Vision</option>\n                      <option value=\"NLP\">Natural Language Processing</option>\n                      <option value=\"Automation\">Automation</option>\n                      <option value=\"Gaming\">Gaming</option>\n                    </select>\n                  </div>\n\n                  <div className=\"pref-group\">\n                    <label> Difficulty Level</label>\n                    <div className=\"difficulty-buttons\">\n                      {[\"beginner\", \"intermediate\", \"advanced\"].map((level) => (\n                        <button\n                          key={level}\n                          className={`diff-btn ${\n                            projectPrefs.difficulty === level ? \"active\" : \"\"\n                          }`}\n                          onClick={() =>\n                            setProjectPrefs({\n                              ...projectPrefs,\n                              difficulty: level,\n                            })\n                          }\n                        >\n                          {level.charAt(0).toUpperCase() + level.slice(1)}\n                        </button>\n                      ))}\n                    </div>\n                  </div>\n\n                  <div className=\"pref-group\">\n                    <label> Preferred Technologies</label>\n                    <input\n                      type=\"text\"\n                      value={projectPrefs.tech}\n                      onChange={(e) =>\n                        setProjectPrefs({\n                          ...projectPrefs,\n                          tech: e.target.value,\n                        })\n                      }\n                      placeholder=\"e.g., React, Python, TensorFlow\"\n                    />\n                  </div>\n\n                  <button\n                    onClick={generateProjects}\n                    disabled={projectLoading}\n                    className=\"generate-btn\"\n                  >\n                    {projectLoading ? (\n                      <>\n                        <span className=\"btn-spinner\"></span>\n                        Generating Ideas...\n                      </>\n                    ) : (\n                      <> Generate Project Ideas</>\n                    )}\n                  </button>\n                </div>\n\n                {generatedProjects.length > 0 && (\n                  <div className=\"generated-projects\">\n                    {generatedProjects.map((project, i) => (\n                      <div key={i} className=\"gen-project-card\">\n                        <div className=\"project-header\">\n                          <span className=\"project-icon\">\n                            {project.icon || \"\"}\n                          </span>\n                          <div>\n                            <h3>{project.name}</h3>\n                            <span className=\"project-tagline\">\n                              {project.tagline}\n                            </span>\n                          </div>\n                        </div>\n\n                        <p className=\"project-description\">\n                          {project.description}\n                        </p>\n\n                        <div className=\"project-meta-badges\">\n                          <span\n                            className={`difficulty-badge ${project.difficulty?.toLowerCase()}`}\n                          >\n                            {project.difficulty}\n                          </span>\n                          <span className=\"timeline-badge\">\n                             {project.timeline}\n                          </span>\n                        </div>\n\n                        <div className=\"project-tech-stack\">\n                          {project.techStack?.map((tech, tIndex) => (\n                            <span key={tIndex} className=\"tech-pill\">\n                              {tech}\n                            </span>\n                          ))}\n                        </div>\n\n                        <div className=\"project-deep-dive\">\n                          <div className=\"deep-dive-item\">\n                            <strong> Uniqueness:</strong>\n                            <p>{project.uniqueness}</p>\n                          </div>\n                          <div className=\"deep-dive-item\">\n                            <strong> Key Learnings:</strong>\n                            <ul>\n                              {project.learnings?.map((learn, lIndex) => (\n                                <li key={lIndex}>{learn}</li>\n                              ))}\n                            </ul>\n                          </div>\n                        </div>\n                      </div>\n                    ))}\n                  </div>\n                )}\n\n                {generatedProjects.length === 0 && !projectLoading && (\n                  <div className=\"projects-placeholder\">\n                    <div className=\"placeholder-icon\"></div>\n                    <h3>Ready to Build Something New?</h3>\n                    <p>\n                      Select your preferences above and let AI generate unique\n                      portfolio project ideas for you.\n                    </p>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTab === \"Intelligent\" && (\n            <div className=\"Intelligent-tab\">\n              {/* ===== COMPETITIVE INTELLIGENCE HUB UI ===== */}\n              <div className=\"intel-hub-section\">\n                {/* Header */}\n                <div className=\"intel-hub-header\">\n                  <div className=\"header-title\">\n                    <h2> Quick Resume Tailor </h2>\n                    <span className=\"header-subtitle\">\n                      AI-Powered Resume Tailoring & Interview Prep\n                    </span>\n                  </div>\n                  <div className=\"header-badges\">\n                    <span className=\"mode-badge laxman-mode\">\n                       Laxman Mode\n                    </span>\n                    {analysisResult && (\n                      <span\n                        className=\"match-badge\"\n                        style={{\n                          background:\n                            analysisResult.overallMatchScore >= 80\n                              ? \"linear-gradient(135deg, #4CAF50, #8BC34A)\"\n                              : analysisResult.overallMatchScore >= 60\n                              ? \"linear-gradient(135deg, #FF9800, #FFC107)\"\n                              : \"linear-gradient(135deg, #f44336, #E91E63)\",\n                        }}\n                      >\n                        {analysisResult.overallMatchScore}% Match\n                      </span>\n                    )}\n                  </div>\n                </div>\n\n                {/* JD Input Section */}\n                <div className=\"jd-input-section\">\n                  <div className=\"jd-input-header\">\n                    <h3> Job Description</h3>\n                    <div className=\"intensity-selector\">\n                      <span className=\"intensity-label\">\n                        Tailoring Intensity:\n                      </span>\n                      <div className=\"intensity-options\">\n                        {[\"conservative\", \"moderate\", \"aggressive\"].map(\n                          (level) => (\n                            <button\n                              key={level}\n                              className={`intensity-btn ${\n                                tailorIntensity === level ? \"active\" : \"\"\n                              }`}\n                              onClick={() => setTailorIntensity(level)}\n                            >\n                              {level === \"conservative\" && \"\"}\n                              {level === \"moderate\" && \"\"}\n                              {level === \"aggressive\" && \"\"}\n                              {level.charAt(0).toUpperCase() + level.slice(1)}\n                            </button>\n                          )\n                        )}\n                      </div>\n                    </div>\n                  </div>\n\n                  <textarea\n                    className=\"jd-textarea\"\n                    value={jdInput}\n                    onChange={(e) => setJdInput(e.target.value)}\n                    placeholder=\"Paste the full job description here...\n\n          Example:\n          We are looking for a Senior Software Engineer to join our AI Platform team. \n          You will design and build scalable ML infrastructure...\n\n          Requirements:\n          - 5+ years of experience with Python\n          - Experience with cloud platforms (AWS/GCP)\n          - Strong knowledge of distributed systems...\"\n                    rows={8}\n                  />\n\n                  <div className=\"jd-actions\">\n                    <button\n                      className=\"analyze-btn\"\n                      onClick={runFullAnalysis}\n                      disabled={isAnalyzing || !jdInput.trim()}\n                    >\n                      {isAnalyzing ? (\n                        <>\n                          <span className=\"spinner\"></span>\n                          Analyzing...\n                        </>\n                      ) : (\n                        <> Analyze & Tailor Resume</>\n                      )}\n                    </button>\n\n                    {jdParsed && (\n                      <div className=\"parsed-preview\">\n                        <span className=\"company-tag\">\n                          {jdParsed.companyName}\n                        </span>\n                        <span className=\"role-tag\">{jdParsed.roleTitle}</span>\n                        <span className=\"level-tag\">\n                          {jdParsed.seniorityLevel}\n                        </span>\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Analysis Progress */}\n                {isAnalyzing && (\n                  <div className=\"analysis-progress\">\n                    <div className=\"progress-steps\">\n                      <div\n                        className={`step ${jdParsed ? \"complete\" : \"active\"}`}\n                      >\n                        <span className=\"step-icon\">\n                          {jdParsed ? \"\" : \"\"}\n                        </span>\n                        <span className=\"step-label\">Parsing JD</span>\n                      </div>\n                      <div className=\"step-connector\"></div>\n                      <div\n                        className={`step ${\n                          analysisResult\n                            ? \"complete\"\n                            : jdParsed\n                            ? \"active\"\n                            : \"pending\"\n                        }`}\n                      >\n                        <span className=\"step-icon\">\n                          {analysisResult ? \"\" : jdParsed ? \"\" : \"\"}\n                        </span>\n                        <span className=\"step-label\">Skill Matching</span>\n                      </div>\n                      <div className=\"step-connector\"></div>\n                      <div\n                        className={`step ${\n                          tailoredLatex\n                            ? \"complete\"\n                            : isTailoring\n                            ? \"active\"\n                            : \"pending\"\n                        }`}\n                      >\n                        <span className=\"step-icon\">\n                          {tailoredLatex ? \"\" : isTailoring ? \"\" : \"\"}\n                        </span>\n                        <span className=\"step-label\">Tailoring Resume</span>\n                      </div>\n                      <div className=\"step-connector\"></div>\n                      <div\n                        className={`step ${\n                          interviewQuestions ? \"complete\" : \"pending\"\n                        }`}\n                      >\n                        <span className=\"step-icon\">\n                          {interviewQuestions ? \"\" : \"\"}\n                        </span>\n                        <span className=\"step-label\">Interview Prep</span>\n                      </div>\n                    </div>\n                  </div>\n                )}\n\n                {/* Main Content - Two Panels */}\n                {analysisResult && (\n                  <div className=\"intel-main-content\">\n                    {/* Left Panel - Intelligence Tabs */}\n                    <div className=\"intel-panel\">\n                      <div className=\"intel-tabs\">\n                        {[\n                          { id: \"match\", icon: \"\", label: \"Skill Match\" },\n                          {\n                            id: \"interview\",\n                            icon: \"\",\n                            label: \"Interview Prep\",\n                          },\n                          { id: \"company\", icon: \"\", label: \"Company Intel\" },\n                          { id: \"versions\", icon: \"\", label: \"Versions\" },\n                        ].map((tab) => (\n                          <button\n                            key={tab.id}\n                            className={`intel-tab ${\n                              activeIntelTab === tab.id ? \"active\" : \"\"\n                            }`}\n                            onClick={() => setActiveIntelTab(tab.id)}\n                          >\n                            <span className=\"tab-icon\">{tab.icon}</span>\n                            <span className=\"tab-label\">{tab.label}</span>\n                          </button>\n                        ))}\n                      </div>\n\n                      <div className=\"intel-tab-content\">\n                        {/* Skill Match Tab */}\n                        {activeIntelTab === \"match\" && analysisResult && (\n                          <div className=\"match-content\">\n                            {/* Score Overview */}\n                            <div className=\"score-overview\">\n                              <div className=\"main-score\">\n                                <svg\n                                  viewBox=\"0 0 120 120\"\n                                  className=\"score-ring\"\n                                >\n                                  <circle\n                                    cx=\"60\"\n                                    cy=\"60\"\n                                    r=\"50\"\n                                    fill=\"none\"\n                                    stroke=\"rgba(255,255,255,0.1)\"\n                                    strokeWidth=\"10\"\n                                  />\n                                  <circle\n                                    cx=\"60\"\n                                    cy=\"60\"\n                                    r=\"50\"\n                                    fill=\"none\"\n                                    stroke={\n                                      analysisResult.overallMatchScore >= 80\n                                        ? \"#4CAF50\"\n                                        : analysisResult.overallMatchScore >= 60\n                                        ? \"#FF9800\"\n                                        : \"#f44336\"\n                                    }\n                                    strokeWidth=\"10\"\n                                    strokeDasharray={`${\n                                      analysisResult.overallMatchScore * 3.14\n                                    } 314`}\n                                    strokeLinecap=\"round\"\n                                    transform=\"rotate(-90 60 60)\"\n                                  />\n                                  <text\n                                    x=\"60\"\n                                    y=\"55\"\n                                    textAnchor=\"middle\"\n                                    className=\"score-text\"\n                                  >\n                                    {analysisResult.overallMatchScore}%\n                                  </text>\n                                  <text\n                                    x=\"60\"\n                                    y=\"75\"\n                                    textAnchor=\"middle\"\n                                    className=\"score-label\"\n                                  >\n                                    {analysisResult.matchLevel}\n                                  </text>\n                                </svg>\n                              </div>\n\n                              <div className=\"fit-scores\">\n                                {Object.entries(\n                                  analysisResult.fitScore || {}\n                                ).map(([key, value]) => (\n                                  <div key={key} className=\"fit-item\">\n                                    <span className=\"fit-label\">{key}</span>\n                                    <div className=\"fit-bar\">\n                                      <div\n                                        className=\"fit-fill\"\n                                        style={{\n                                          width: `${value}%`,\n                                          background:\n                                            value >= 80\n                                              ? \"#4CAF50\"\n                                              : value >= 60\n                                              ? \"#FF9800\"\n                                              : \"#f44336\",\n                                        }}\n                                      ></div>\n                                    </div>\n                                    <span className=\"fit-value\">{value}%</span>\n                                  </div>\n                                ))}\n                              </div>\n                            </div>\n\n                            {/* Skill Matches */}\n                            <div className=\"skills-section\">\n                              <h4> Matched Skills</h4>\n                              <div className=\"skill-cards\">\n                                {analysisResult.skillMatches\n                                  ?.slice(0, 6)\n                                  .map((skill, i) => (\n                                    <div\n                                      key={i}\n                                      className={`skill-card match-${skill.matchStrength}`}\n                                    >\n                                      <span className=\"skill-name\">\n                                        {skill.jdSkill}\n                                      </span>\n                                      <span className=\"skill-evidence\">\n                                        {skill.candidateEvidence}\n                                      </span>\n                                      <div className=\"skill-projects\">\n                                        {skill.relevantProjects?.map((p, j) => (\n                                          <span\n                                            key={j}\n                                            className=\"project-chip\"\n                                          >\n                                            {p}\n                                          </span>\n                                        ))}\n                                      </div>\n                                    </div>\n                                  ))}\n                              </div>\n                            </div>\n\n                            {/* Skill Gaps */}\n                            {analysisResult.skillGaps?.length > 0 && (\n                              <div className=\"skills-section gaps\">\n                                <h4> Gaps to Address</h4>\n                                <div className=\"gap-cards\">\n                                  {analysisResult.skillGaps.map((gap, i) => (\n                                    <div\n                                      key={i}\n                                      className={`gap-card importance-${gap.importance}`}\n                                    >\n                                      <div className=\"gap-header\">\n                                        <span className=\"gap-skill\">\n                                          {gap.jdSkill}\n                                        </span>\n                                        <span\n                                          className={`importance-badge ${gap.importance}`}\n                                        >\n                                          {gap.importance}\n                                        </span>\n                                      </div>\n                                      <p className=\"gap-recommendation\">\n                                        {gap.recommendation}\n                                      </p>\n                                    </div>\n                                  ))}\n                                </div>\n                              </div>\n                            )}\n\n                            {/* Strong Points */}\n                            <div className=\"strong-points\">\n                              <h4> Your Unique Advantages</h4>\n                              <ul>\n                                {analysisResult.uniqueAdvantages?.map(\n                                  (adv, i) => (\n                                    <li key={i}>{adv}</li>\n                                  )\n                                )}\n                              </ul>\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Interview Prep Tab */}\n                        {activeIntelTab === \"interview\" && interviewQuestions && (\n                          <div className=\"interview-content\">\n                            {/* Technical Questions */}\n                            <div className=\"question-section\">\n                              <h4> Technical Questions</h4>\n                              {interviewQuestions.technicalQuestions?.map(\n                                (q, i) => (\n                                  <div key={i} className=\"question-card\">\n                                    <div className=\"question-header\">\n                                      <span className=\"q-number\">Q{i + 1}</span>\n                                      <span\n                                        className={`difficulty ${q.difficulty}`}\n                                      >\n                                        {q.difficulty}\n                                      </span>\n                                      <span className=\"category\">\n                                        {q.category}\n                                      </span>\n                                    </div>\n                                    <p className=\"question-text\">\n                                      {q.question}\n                                    </p>\n                                    <details className=\"answer-hint\">\n                                      <summary> Suggested Approach</summary>\n                                      <p>{q.suggestedAnswer}</p>\n                                      {q.followUp && (\n                                        <p className=\"follow-up\">\n                                           Follow-up: {q.followUp}\n                                        </p>\n                                      )}\n                                    </details>\n                                  </div>\n                                )\n                              )}\n                            </div>\n\n                            {/* Behavioral Questions */}\n                            <div className=\"question-section\">\n                              <h4> Behavioral Questions</h4>\n                              {interviewQuestions.behavioralQuestions?.map(\n                                (q, i) => (\n                                  <div\n                                    key={i}\n                                    className=\"question-card behavioral\"\n                                  >\n                                    <p className=\"question-text\">\n                                      {q.question}\n                                    </p>\n                                    <div className=\"star-format\">\n                                      <span className=\"star-label\">\n                                        STAR Format:\n                                      </span>\n                                      <div className=\"star-items\">\n                                        <div className=\"star-item\">\n                                          <span className=\"star-key\">S</span>\n                                          <span>{q.starFormat?.situation}</span>\n                                        </div>\n                                        <div className=\"star-item\">\n                                          <span className=\"star-key\">T</span>\n                                          <span>{q.starFormat?.task}</span>\n                                        </div>\n                                        <div className=\"star-item\">\n                                          <span className=\"star-key\">A</span>\n                                          <span>{q.starFormat?.action}</span>\n                                        </div>\n                                        <div className=\"star-item\">\n                                          <span className=\"star-key\">R</span>\n                                          <span>{q.starFormat?.result}</span>\n                                        </div>\n                                      </div>\n                                    </div>\n                                  </div>\n                                )\n                              )}\n                            </div>\n\n                            {/* Questions to Ask */}\n                            <div className=\"question-section\">\n                              <h4> Questions to Ask Them</h4>\n                              <div className=\"questions-to-ask\">\n                                {interviewQuestions.questionsToAsk?.map(\n                                  (q, i) => (\n                                    <div key={i} className=\"ask-card\">\n                                      <p className=\"question\">{q.question}</p>\n                                      <span className=\"why\">{q.why}</span>\n                                    </div>\n                                  )\n                                )}\n                              </div>\n                            </div>\n                          </div>\n                        )}\n\n                        {/* Versions Tab */}\n                        {activeIntelTab === \"versions\" && (\n                          <div className=\"versions-content\">\n                            <h4> Resume Versions</h4>\n                            {resumeVersions.length === 0 ? (\n                              <p className=\"no-versions\">\n                                No versions yet. Analyze a JD to create one.\n                              </p>\n                            ) : (\n                              <div className=\"version-list\">\n                                {resumeVersions.map((version, i) => (\n                                  <div\n                                    key={version.id}\n                                    className=\"version-card\"\n                                    onClick={() =>\n                                      setTailoredLatex(version.latex)\n                                    }\n                                  >\n                                    <div className=\"version-header\">\n                                      <span className=\"version-company\">\n                                        {version.company}\n                                      </span>\n                                      <span className=\"version-score\">\n                                        {version.matchScore}%\n                                      </span>\n                                    </div>\n                                    <span className=\"version-role\">\n                                      {version.role}\n                                    </span>\n                                    <span className=\"version-date\">\n                                      {new Date(\n                                        version.timestamp\n                                      ).toLocaleDateString()}\n                                    </span>\n                                  </div>\n                                ))}\n                              </div>\n                            )}\n                          </div>\n                        )}\n\n                        {/* Company Intel Tab */}\n                        {activeIntelTab === \"company\" && jdParsed && (\n                          <div className=\"company-content\">\n                            <div className=\"company-header-card\">\n                              <h3>{jdParsed.companyName}</h3>\n                              <span className=\"role-title\">\n                                {jdParsed.roleTitle}\n                              </span>\n                            </div>\n\n                            <div className=\"tech-stack-section\">\n                              <h4> Tech Stack</h4>\n                              <div className=\"tech-categories\">\n                                {Object.entries(jdParsed.techStack || {}).map(\n                                  ([category, techs]) => (\n                                    <div\n                                      key={category}\n                                      className=\"tech-category\"\n                                    >\n                                      <span className=\"category-name\">\n                                        {category}\n                                      </span>\n                                      <div className=\"tech-chips\">\n                                        {techs.map((tech, i) => (\n                                          <span\n                                            key={i}\n                                            className={`tech-chip ${\n                                              LAXMAN_PROFILE.skills[\n                                                category\n                                              ]?.some(\n                                                (s) =>\n                                                  s\n                                                    .toLowerCase()\n                                                    .includes(\n                                                      tech.toLowerCase()\n                                                    ) ||\n                                                  tech\n                                                    .toLowerCase()\n                                                    .includes(s.toLowerCase())\n                                              )\n                                                ? \"matched\"\n                                                : \"\"\n                                            }`}\n                                          >\n                                            {tech}\n                                          </span>\n                                        ))}\n                                      </div>\n                                    </div>\n                                  )\n                                )}\n                              </div>\n                            </div>\n\n                            <div className=\"culture-section\">\n                              <h4> Culture Signals</h4>\n                              <div className=\"culture-chips\">\n                                {jdParsed.cultureSignals?.map((signal, i) => (\n                                  <span key={i} className=\"culture-chip\">\n                                    {signal}\n                                  </span>\n                                ))}\n                              </div>\n                            </div>\n\n                            <div className=\"flags-section\">\n                              {jdParsed.greenFlags?.length > 0 && (\n                                <div className=\"green-flags\">\n                                  <h4> Green Flags</h4>\n                                  <ul>\n                                    {jdParsed.greenFlags.map((flag, i) => (\n                                      <li key={i}>{flag}</li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              )}\n                              {jdParsed.redFlags?.length > 0 && (\n                                <div className=\"red-flags\">\n                                  <h4> Red Flags</h4>\n                                  <ul>\n                                    {jdParsed.redFlags.map((flag, i) => (\n                                      <li key={i}>{flag}</li>\n                                    ))}\n                                  </ul>\n                                </div>\n                              )}\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n\n                    {/* old one above */}\n\n                    {/* ===== RESUME PANEL WITH LIVE PDF PREVIEW ===== */}\n                    {/* ===== RESUME PANEL - MINIMAL VERSION ===== */}\n                    <div className=\"resume-panel\">\n                      {/* Panel Header */}\n                      <div className=\"resume-panel-header\">\n                        <div className=\"panel-tabs\">\n                          <button\n                            className={`panel-tab ${!showDiff ? \"active\" : \"\"}`}\n                            onClick={() => setShowDiff(false)}\n                          >\n                            <span className=\"tab-icon\"></span>\n                            <span>Editor</span>\n                          </button>\n                          <button\n                            className={`panel-tab ${showDiff ? \"active\" : \"\"}`}\n                            onClick={() => setShowDiff(true)}\n                          >\n                            <span className=\"tab-icon\"></span>\n                            <span>Diff</span>\n                          </button>\n                        </div>\n\n                        <div className=\"header-actions\">\n                          <button\n                            className=\"header-action-btn\"\n                            onClick={copyLatexToClipboard}\n                            title=\"Copy LaTeX Code\"\n                          >\n                             Copy\n                          </button>\n                          <button\n                            className=\"header-action-btn\"\n                            onClick={downloadLatex}\n                            title=\"Download .tex file\"\n                          >\n                             Download .tex\n                          </button>\n                          <button\n                            className=\"header-action-btn primary\"\n                            onClick={openInOverleaf}\n                            title=\"Compile in Overleaf\"\n                          >\n                             Overleaf\n                          </button>\n                        </div>\n                      </div>\n\n                      {/* Main Content */}\n                      <div className=\"editor-container\">\n                        {!showDiff ? (\n                          <div className=\"latex-editor-wrapper\">\n                            <div className=\"editor-header\">\n                              <div className=\"file-info\">\n                                <span className=\"file-icon\"></span>\n                                <span className=\"file-name\">\n                                  resume_\n                                  {jdParsed?.companyName?.replace(\n                                    /\\s+/g,\n                                    \"_\"\n                                  ) || \"document\"}\n                                  .tex\n                                </span>\n                              </div>\n                              <div className=\"editor-controls\">\n                                <select\n                                  value={editorTheme}\n                                  onChange={(e) =>\n                                    setEditorTheme(e.target.value)\n                                  }\n                                  className=\"theme-selector\"\n                                >\n                                  <option value=\"vs-dark\"> Dark</option>\n                                  <option value=\"light\"> Light</option>\n                                  <option value=\"monokai\"> Monokai</option>\n                                </select>\n                              </div>\n                            </div>\n\n                            <div className=\"editor-body\">\n                              <div className=\"line-numbers\">\n                                {(tailoredLatex || originalLatex)\n                                  .split(\"\\n\")\n                                  .map((_, i) => (\n                                    <span key={i}>{i + 1}</span>\n                                  ))}\n                              </div>\n                              <textarea\n                                className={`latex-code-editor ${editorTheme}`}\n                                value={tailoredLatex || originalLatex}\n                                onChange={(e) =>\n                                  setTailoredLatex(e.target.value)\n                                }\n                                spellCheck={false}\n                                wrap=\"off\"\n                              />\n                            </div>\n                          </div>\n                        ) : (\n                          <div className=\"diff-viewer\">\n                            <div className=\"diff-pane original\">\n                              <div className=\"diff-pane-header\">\n                                <span> Original</span>\n                                <span className=\"diff-stats\">\n                                  {originalLatex.length.toLocaleString()} chars\n                                </span>\n                              </div>\n                              <pre className=\"diff-content\">\n                                {originalLatex}\n                              </pre>\n                            </div>\n                            <div className=\"diff-pane modified\">\n                              <div className=\"diff-pane-header\">\n                                <span> Tailored</span>\n                                <span className=\"diff-stats\">\n                                  {(\n                                    tailoredLatex || \"\"\n                                  ).length.toLocaleString()}{\" \"}\n                                  chars\n                                </span>\n                              </div>\n                              <pre className=\"diff-content\">\n                                {tailoredLatex ||\n                                  \"Run analysis to generate tailored version\"}\n                              </pre>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n\n                      {/* Bottom Stats Bar */}\n                      <div className=\"panel-stats-bar\">\n                        <div className=\"stat-item\">\n                          <span className=\"stat-icon\"></span>\n                          <span className=\"stat-label\">Keywords Matched</span>\n                          <span className=\"stat-value\">\n                            {jdParsed?.keywords?.filter((k) =>\n                              (tailoredLatex || originalLatex)\n                                ?.toLowerCase()\n                                .includes(k.toLowerCase())\n                            ).length || 0}{\" \"}\n                            / {jdParsed?.keywords?.length || 0}\n                          </span>\n                        </div>\n                        <div className=\"stat-item\">\n                          <span className=\"stat-icon\">\n                            {tailorIntensity === \"conservative\"\n                              ? \"\"\n                              : tailorIntensity === \"moderate\"\n                              ? \"\"\n                              : \"\"}\n                          </span>\n                          <span className=\"stat-label\">Intensity</span>\n                          <span\n                            className={`stat-value intensity-${tailorIntensity}`}\n                          >\n                            {tailorIntensity.charAt(0).toUpperCase() +\n                              tailorIntensity.slice(1)}\n                          </span>\n                        </div>\n                        <div className=\"stat-item\">\n                          <span className=\"stat-icon\"></span>\n                          <span className=\"stat-label\">Size</span>\n                          <span className=\"stat-value\">\n                            {(\n                              (tailoredLatex || originalLatex).length / 1024\n                            ).toFixed(1)}{\" \"}\n                            KB\n                          </span>\n                        </div>\n                        <div className=\"stat-item\">\n                          <span className=\"stat-icon\"></span>\n                          <span className=\"stat-label\">Lines</span>\n                          <span className=\"stat-value\">\n                            {\n                              (tailoredLatex || originalLatex).split(\"\\n\")\n                                .length\n                            }\n                          </span>\n                        </div>\n                      </div>\n\n                      {/* Compile Instructions */}\n                      <div className=\"compile-instructions\">\n                        <div className=\"instruction-card\">\n                          <span className=\"instruction-icon\"></span>\n                          <div className=\"instruction-content\">\n                            <strong>Recommended:</strong> Click \"Overleaf\" to\n                            compile and view your PDF online\n                          </div>\n                        </div>\n                        <div className=\"instruction-card\">\n                          <span className=\"instruction-icon\"></span>\n                          <div className=\"instruction-content\">\n                            <strong>Local Compile:</strong> Download .tex file\n                            and compile with your LaTeX editor\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default UserSpace;\n"],"names":["pdfjsLib","workerSrc","VectorStore","constructor","this","documents","embeddings","generateEmbedding","text","words","toLowerCase","replace","split","embedding","Array","fill","forEach","word","idx","i","length","charCode","charCodeAt","magnitude","Math","sqrt","reduce","sum","val","map","addDocuments","doc","content","push","console","log","concat","cosineSimilarity","a","b","dotProduct","normA","normB","similaritySearch","query","topK","arguments","undefined","queryEmbedding","_objectSpread","score","sort","slice","RAGEngine","vectorStore","apiKey","rerank","queryWords","keywordScore","includes","rerankScore","generateWithContext","callAPI","_documents$","context","d","join","prompt","startTime","Date","now","response","latency","tokens","ceil","cost","confidence","AGENT_DEFINITIONS","portfolio","id","name","icon","color","systemPrompt","expertise","researcher","skills","communicator","strategist","technical","AgentOrchestrator","config","portfolioKnowledge","agents","executeTask","_ref","task","onMessage","onAgentStateChange","results","selectedAgents","filter","Boolean","type","timestamp","delay","agent","status","agentId","agentName","contextStr","c","error","synthesisPrompt","r","summary","agentResults","ms","Promise","resolve","setTimeout","_ref2","_user$displayName","_knowledgeGraph$nodes","_knowledgeGraph$nodes2","_knowledgeGraph$nodes3","_knowledgeGraph$nodes4","_skillAnalysis$matche","_skillAnalysis$missin","_skillAnalysis$releva","_skillAnalysis$interv","_experiments$find","_analysisResult$skill","_analysisResult$skill2","_analysisResult$uniqu","_interviewQuestions$t","_interviewQuestions$b","_interviewQuestions$q","_jdParsed$cultureSign","_jdParsed$greenFlags","_jdParsed$redFlags","_jdParsed$companyName2","_jdParsed$keywords","_jdParsed$keywords2","theme","setTheme","user","useAuth","userData","setUserData","useState","activeTab","setActiveTab","isLoading","setIsLoading","firestoreError","setFirestoreError","ragEngine","setRAGEngine","setVectorStore","ragInitialized","setRagInitialized","showRetrievalSteps","setShowRetrievalSteps","retrievedDocs","setRetrievedDocs","brainInput","setBrainInput","brainMessages","setBrainMessages","brainLoading","setBrainLoading","jobDescription","setJobDescription","skillAnalysis","setSkillAnalysis","skillLoading","setSkillLoading","interviewRole","setInterviewRole","interviewMessages","setInterviewMessages","interviewInput","setInterviewInput","interviewLoading","setInterviewLoading","interviewStarted","setInterviewStarted","labExperiment","setLabExperiment","labInput","setLabInput","labOutput","setLabOutput","labLoading","setLabLoading","orchestrator","setOrchestrator","agentTask","setAgentTask","agentConversation","setAgentConversation","activeAgents","setActiveAgents","agentRunning","setAgentRunning","setSelectedAgents","projectPrefs","setProjectPrefs","domain","difficulty","tech","generatedProjects","setGeneratedProjects","projectLoading","setProjectLoading","knowledgeGraph","setKnowledgeGraph","hoveredNode","setHoveredNode","selectedNode","setSelectedNode","graphTransform","setGraphTransform","scale","offsetX","offsetY","isDragging","setIsDragging","dragStart","setDragStart","x","y","nodePositionsRef","useRef","metrics","setMetrics","totalTokens","totalCost","avgLatency","successRate","requestCount","savedItems","setSavedItems","notes","setNotes","chatEndRef","interviewEndRef","agentChatEndRef","graphCanvasRef","hoveredNodeId","setHoveredNodeId","useMemo","profile","title","currentRole","company","location","yearsOfExperience","education","graduationYear","passion","studentsMentored","profileSummary","workExperience","role","duration","description","responsibilities","technologies","achievements","impact","documentsProcessed","accuracy","automationGain","performanceImprovement","institution","degree","major","specializations","relevantCourses","projects","category","timeline","detailedDescription","techStack","features","manualWorkReduction","responseTimeImprovement","usersSupported","challenges","learnings","businessValue","timeReduction","automation","emailsProcessed","manualProcessingReduction","processingSpeed","concurrentUsers","responseTime","uptime","technicalHighlights","accuracyImprovement","cellClassificationAccuracy","researchContribution","documentsConverted","socialImpact","volunteers","recognition","detectionAccuracy","fps","deployment","potentialImpact","users","monthlyTransactions","realTime","filesProcessed","workflowImprovement","documentSize","virtualInternships","program","year","focus","languages","expert","proficient","learning","aiml","frameworks","tools","techniques","fullStack","frontend","backend","databases","cloudDevOps","platforms","gcpServices","specializedSkills","researchInterests","certifications","contact","email","phone","linkedin","github","availability","careerObjective","strengths","cleanAndParseJSON","responseString","cleaned","firstOpen","indexOf","lastClose","lastIndexOf","substring","JSON","parse","Error","compileWithLatexOnline","async","fetch","method","headers","body","stringify","compiler","resources","main","latexCode","file","ok","blob","size","compileWithTexLive","formData","FormData","texBlob","Blob","append","compileWithLatexHTTP","URLSearchParams","data","output_format","renderPDF","arrayBuffer","loadingTask","pdf","promise","pdfDocRef","current","setPdfTotalPages","numPages","setPdfCurrentPage","pages","page","getPage","setPdfPages","renderPage","setPdfError","message","pdfZoom","setPdfZoom","tailoredLatex","setTailoredLatex","pdfBlob","setPdfBlob","pdfPages","pdfCurrentPage","pdfTotalPages","pdfLoading","setPdfLoading","pdfError","pdfCompileMethod","setPdfCompileMethod","autoCompile","setAutoCompile","lastCompiled","setLastCompiled","compileProgress","setCompileProgress","pdfFullscreen","setPdfFullscreen","pdfCanvasRef","pdfContainerRef","compileTimeoutRef","_pdfContainerRef$curr","pageNum","canvas","getContext","containerWidth","clientWidth","getViewport","width","scaledViewport","height","render","canvasContext","viewport","useEffect","timer","clearTimeout","latex","originalLatex","trim","services","fn","service","warn","compileLaTeXToPDF","jdInput","setJdInput","jdParsed","setJdParsed","setOriginalLatex","tailorIntensity","setTailorIntensity","analysisResult","setAnalysisResult","companyIntel","setCompanyIntel","interviewQuestions","setInterviewQuestions","salaryInsights","setSalaryInsights","isAnalyzing","setIsAnalyzing","isTailoring","setIsTailoring","activeIntelTab","setActiveIntelTab","showDiff","setShowDiff","resumeVersions","setResumeVersions","pdfPreviewUrl","setPdfPreviewUrl","editorTheme","setEditorTheme","LAXMAN_PROFILE","period","highlights","cloud","web","callGeminiAPI","useCallback","maxTokens","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","functions","getFunctions","callGeminiFunction","httpsCallable","result","candidates","parts","prev","chunkKnowledgeBase","knowledge","chunks","_knowledge$skills","_knowledge$skills3","expertiseStr","isArray","String","metadata","project","Object","entries","_ref3","k","v","projectId","_ref4","key","value","valueStr","subcategory","_knowledge$skills2","charAt","toUpperCase","_ref5","level","langs","buildKnowledgeGraph","nodes","edges","_knowledge$profile","label","angle","PI","cos","sin","NLP","from","to","j","techId","techAngle","existingNode","find","n","radius","skillCategories","cat","vectorDb","rag","graph","initializeRAG","agentOrch","userRef","db","uid","userSnap","getDoc","exists","brainHistory","newUserData","displayName","photoURL","createdAt","toISOString","setDoc","local","localStorage","getItem","parsed","fetchUserData","handleBrainQuery","userMessage","docs","rerankedDocs","portfolioStr","assistantMessage","saveToStorage","thoughtQuery","setThoughtQuery","thoughtSteps","setThoughtSteps","currentThoughtStep","setCurrentThoughtStep","thoughtLoading","setThoughtLoading","thoughtComplete","setThoughtComplete","sendInterviewResponse","conversationHistory","m","experiments","desc","placeholder","merged","setItem","updateDoc","_chatEndRef$current","scrollIntoView","behavior","_interviewEndRef$curr","_agentChatEndRef$curr","ctx","rect","getBoundingClientRect","centerX","centerY","animate","clearRect","bgGradient","createRadialGradient","addColorStop","fillStyle","fillRect","edge","fromNode","toNode","fromX","fromY","toX","toY","isHighlighted","strokeStyle","lineWidth","beginPath","midX","midY","moveTo","quadraticCurveTo","stroke","gradient","createLinearGradient","lineCap","atan2","arrowSize","lineTo","closePath","node","index","isHovered","isSelected","pulseRadius","glowGradient","arc","setLineDash","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","nodeGradient","baseColor","percent","num","parseInt","amt","round","R","min","G","B","lightenColor","max","darkenColor","font","textAlign","textBaseline","fillText","connections","e","badgeX","badgeY","badgeRadius","toString","nodeData","tooltipX","tooltipY","tooltipWidth","tooltipHeight","w","h","roundRect","_jsxs","className","children","_jsx","Header","style","background","LoginButton","themeMode","isLightMode","_theme$body","bg","_","left","random","animationDelay","animationDuration","getGreeting","hour","getHours","toLocaleString","tab","onClick","resetGraphView","ref","onMouseMove","clientX","clientY","top","foundNode","nodePos","cursor","onMouseDown","onMouseUp","handleGraphMouseUp","onMouseLeave","onWheel","preventDefault","delta","deltaY","suggestion","checked","onChange","msg","_doc$metadata","toFixed","target","onKeyPress","disabled","values","toggleAgentSelection","borderColor","rows","agentState","findIndex","newAgents","isFinal","_Fragment","borderLeftColor","jsonMatch","match","analysis","savedAnalysis","matchScore","overallMatch","matchLevel","matchedSkills","skill","relevance","evidence","missingSkills","importance","relevantProjects","highlight","interviewTips","tip","shiftKey","exp","prompts","vision","architecture","debug","optimize","explain","experiment","input","output","_project$difficulty","_project$techStack","_project$learnings","tagline","tIndex","uniqueness","learn","lIndex","overallMatchScore","jdText","companyName","roleTitle","roleType","mustHaveSkills","parseJobDescription","parsedJD","analyzeMatch","interviewPrepPromise","matchAnalysis","teamDomain","skillGaps","generateInterviewPrep","tailored","intensity","_parsedJD$keywords","intensityGuide","conservative","moderate","aggressive","keywords","tailorResume","interviewPrep","newVersion","seniorityLevel","viewBox","cx","cy","strokeWidth","strokeDasharray","strokeLinecap","transform","textAnchor","fitScore","_ref6","skillMatches","_skill$relevantProjec","matchStrength","jdSkill","candidateEvidence","p","gap","recommendation","uniqueAdvantages","adv","technicalQuestions","q","question","suggestedAnswer","followUp","behavioralQuestions","_q$starFormat","_q$starFormat2","_q$starFormat3","_q$starFormat4","starFormat","situation","action","questionsToAsk","why","version","toLocaleDateString","_ref7","techs","_LAXMAN_PROFILE$skill","some","s","cultureSignals","signal","greenFlags","flag","redFlags","navigator","clipboard","writeText","err","downloadLatex","url","URL","createObjectURL","document","createElement","href","download","click","revokeObjectURL","openInOverleaf","form","appendChild","submit","removeChild","spellCheck","wrap","_ref8"],"sourceRoot":""}